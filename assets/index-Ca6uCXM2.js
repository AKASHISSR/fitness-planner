(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var Op={exports:{}},Ec={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uT;function E2(){if(uT)return Ec;uT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return Ec.Fragment=e,Ec.jsx=n,Ec.jsxs=n,Ec}var hT;function b2(){return hT||(hT=1,Op.exports=E2()),Op.exports}var h=b2(),Vp={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dT;function w2(){if(dT)return Ne;dT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function x(L){return L===null||typeof L!="object"?null:(L=T&&L[T]||L["@@iterator"],typeof L=="function"?L:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,D={};function k(L,oe,ue){this.props=L,this.context=oe,this.refs=D,this.updater=ue||w}k.prototype.isReactComponent={},k.prototype.setState=function(L,oe){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,oe,"setState")},k.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function V(){}V.prototype=k.prototype;function Q(L,oe,ue){this.props=L,this.context=oe,this.refs=D,this.updater=ue||w}var F=Q.prototype=new V;F.constructor=Q,S(F,k.prototype),F.isPureReactComponent=!0;var ne=Array.isArray,z={H:null,A:null,T:null,S:null,V:null},H=Object.prototype.hasOwnProperty;function I(L,oe,ue,Z,he,ye){return ue=ye.ref,{$$typeof:t,type:L,key:oe,ref:ue!==void 0?ue:null,props:ye}}function C(L,oe){return I(L.type,oe,void 0,void 0,void 0,L.props)}function j(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function O(L){var oe={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ue){return oe[ue]})}var U=/\/+/g;function q(L,oe){return typeof L=="object"&&L!==null&&L.key!=null?O(""+L.key):oe.toString(36)}function M(){}function st(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(M,M):(L.status="pending",L.then(function(oe){L.status==="pending"&&(L.status="fulfilled",L.value=oe)},function(oe){L.status==="pending"&&(L.status="rejected",L.reason=oe)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Ge(L,oe,ue,Z,he){var ye=typeof L;(ye==="undefined"||ye==="boolean")&&(L=null);var xe=!1;if(L===null)xe=!0;else switch(ye){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(L.$$typeof){case t:case e:xe=!0;break;case v:return xe=L._init,Ge(xe(L._payload),oe,ue,Z,he)}}if(xe)return he=he(L),xe=Z===""?"."+q(L,0):Z,ne(he)?(ue="",xe!=null&&(ue=xe.replace(U,"$&/")+"/"),Ge(he,oe,ue,"",function(Cn){return Cn})):he!=null&&(j(he)&&(he=C(he,ue+(he.key==null||L&&L.key===he.key?"":(""+he.key).replace(U,"$&/")+"/")+xe)),oe.push(he)),1;xe=0;var wt=Z===""?".":Z+":";if(ne(L))for(var Ze=0;Ze<L.length;Ze++)Z=L[Ze],ye=wt+q(Z,Ze),xe+=Ge(Z,oe,ue,ye,he);else if(Ze=x(L),typeof Ze=="function")for(L=Ze.call(L),Ze=0;!(Z=L.next()).done;)Z=Z.value,ye=wt+q(Z,Ze++),xe+=Ge(Z,oe,ue,ye,he);else if(ye==="object"){if(typeof L.then=="function")return Ge(st(L),oe,ue,Z,he);throw oe=String(L),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return xe}function ee(L,oe,ue){if(L==null)return L;var Z=[],he=0;return Ge(L,Z,"","",function(ye){return oe.call(ue,ye,he++)}),Z}function le(L){if(L._status===-1){var oe=L._result;oe=oe(),oe.then(function(ue){(L._status===0||L._status===-1)&&(L._status=1,L._result=ue)},function(ue){(L._status===0||L._status===-1)&&(L._status=2,L._result=ue)}),L._status===-1&&(L._status=0,L._result=oe)}if(L._status===1)return L._result.default;throw L._result}var fe=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function Oe(){}return Ne.Children={map:ee,forEach:function(L,oe,ue){ee(L,function(){oe.apply(this,arguments)},ue)},count:function(L){var oe=0;return ee(L,function(){oe++}),oe},toArray:function(L){return ee(L,function(oe){return oe})||[]},only:function(L){if(!j(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ne.Component=k,Ne.Fragment=n,Ne.Profiler=a,Ne.PureComponent=Q,Ne.StrictMode=s,Ne.Suspense=m,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(L){return z.H.useMemoCache(L)}},Ne.cache=function(L){return function(){return L.apply(null,arguments)}},Ne.cloneElement=function(L,oe,ue){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var Z=S({},L.props),he=L.key,ye=void 0;if(oe!=null)for(xe in oe.ref!==void 0&&(ye=void 0),oe.key!==void 0&&(he=""+oe.key),oe)!H.call(oe,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&oe.ref===void 0||(Z[xe]=oe[xe]);var xe=arguments.length-2;if(xe===1)Z.children=ue;else if(1<xe){for(var wt=Array(xe),Ze=0;Ze<xe;Ze++)wt[Ze]=arguments[Ze+2];Z.children=wt}return I(L.type,he,void 0,void 0,ye,Z)},Ne.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Ne.createElement=function(L,oe,ue){var Z,he={},ye=null;if(oe!=null)for(Z in oe.key!==void 0&&(ye=""+oe.key),oe)H.call(oe,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(he[Z]=oe[Z]);var xe=arguments.length-2;if(xe===1)he.children=ue;else if(1<xe){for(var wt=Array(xe),Ze=0;Ze<xe;Ze++)wt[Ze]=arguments[Ze+2];he.children=wt}if(L&&L.defaultProps)for(Z in xe=L.defaultProps,xe)he[Z]===void 0&&(he[Z]=xe[Z]);return I(L,ye,void 0,void 0,null,he)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(L){return{$$typeof:f,render:L}},Ne.isValidElement=j,Ne.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:le}},Ne.memo=function(L,oe){return{$$typeof:g,type:L,compare:oe===void 0?null:oe}},Ne.startTransition=function(L){var oe=z.T,ue={};z.T=ue;try{var Z=L(),he=z.S;he!==null&&he(ue,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(Oe,fe)}catch(ye){fe(ye)}finally{z.T=oe}},Ne.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},Ne.use=function(L){return z.H.use(L)},Ne.useActionState=function(L,oe,ue){return z.H.useActionState(L,oe,ue)},Ne.useCallback=function(L,oe){return z.H.useCallback(L,oe)},Ne.useContext=function(L){return z.H.useContext(L)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(L,oe){return z.H.useDeferredValue(L,oe)},Ne.useEffect=function(L,oe,ue){var Z=z.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(L,oe)},Ne.useId=function(){return z.H.useId()},Ne.useImperativeHandle=function(L,oe,ue){return z.H.useImperativeHandle(L,oe,ue)},Ne.useInsertionEffect=function(L,oe){return z.H.useInsertionEffect(L,oe)},Ne.useLayoutEffect=function(L,oe){return z.H.useLayoutEffect(L,oe)},Ne.useMemo=function(L,oe){return z.H.useMemo(L,oe)},Ne.useOptimistic=function(L,oe){return z.H.useOptimistic(L,oe)},Ne.useReducer=function(L,oe,ue){return z.H.useReducer(L,oe,ue)},Ne.useRef=function(L){return z.H.useRef(L)},Ne.useState=function(L){return z.H.useState(L)},Ne.useSyncExternalStore=function(L,oe,ue){return z.H.useSyncExternalStore(L,oe,ue)},Ne.useTransition=function(){return z.H.useTransition()},Ne.version="19.1.0",Ne}var fT;function fy(){return fT||(fT=1,Vp.exports=w2()),Vp.exports}var N=fy(),Lp={exports:{}},bc={},Up={exports:{}},Bp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mT;function S2(){return mT||(mT=1,function(t){function e(ee,le){var fe=ee.length;ee.push(le);e:for(;0<fe;){var Oe=fe-1>>>1,L=ee[Oe];if(0<a(L,le))ee[Oe]=le,ee[fe]=L,fe=Oe;else break e}}function n(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var le=ee[0],fe=ee.pop();if(fe!==le){ee[0]=fe;e:for(var Oe=0,L=ee.length,oe=L>>>1;Oe<oe;){var ue=2*(Oe+1)-1,Z=ee[ue],he=ue+1,ye=ee[he];if(0>a(Z,fe))he<L&&0>a(ye,Z)?(ee[Oe]=ye,ee[he]=fe,Oe=he):(ee[Oe]=Z,ee[ue]=fe,Oe=ue);else if(he<L&&0>a(ye,fe))ee[Oe]=ye,ee[he]=fe,Oe=he;else break e}}return le}function a(ee,le){var fe=ee.sortIndex-le.sortIndex;return fe!==0?fe:ee.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var m=[],g=[],v=1,T=null,x=3,w=!1,S=!1,D=!1,k=!1,V=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function ne(ee){for(var le=n(g);le!==null;){if(le.callback===null)s(g);else if(le.startTime<=ee)s(g),le.sortIndex=le.expirationTime,e(m,le);else break;le=n(g)}}function z(ee){if(D=!1,ne(ee),!S)if(n(m)!==null)S=!0,H||(H=!0,q());else{var le=n(g);le!==null&&Ge(z,le.startTime-ee)}}var H=!1,I=-1,C=5,j=-1;function O(){return k?!0:!(t.unstable_now()-j<C)}function U(){if(k=!1,H){var ee=t.unstable_now();j=ee;var le=!0;try{e:{S=!1,D&&(D=!1,Q(I),I=-1),w=!0;var fe=x;try{t:{for(ne(ee),T=n(m);T!==null&&!(T.expirationTime>ee&&O());){var Oe=T.callback;if(typeof Oe=="function"){T.callback=null,x=T.priorityLevel;var L=Oe(T.expirationTime<=ee);if(ee=t.unstable_now(),typeof L=="function"){T.callback=L,ne(ee),le=!0;break t}T===n(m)&&s(m),ne(ee)}else s(m);T=n(m)}if(T!==null)le=!0;else{var oe=n(g);oe!==null&&Ge(z,oe.startTime-ee),le=!1}}break e}finally{T=null,x=fe,w=!1}le=void 0}}finally{le?q():H=!1}}}var q;if(typeof F=="function")q=function(){F(U)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,st=M.port2;M.port1.onmessage=U,q=function(){st.postMessage(null)}}else q=function(){V(U,0)};function Ge(ee,le){I=V(function(){ee(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(ee){switch(x){case 1:case 2:case 3:var le=3;break;default:le=x}var fe=x;x=le;try{return ee()}finally{x=fe}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(ee,le){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var fe=x;x=ee;try{return le()}finally{x=fe}},t.unstable_scheduleCallback=function(ee,le,fe){var Oe=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Oe+fe:Oe):fe=Oe,ee){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=fe+L,ee={id:v++,callback:le,priorityLevel:ee,startTime:fe,expirationTime:L,sortIndex:-1},fe>Oe?(ee.sortIndex=fe,e(g,ee),n(m)===null&&ee===n(g)&&(D?(Q(I),I=-1):D=!0,Ge(z,fe-Oe))):(ee.sortIndex=L,e(m,ee),S||w||(S=!0,H||(H=!0,q()))),ee},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(ee){var le=x;return function(){var fe=x;x=le;try{return ee.apply(this,arguments)}finally{x=fe}}}}(Bp)),Bp}var pT;function A2(){return pT||(pT=1,Up.exports=S2()),Up.exports}var zp={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gT;function C2(){if(gT)return sn;gT=1;var t=fy();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:m,containerInfo:g,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,sn.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,v)},sn.flushSync=function(m){var g=u.T,v=s.p;try{if(u.T=null,s.p=2,m)return m()}finally{u.T=g,s.p=v,s.d.f()}},sn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},sn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},sn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,T=f(v,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:x,fetchPriority:w}):v==="script"&&s.d.X(m,{crossOrigin:T,integrity:x,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},sn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=f(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},sn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=f(v,g.crossOrigin);s.d.L(m,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},sn.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=f(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},sn.requestFormReset=function(m){s.d.r(m)},sn.unstable_batchedUpdates=function(m,g){return m(g)},sn.useFormState=function(m,g,v){return u.H.useFormState(m,g,v)},sn.useFormStatus=function(){return u.H.useHostTransitionStatus()},sn.version="19.1.0",sn}var yT;function R2(){if(yT)return zp.exports;yT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zp.exports=C2(),zp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vT;function N2(){if(vT)return bc;vT=1;var t=A2(),e=fy(),n=R2();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var p=o.return;if(p===null)break;var y=p.alternate;if(y===null){if(c=p.return,c!==null){o=c;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===o)return f(p),i;if(y===c)return f(p),r;y=y.sibling}throw Error(s(188))}if(o.return!==c.return)o=p,c=y;else{for(var b=!1,A=p.child;A;){if(A===o){b=!0,o=p,c=y;break}if(A===c){b=!0,c=p,o=y;break}A=A.sibling}if(!b){for(A=y.child;A;){if(A===o){b=!0,o=y,c=p;break}if(A===c){b=!0,c=y,o=p;break}A=A.sibling}if(!b)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function g(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=g(i),r!==null)return r;i=i.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),F=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function q(i){return i===null||typeof i!="object"?null:(i=U&&i[U]||i["@@iterator"],typeof i=="function"?i:null)}var M=Symbol.for("react.client.reference");function st(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===M?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case k:return"Profiler";case D:return"StrictMode";case z:return"Suspense";case H:return"SuspenseList";case j:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case F:return(i.displayName||"Context")+".Provider";case Q:return(i._context.displayName||"Context")+".Consumer";case ne:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return r=i.displayName||null,r!==null?r:st(i.type)||"Memo";case C:r=i._payload,i=i._init;try{return st(i(r))}catch{}}return null}var Ge=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Oe=[],L=-1;function oe(i){return{current:i}}function ue(i){0>L||(i.current=Oe[L],Oe[L]=null,L--)}function Z(i,r){L++,Oe[L]=i.current,i.current=r}var he=oe(null),ye=oe(null),xe=oe(null),wt=oe(null);function Ze(i,r){switch(Z(xe,r),Z(ye,i),Z(he,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?L1(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=L1(r),i=U1(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ue(he),Z(he,i)}function Cn(){ue(he),ue(ye),ue(xe)}function $e(i){i.memoizedState!==null&&Z(wt,i);var r=he.current,o=U1(r,i.type);r!==o&&(Z(ye,i),Z(he,o))}function hn(i){ye.current===i&&(ue(he),ue(ye)),wt.current===i&&(ue(wt),yc._currentValue=fe)}var _n=Object.prototype.hasOwnProperty,kr=t.unstable_scheduleCallback,Mr=t.unstable_cancelCallback,ml=t.unstable_shouldYield,Nu=t.unstable_requestPaint,Bn=t.unstable_now,Of=t.unstable_getCurrentPriorityLevel,pl=t.unstable_ImmediatePriority,La=t.unstable_UserBlockingPriority,Pr=t.unstable_NormalPriority,Vf=t.unstable_LowPriority,Ua=t.unstable_IdlePriority,gl=t.log,Iu=t.unstable_setDisableYieldValue,pt=null,Qe=null;function Rn(i){if(typeof gl=="function"&&Iu(i),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(pt,i)}catch{}}var tn=Math.clz32?Math.clz32:Or,ju=Math.log,Lf=Math.LN2;function Or(i){return i>>>=0,i===0?32:31-(ju(i)/Lf|0)|0}var Vr=256,Lr=4194304;function ai(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ba(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var p=0,y=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var A=c&134217727;return A!==0?(c=A&~y,c!==0?p=ai(c):(b&=A,b!==0?p=ai(b):o||(o=A&~i,o!==0&&(p=ai(o))))):(A=c&~y,A!==0?p=ai(A):b!==0?p=ai(b):o||(o=c&~i,o!==0&&(p=ai(o)))),p===0?0:r!==0&&r!==p&&(r&y)===0&&(y=p&-p,o=r&-r,y>=o||y===32&&(o&4194048)!==0)?r:p}function Ur(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function yl(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vl(){var i=Vr;return Vr<<=1,(Vr&4194048)===0&&(Vr=256),i}function _l(){var i=Lr;return Lr<<=1,(Lr&62914560)===0&&(Lr=4194304),i}function Xi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Wi(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Tl(i,r,o,c,p,y){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,P=i.expirationTimes,Y=i.hiddenUpdates;for(o=b&~o;0<o;){var te=31-tn(o),re=1<<te;A[te]=0,P[te]=-1;var X=Y[te];if(X!==null)for(Y[te]=null,te=0;te<X.length;te++){var W=X[te];W!==null&&(W.lane&=-536870913)}o&=~re}c!==0&&Ti(i,c,0),y!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=y&~(b&~r))}function Ti(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-tn(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&4194090}function xl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-tn(o),p=1<<c;p&r|i[c]&r&&(i[c]|=r),o&=~p}}function ks(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function za(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ms(){var i=le.p;return i!==0?i:(i=window.event,i===void 0?32:sT(i.type))}function Du(i,r){var o=le.p;try{return le.p=i,r()}finally{le.p=o}}var lt=Math.random().toString(36).slice(2),Dt="__reactFiber$"+lt,St="__reactProps$"+lt,zn="__reactContainer$"+lt,El="__reactEvents$"+lt,Uf="__reactListeners$"+lt,Ps="__reactHandles$"+lt,ku="__reactResources$"+lt,Br="__reactMarker$"+lt;function Os(i){delete i[Dt],delete i[St],delete i[El],delete i[Uf],delete i[Ps]}function Zi(i){var r=i[Dt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[zn]||o[Dt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=H1(i);i!==null;){if(o=i[Dt])return o;i=H1(i)}return r}i=o,o=i.parentNode}return null}function xi(i){if(i=i[Dt]||i[zn]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function Ei(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function dn(i){var r=i[ku];return r||(r=i[ku]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function _t(i){i[Br]=!0}var bl=new Set,Fa={};function oi(i,r){Ji(i,r),Ji(i+"Capture",r)}function Ji(i,r){for(Fa[i]=r,i=0;i<r.length;i++)bl.add(r[i])}var Mu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pu={},zr={};function Ou(i){return _n.call(zr,i)?!0:_n.call(Pu,i)?!1:Mu.test(i)?zr[i]=!0:(Pu[i]=!0,!1)}function Vs(i,r,o){if(Ou(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function bi(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function qt(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}var Fr,Vu;function es(i){if(Fr===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Fr=r&&r[1]||"",Vu=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fr+i+Vu}var Ha=!1;function qa(i,r){if(!i||Ha)return"";Ha=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(W){var X=W}Reflect.construct(i,[],re)}else{try{re.call()}catch(W){X=W}i.call(re.prototype)}}else{try{throw Error()}catch(W){X=W}(re=i())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(W){if(W&&X&&typeof W.stack=="string")return[W.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),b=y[0],A=y[1];if(b&&A){var P=b.split(`
`),Y=A.split(`
`);for(p=c=0;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;for(;p<Y.length&&!Y[p].includes("DetermineComponentFrameRoot");)p++;if(c===P.length||p===Y.length)for(c=P.length-1,p=Y.length-1;1<=c&&0<=p&&P[c]!==Y[p];)p--;for(;1<=c&&0<=p;c--,p--)if(P[c]!==Y[p]){if(c!==1||p!==1)do if(c--,p--,0>p||P[c]!==Y[p]){var te=`
`+P[c].replace(" at new "," at ");return i.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",i.displayName)),te}while(1<=c&&0<=p);break}}}finally{Ha=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?es(o):""}function wl(i){switch(i.tag){case 26:case 27:case 5:return es(i.type);case 16:return es("Lazy");case 13:return es("Suspense");case 19:return es("SuspenseList");case 0:case 15:return qa(i.type,!1);case 11:return qa(i.type.render,!1);case 1:return qa(i.type,!0);case 31:return es("Activity");default:return""}}function Ga(i){try{var r="";do r+=wl(i),i=i.return;while(i);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function fn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Sl(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Bf(i){var r=Sl(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),c=""+i[r];if(!i.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var p=o.get,y=o.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return p.call(this)},set:function(b){c=""+b,y.call(this,b)}}),Object.defineProperty(i,r,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(b){c=""+b},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function $a(i){i._valueTracker||(i._valueTracker=Bf(i))}function Al(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=Sl(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function Hr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var zf=/[\n"\\]/g;function At(i){return i.replace(zf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Nn(i,r,o,c,p,y,b,A){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),r!=null?b==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+fn(r)):i.value!==""+fn(r)&&(i.value=""+fn(r)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),r!=null?Ls(i,b,fn(r)):o!=null?Ls(i,b,fn(o)):c!=null&&i.removeAttribute("value"),p==null&&y!=null&&(i.defaultChecked=!!y),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+fn(A):i.removeAttribute("name")}function qr(i,r,o,c,p,y,b,A){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),r!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||r!=null))return;o=o!=null?""+fn(o):"",r=r!=null?""+fn(r):o,A||r===i.value||(i.value=r),i.defaultValue=r}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=A?i.checked:!!c,i.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b)}function Ls(i,r,o){r==="number"&&Hr(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function ts(i,r,o,c){if(i=i.options,r){r={};for(var p=0;p<o.length;p++)r["$"+o[p]]=!0;for(o=0;o<i.length;o++)p=r.hasOwnProperty("$"+i[o].value),i[o].selected!==p&&(i[o].selected=p),p&&c&&(i[o].defaultSelected=!0)}else{for(o=""+fn(o),r=null,p=0;p<i.length;p++){if(i[p].value===o){i[p].selected=!0,c&&(i[p].defaultSelected=!0);return}r!==null||i[p].disabled||(r=i[p])}r!==null&&(r.selected=!0)}}function Je(i,r,o){if(r!=null&&(r=""+fn(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+fn(o):""}function Gr(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(Ge(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=fn(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c)}function Fn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var $r=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lu(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||$r.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Cl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var p in r)c=r[p],r.hasOwnProperty(p)&&o[p]!==c&&Lu(i,p,c)}else for(var y in r)r.hasOwnProperty(y)&&Lu(i,y,r[y])}function Rl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ff=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ka(i){return Hf.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var ns=null;function Hn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var is=null,ss=null;function Nl(i){var r=xi(i);if(r&&(i=r.stateNode)){var o=i[St]||null;e:switch(i=r.stateNode,r.type){case"input":if(Nn(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+At(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var p=c[St]||null;if(!p)throw Error(s(90));Nn(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&Al(c)}break e;case"textarea":Je(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&ts(i,!!o.multiple,r,!1)}}}var wi=!1;function Uu(i,r,o){if(wi)return i(r,o);wi=!0;try{var c=i(r);return c}finally{if(wi=!1,(is!==null||ss!==null)&&(Dh(),is&&(r=is,i=ss,ss=is=null,Nl(r),i)))for(r=0;r<i.length;r++)Nl(i[r])}}function Kr(i,r){var o=i.stateNode;if(o===null)return null;var c=o[St]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qn=!1;if(li)try{var Yr={};Object.defineProperty(Yr,"passive",{get:function(){qn=!0}}),window.addEventListener("test",Yr,Yr),window.removeEventListener("test",Yr,Yr)}catch{qn=!1}var Si=null,Us=null,rs=null;function Il(){if(rs)return rs;var i,r=Us,o=r.length,c,p="value"in Si?Si.value:Si.textContent,y=p.length;for(i=0;i<o&&r[i]===p[i];i++);var b=o-i;for(c=1;c<=b&&r[o-c]===p[y-c];c++);return rs=p.slice(i,1<c?1-c:void 0)}function Ai(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Ci(){return!0}function jl(){return!1}function Lt(i){function r(o,c,p,y,b){this._reactName=o,this._targetInst=p,this.type=c,this.nativeEvent=y,this.target=b,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ci:jl,this.isPropagationStopped=jl,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ci)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ci)},persist:function(){},isPersistent:Ci}),r}var Ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ya=Lt(Ke),Qr=v({},Ke,{view:0,detail:0}),Bu=Lt(Qr),Qa,Xa,Ri,Xr=v({},Qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ri&&(Ri&&i.type==="mousemove"?(Qa=i.screenX-Ri.screenX,Xa=i.screenY-Ri.screenY):Xa=Qa=0,Ri=i),Qa)},movementY:function(i){return"movementY"in i?i.movementY:Xa}}),Gn=Lt(Xr),zu=v({},Xr,{dataTransfer:0}),qf=Lt(zu),Wr=v({},Qr,{relatedTarget:0}),Wa=Lt(Wr),Dl=v({},Ke,{animationName:0,elapsedTime:0,pseudoElement:0}),Za=Lt(Dl),Fu=v({},Ke,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ja=Lt(Fu),Gf=v({},Ke,{data:0}),kl=Lt(Gf),Zr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ml(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=qu[i])?!!r[i]:!1}function Jr(){return Ml}var Gu=v({},Qr,{key:function(i){if(i.key){var r=Zr[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Ai(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Hu[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jr,charCode:function(i){return i.type==="keypress"?Ai(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ai(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),eo=Lt(Gu),$u=v({},Xr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pl=Lt($u),as=v({},Qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jr}),Ku=Lt(as),Yu=v({},Ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qu=Lt(Yu),Xu=v({},Xr,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),to=Lt(Xu),mn=v({},Ke,{newState:0,oldState:0}),Wu=Lt(mn),Zu=[9,13,27,32],Ni=li&&"CompositionEvent"in window,d=null;li&&"documentMode"in document&&(d=document.documentMode);var _=li&&"TextEvent"in window&&!d,E=li&&(!Ni||d&&8<d&&11>=d),R=" ",$=!1;function J(i,r){switch(i){case"keyup":return Zu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ue=!1;function kt(i,r){switch(i){case"compositionend":return ce(r);case"keypress":return r.which!==32?null:($=!0,R);case"textInput":return i=r.data,i===R&&$?null:i;default:return null}}function Be(i,r){if(Ue)return i==="compositionend"||!Ni&&J(i,r)?(i=Il(),rs=Us=Si=null,Ue=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return E&&r.locale!=="ko"?null:r.data;default:return null}}var Ut={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mt(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Ut[i.type]:r==="textarea"}function os(i,r,o,c){is?ss?ss.push(c):ss=[c]:is=c,r=Lh(r,"onChange"),0<r.length&&(o=new Ya("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var Gt=null,Ii=null;function Ol(i){k1(i,0)}function Ju(i){var r=Ei(i);if(Al(r))return i}function e0(i,r){if(i==="change")return r}var t0=!1;if(li){var $f;if(li){var Kf="oninput"in document;if(!Kf){var n0=document.createElement("div");n0.setAttribute("oninput","return;"),Kf=typeof n0.oninput=="function"}$f=Kf}else $f=!1;t0=$f&&(!document.documentMode||9<document.documentMode)}function i0(){Gt&&(Gt.detachEvent("onpropertychange",s0),Ii=Gt=null)}function s0(i){if(i.propertyName==="value"&&Ju(Ii)){var r=[];os(r,Ii,i,Hn(i)),Uu(Ol,r)}}function ZC(i,r,o){i==="focusin"?(i0(),Gt=r,Ii=o,Gt.attachEvent("onpropertychange",s0)):i==="focusout"&&i0()}function JC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ju(Ii)}function eR(i,r){if(i==="click")return Ju(r)}function tR(i,r){if(i==="input"||i==="change")return Ju(r)}function nR(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var In=typeof Object.is=="function"?Object.is:nR;function Vl(i,r){if(In(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var p=o[c];if(!_n.call(r,p)||!In(i[p],r[p]))return!1}return!0}function r0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function a0(i,r){var o=r0(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=r0(o)}}function o0(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?o0(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function l0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Hr(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Hr(i.document)}return r}function Yf(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var iR=li&&"documentMode"in document&&11>=document.documentMode,no=null,Qf=null,Ll=null,Xf=!1;function c0(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Xf||no==null||no!==Hr(c)||(c=no,"selectionStart"in c&&Yf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ll&&Vl(Ll,c)||(Ll=c,c=Lh(Qf,"onSelect"),0<c.length&&(r=new Ya("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=no)))}function ea(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var io={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},Wf={},u0={};li&&(u0=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function ta(i){if(Wf[i])return Wf[i];if(!io[i])return i;var r=io[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in u0)return Wf[i]=r[o];return i}var h0=ta("animationend"),d0=ta("animationiteration"),f0=ta("animationstart"),sR=ta("transitionrun"),rR=ta("transitionstart"),aR=ta("transitioncancel"),m0=ta("transitionend"),p0=new Map,Zf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zf.push("scrollEnd");function ci(i,r){p0.set(i,r),oi(r,[i])}var g0=new WeakMap;function $n(i,r){if(typeof i=="object"&&i!==null){var o=g0.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Ga(r)},g0.set(i,r),r)}return{value:i,source:r,stack:Ga(r)}}var Kn=[],so=0,Jf=0;function eh(){for(var i=so,r=Jf=so=0;r<i;){var o=Kn[r];Kn[r++]=null;var c=Kn[r];Kn[r++]=null;var p=Kn[r];Kn[r++]=null;var y=Kn[r];if(Kn[r++]=null,c!==null&&p!==null){var b=c.pending;b===null?p.next=p:(p.next=b.next,b.next=p),c.pending=p}y!==0&&y0(o,p,y)}}function th(i,r,o,c){Kn[so++]=i,Kn[so++]=r,Kn[so++]=o,Kn[so++]=c,Jf|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function em(i,r,o,c){return th(i,r,o,c),nh(i)}function ro(i,r){return th(i,null,null,r),nh(i)}function y0(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var p=!1,y=i.return;y!==null;)y.childLanes|=o,c=y.alternate,c!==null&&(c.childLanes|=o),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(p=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,p&&r!==null&&(p=31-tn(o),i=y.hiddenUpdates,c=i[p],c===null?i[p]=[r]:c.push(r),r.lane=o|536870912),y):null}function nh(i){if(50<cc)throw cc=0,ap=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var ao={};function oR(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(i,r,o,c){return new oR(i,r,o,c)}function tm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ls(i,r){var o=i.alternate;return o===null?(o=jn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function v0(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function ih(i,r,o,c,p,y){var b=0;if(c=i,typeof i=="function")tm(i)&&(b=1);else if(typeof i=="string")b=c2(i,o,he.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case j:return i=jn(31,o,r,p),i.elementType=j,i.lanes=y,i;case S:return na(o.children,p,y,r);case D:b=8,p|=24;break;case k:return i=jn(12,o,r,p|2),i.elementType=k,i.lanes=y,i;case z:return i=jn(13,o,r,p),i.elementType=z,i.lanes=y,i;case H:return i=jn(19,o,r,p),i.elementType=H,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:case F:b=10;break e;case Q:b=9;break e;case ne:b=11;break e;case I:b=14;break e;case C:b=16,c=null;break e}b=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=jn(b,o,r,p),r.elementType=i,r.type=c,r.lanes=y,r}function na(i,r,o,c){return i=jn(7,i,c,r),i.lanes=o,i}function nm(i,r,o){return i=jn(6,i,null,r),i.lanes=o,i}function im(i,r,o){return r=jn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var oo=[],lo=0,sh=null,rh=0,Yn=[],Qn=0,ia=null,cs=1,us="";function sa(i,r){oo[lo++]=rh,oo[lo++]=sh,sh=i,rh=r}function _0(i,r,o){Yn[Qn++]=cs,Yn[Qn++]=us,Yn[Qn++]=ia,ia=i;var c=cs;i=us;var p=32-tn(c)-1;c&=~(1<<p),o+=1;var y=32-tn(r)+p;if(30<y){var b=p-p%5;y=(c&(1<<b)-1).toString(32),c>>=b,p-=b,cs=1<<32-tn(r)+p|o<<p|c,us=y+i}else cs=1<<y|o<<p|c,us=i}function sm(i){i.return!==null&&(sa(i,1),_0(i,1,0))}function rm(i){for(;i===sh;)sh=oo[--lo],oo[lo]=null,rh=oo[--lo],oo[lo]=null;for(;i===ia;)ia=Yn[--Qn],Yn[Qn]=null,us=Yn[--Qn],Yn[Qn]=null,cs=Yn[--Qn],Yn[Qn]=null}var pn=null,gt=null,qe=!1,ra=null,ji=!1,am=Error(s(519));function aa(i){var r=Error(s(418,""));throw zl($n(r,i)),am}function T0(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[Dt]=i,r[St]=c,o){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(o=0;o<hc.length;o++)Pe(hc[o],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Pe("invalid",r),qr(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),$a(r);break;case"select":Pe("invalid",r);break;case"textarea":Pe("invalid",r),Gr(r,c.value,c.defaultValue,c.children),$a(r)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||V1(r.textContent,o)?(c.popover!=null&&(Pe("beforetoggle",r),Pe("toggle",r)),c.onScroll!=null&&Pe("scroll",r),c.onScrollEnd!=null&&Pe("scrollend",r),c.onClick!=null&&(r.onclick=Uh),r=!0):r=!1,r||aa(i)}function x0(i){for(pn=i.return;pn;)switch(pn.tag){case 5:case 13:ji=!1;return;case 27:case 3:ji=!0;return;default:pn=pn.return}}function Ul(i){if(i!==pn)return!1;if(!qe)return x0(i),qe=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Ep(i.type,i.memoizedProps)),o=!o),o&&gt&&aa(i),x0(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));e:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(r===0){gt=hi(i.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;i=i.nextSibling}gt=null}}else r===27?(r=gt,tr(i.type)?(i=Ap,Ap=null,gt=i):gt=r):gt=pn?hi(i.stateNode.nextSibling):null;return!0}function Bl(){gt=pn=null,qe=!1}function E0(){var i=ra;return i!==null&&(En===null?En=i:En.push.apply(En,i),ra=null),i}function zl(i){ra===null?ra=[i]:ra.push(i)}var om=oe(null),oa=null,hs=null;function Bs(i,r,o){Z(om,r._currentValue),r._currentValue=o}function ds(i){i._currentValue=om.current,ue(om)}function lm(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function cm(i,r,o,c){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var y=p.dependencies;if(y!==null){var b=p.child;y=y.firstContext;e:for(;y!==null;){var A=y;y=p;for(var P=0;P<r.length;P++)if(A.context===r[P]){y.lanes|=o,A=y.alternate,A!==null&&(A.lanes|=o),lm(y.return,o,i),c||(b=null);break e}y=A.next}}else if(p.tag===18){if(b=p.return,b===null)throw Error(s(341));b.lanes|=o,y=b.alternate,y!==null&&(y.lanes|=o),lm(b,o,i),b=null}else b=p.child;if(b!==null)b.return=p;else for(b=p;b!==null;){if(b===i){b=null;break}if(p=b.sibling,p!==null){p.return=b.return,b=p;break}b=b.return}p=b}}function Fl(i,r,o,c){i=null;for(var p=r,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var b=p.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var A=p.type;In(p.pendingProps.value,b.value)||(i!==null?i.push(A):i=[A])}}else if(p===wt.current){if(b=p.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(yc):i=[yc])}p=p.return}i!==null&&cm(r,i,o,c),r.flags|=262144}function ah(i){for(i=i.firstContext;i!==null;){if(!In(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function la(i){oa=i,hs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function nn(i){return b0(oa,i)}function oh(i,r){return oa===null&&la(i),b0(i,r)}function b0(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},hs===null){if(i===null)throw Error(s(308));hs=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else hs=hs.next=r;return o}var lR=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},cR=t.unstable_scheduleCallback,uR=t.unstable_NormalPriority,Pt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function um(){return{controller:new lR,data:new Map,refCount:0}}function Hl(i){i.refCount--,i.refCount===0&&cR(uR,function(){i.controller.abort()})}var ql=null,hm=0,co=0,uo=null;function hR(i,r){if(ql===null){var o=ql=[];hm=0,co=fp(),uo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return hm++,r.then(w0,w0),r}function w0(){if(--hm===0&&ql!==null){uo!==null&&(uo.status="fulfilled");var i=ql;ql=null,co=0,uo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function dR(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var p=0;p<o.length;p++)(0,o[p])(r)},function(p){for(c.status="rejected",c.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),c}var S0=ee.S;ee.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&hR(i,r),S0!==null&&S0(i,r)};var ca=oe(null);function dm(){var i=ca.current;return i!==null?i:at.pooledCache}function lh(i,r){r===null?Z(ca,ca.current):Z(ca,r.pool)}function A0(){var i=dm();return i===null?null:{parent:Pt._currentValue,pool:i}}var Gl=Error(s(460)),C0=Error(s(474)),ch=Error(s(542)),fm={then:function(){}};function R0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function uh(){}function N0(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(uh,uh),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,j0(i),i;default:if(typeof r.status=="string")r.then(uh,uh);else{if(i=at,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=c}},function(c){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,j0(i),i}throw $l=r,Gl}}var $l=null;function I0(){if($l===null)throw Error(s(459));var i=$l;return $l=null,i}function j0(i){if(i===Gl||i===ch)throw Error(s(483))}var zs=!1;function mm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Fs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Hs(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Xe&2)!==0){var p=c.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),c.pending=r,r=nh(i),y0(i,null,o),r}return th(i,c,r,o),nh(i)}function Kl(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,xl(i,o)}}function gm(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var p=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?p=y=b:y=y.next=b,o=o.next}while(o!==null);y===null?p=y=r:y=y.next=r}else p=y=r;o={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var ym=!1;function Yl(){if(ym){var i=uo;if(i!==null)throw i}}function Ql(i,r,o,c){ym=!1;var p=i.updateQueue;zs=!1;var y=p.firstBaseUpdate,b=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var P=A,Y=P.next;P.next=null,b===null?y=Y:b.next=Y,b=P;var te=i.alternate;te!==null&&(te=te.updateQueue,A=te.lastBaseUpdate,A!==b&&(A===null?te.firstBaseUpdate=Y:A.next=Y,te.lastBaseUpdate=P))}if(y!==null){var re=p.baseState;b=0,te=Y=P=null,A=y;do{var X=A.lane&-536870913,W=X!==A.lane;if(W?(ze&X)===X:(c&X)===X){X!==0&&X===co&&(ym=!0),te!==null&&(te=te.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Se=i,Te=A;X=r;var nt=o;switch(Te.tag){case 1:if(Se=Te.payload,typeof Se=="function"){re=Se.call(nt,re,X);break e}re=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Te.payload,X=typeof Se=="function"?Se.call(nt,re,X):Se,X==null)break e;re=v({},re,X);break e;case 2:zs=!0}}X=A.callback,X!==null&&(i.flags|=64,W&&(i.flags|=8192),W=p.callbacks,W===null?p.callbacks=[X]:W.push(X))}else W={lane:X,tag:A.tag,payload:A.payload,callback:A.callback,next:null},te===null?(Y=te=W,P=re):te=te.next=W,b|=X;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;W=A,A=W.next,W.next=null,p.lastBaseUpdate=W,p.shared.pending=null}}while(!0);te===null&&(P=re),p.baseState=P,p.firstBaseUpdate=Y,p.lastBaseUpdate=te,y===null&&(p.shared.lanes=0),Ws|=b,i.lanes=b,i.memoizedState=re}}function D0(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function k0(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)D0(o[i],r)}var ho=oe(null),hh=oe(0);function M0(i,r){i=_s,Z(hh,i),Z(ho,r),_s=i|r.baseLanes}function vm(){Z(hh,_s),Z(ho,ho.current)}function _m(){_s=hh.current,ue(ho),ue(hh)}var qs=0,Ie=null,et=null,Ct=null,dh=!1,fo=!1,ua=!1,fh=0,Xl=0,mo=null,fR=0;function Tt(){throw Error(s(321))}function Tm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!In(i[o],r[o]))return!1;return!0}function xm(i,r,o,c,p,y){return qs=y,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ee.H=i===null||i.memoizedState===null?y_:v_,ua=!1,y=o(c,p),ua=!1,fo&&(y=O0(r,o,c,p)),P0(i),y}function P0(i){ee.H=_h;var r=et!==null&&et.next!==null;if(qs=0,Ct=et=Ie=null,dh=!1,Xl=0,mo=null,r)throw Error(s(300));i===null||Bt||(i=i.dependencies,i!==null&&ah(i)&&(Bt=!0))}function O0(i,r,o,c){Ie=i;var p=0;do{if(fo&&(mo=null),Xl=0,fo=!1,25<=p)throw Error(s(301));if(p+=1,Ct=et=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}ee.H=TR,y=r(o,c)}while(fo);return y}function mR(){var i=ee.H,r=i.useState()[0];return r=typeof r.then=="function"?Wl(r):r,i=i.useState()[0],(et!==null?et.memoizedState:null)!==i&&(Ie.flags|=1024),r}function Em(){var i=fh!==0;return fh=0,i}function bm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function wm(i){if(dh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}dh=!1}qs=0,Ct=et=Ie=null,fo=!1,Xl=fh=0,mo=null}function Tn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ie.memoizedState=Ct=i:Ct=Ct.next=i,Ct}function Rt(){if(et===null){var i=Ie.alternate;i=i!==null?i.memoizedState:null}else i=et.next;var r=Ct===null?Ie.memoizedState:Ct.next;if(r!==null)Ct=r,et=i;else{if(i===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));et=i,i={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Ct===null?Ie.memoizedState=Ct=i:Ct=Ct.next=i}return Ct}function Sm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wl(i){var r=Xl;return Xl+=1,mo===null&&(mo=[]),i=N0(mo,i,r),r=Ie,(Ct===null?r.memoizedState:Ct.next)===null&&(r=r.alternate,ee.H=r===null||r.memoizedState===null?y_:v_),i}function mh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Wl(i);if(i.$$typeof===F)return nn(i)}throw Error(s(438,String(i)))}function Am(i){var r=null,o=Ie.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Ie.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Sm(),Ie.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=O;return r.index++,o}function fs(i,r){return typeof r=="function"?r(i):r}function ph(i){var r=Rt();return Cm(r,et,i)}function Cm(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var p=i.baseQueue,y=c.pending;if(y!==null){if(p!==null){var b=p.next;p.next=y.next,y.next=b}r.baseQueue=p=y,c.pending=null}if(y=i.baseState,p===null)i.memoizedState=y;else{r=p.next;var A=b=null,P=null,Y=r,te=!1;do{var re=Y.lane&-536870913;if(re!==Y.lane?(ze&re)===re:(qs&re)===re){var X=Y.revertLane;if(X===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),re===co&&(te=!0);else if((qs&X)===X){Y=Y.next,X===co&&(te=!0);continue}else re={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},P===null?(A=P=re,b=y):P=P.next=re,Ie.lanes|=X,Ws|=X;re=Y.action,ua&&o(y,re),y=Y.hasEagerState?Y.eagerState:o(y,re)}else X={lane:re,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},P===null?(A=P=X,b=y):P=P.next=X,Ie.lanes|=re,Ws|=re;Y=Y.next}while(Y!==null&&Y!==r);if(P===null?b=y:P.next=A,!In(y,i.memoizedState)&&(Bt=!0,te&&(o=uo,o!==null)))throw o;i.memoizedState=y,i.baseState=b,i.baseQueue=P,c.lastRenderedState=y}return p===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Rm(i){var r=Rt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,p=o.pending,y=r.memoizedState;if(p!==null){o.pending=null;var b=p=p.next;do y=i(y,b.action),b=b.next;while(b!==p);In(y,r.memoizedState)||(Bt=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),o.lastRenderedState=y}return[y,c]}function V0(i,r,o){var c=Ie,p=Rt(),y=qe;if(y){if(o===void 0)throw Error(s(407));o=o()}else o=r();var b=!In((et||p).memoizedState,o);b&&(p.memoizedState=o,Bt=!0),p=p.queue;var A=B0.bind(null,c,p,i);if(Zl(2048,8,A,[i]),p.getSnapshot!==r||b||Ct!==null&&Ct.memoizedState.tag&1){if(c.flags|=2048,po(9,gh(),U0.bind(null,c,p,o,r),null),at===null)throw Error(s(349));y||(qs&124)!==0||L0(c,r,o)}return o}function L0(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ie.updateQueue,r===null?(r=Sm(),Ie.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function U0(i,r,o,c){r.value=o,r.getSnapshot=c,z0(r)&&F0(i)}function B0(i,r,o){return o(function(){z0(r)&&F0(i)})}function z0(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!In(i,o)}catch{return!0}}function F0(i){var r=ro(i,2);r!==null&&On(r,i,2)}function Nm(i){var r=Tn();if(typeof i=="function"){var o=i;if(i=o(),ua){Rn(!0);try{o()}finally{Rn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:i},r}function H0(i,r,o,c){return i.baseState=o,Cm(i,et,typeof c=="function"?c:fs)}function pR(i,r,o,c,p){if(vh(i))throw Error(s(485));if(i=r.action,i!==null){var y={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){y.listeners.push(b)}};ee.T!==null?o(!0):y.isTransition=!1,c(y),o=r.pending,o===null?(y.next=r.pending=y,q0(r,y)):(y.next=o.next,r.pending=o.next=y)}}function q0(i,r){var o=r.action,c=r.payload,p=i.state;if(r.isTransition){var y=ee.T,b={};ee.T=b;try{var A=o(p,c),P=ee.S;P!==null&&P(b,A),G0(i,r,A)}catch(Y){Im(i,r,Y)}finally{ee.T=y}}else try{y=o(p,c),G0(i,r,y)}catch(Y){Im(i,r,Y)}}function G0(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){$0(i,r,c)},function(c){return Im(i,r,c)}):$0(i,r,o)}function $0(i,r,o){r.status="fulfilled",r.value=o,K0(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,q0(i,o)))}function Im(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,K0(r),r=r.next;while(r!==c)}i.action=null}function K0(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Y0(i,r){return r}function Q0(i,r){if(qe){var o=at.formState;if(o!==null){e:{var c=Ie;if(qe){if(gt){t:{for(var p=gt,y=ji;p.nodeType!==8;){if(!y){p=null;break t}if(p=hi(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){gt=hi(p.nextSibling),c=p.data==="F!";break e}}aa(c)}c=!1}c&&(r=o[0])}}return o=Tn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Y0,lastRenderedState:r},o.queue=c,o=m_.bind(null,Ie,c),c.dispatch=o,c=Nm(!1),y=Pm.bind(null,Ie,!1,c.queue),c=Tn(),p={state:r,dispatch:null,action:i,pending:null},c.queue=p,o=pR.bind(null,Ie,p,y,o),p.dispatch=o,c.memoizedState=i,[r,o,!1]}function X0(i){var r=Rt();return W0(r,et,i)}function W0(i,r,o){if(r=Cm(i,r,Y0)[0],i=ph(fs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Wl(r)}catch(b){throw b===Gl?ch:b}else c=r;r=Rt();var p=r.queue,y=p.dispatch;return o!==r.memoizedState&&(Ie.flags|=2048,po(9,gh(),gR.bind(null,p,o),null)),[c,y,i]}function gR(i,r){i.action=r}function Z0(i){var r=Rt(),o=et;if(o!==null)return W0(r,o,i);Rt(),r=r.memoizedState,o=Rt();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function po(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=Ie.updateQueue,r===null&&(r=Sm(),Ie.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function gh(){return{destroy:void 0,resource:void 0}}function J0(){return Rt().memoizedState}function yh(i,r,o,c){var p=Tn();c=c===void 0?null:c,Ie.flags|=i,p.memoizedState=po(1|r,gh(),o,c)}function Zl(i,r,o,c){var p=Rt();c=c===void 0?null:c;var y=p.memoizedState.inst;et!==null&&c!==null&&Tm(c,et.memoizedState.deps)?p.memoizedState=po(r,y,o,c):(Ie.flags|=i,p.memoizedState=po(1|r,y,o,c))}function e_(i,r){yh(8390656,8,i,r)}function t_(i,r){Zl(2048,8,i,r)}function n_(i,r){return Zl(4,2,i,r)}function i_(i,r){return Zl(4,4,i,r)}function s_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function r_(i,r,o){o=o!=null?o.concat([i]):null,Zl(4,4,s_.bind(null,r,i),o)}function jm(){}function a_(i,r){var o=Rt();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&Tm(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function o_(i,r){var o=Rt();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&Tm(r,c[1]))return c[0];if(c=i(),ua){Rn(!0);try{i()}finally{Rn(!1)}}return o.memoizedState=[c,r],c}function Dm(i,r,o){return o===void 0||(qs&1073741824)!==0?i.memoizedState=r:(i.memoizedState=o,i=u1(),Ie.lanes|=i,Ws|=i,o)}function l_(i,r,o,c){return In(o,r)?o:ho.current!==null?(i=Dm(i,o,c),In(i,r)||(Bt=!0),i):(qs&42)===0?(Bt=!0,i.memoizedState=o):(i=u1(),Ie.lanes|=i,Ws|=i,r)}function c_(i,r,o,c,p){var y=le.p;le.p=y!==0&&8>y?y:8;var b=ee.T,A={};ee.T=A,Pm(i,!1,r,o);try{var P=p(),Y=ee.S;if(Y!==null&&Y(A,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var te=dR(P,c);Jl(i,r,te,Pn(i))}else Jl(i,r,c,Pn(i))}catch(re){Jl(i,r,{then:function(){},status:"rejected",reason:re},Pn())}finally{le.p=y,ee.T=b}}function yR(){}function km(i,r,o,c){if(i.tag!==5)throw Error(s(476));var p=u_(i).queue;c_(i,p,r,fe,o===null?yR:function(){return h_(i),o(c)})}function u_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:fe},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function h_(i){var r=u_(i).next.queue;Jl(i,r,{},Pn())}function Mm(){return nn(yc)}function d_(){return Rt().memoizedState}function f_(){return Rt().memoizedState}function vR(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Pn();i=Fs(o);var c=Hs(r,i,o);c!==null&&(On(c,r,o),Kl(c,r,o)),r={cache:um()},i.payload=r;return}r=r.return}}function _R(i,r,o){var c=Pn();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},vh(i)?p_(r,o):(o=em(i,r,o,c),o!==null&&(On(o,i,c),g_(o,r,c)))}function m_(i,r,o){var c=Pn();Jl(i,r,o,c)}function Jl(i,r,o,c){var p={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(vh(i))p_(r,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var b=r.lastRenderedState,A=y(b,o);if(p.hasEagerState=!0,p.eagerState=A,In(A,b))return th(i,r,p,0),at===null&&eh(),!1}catch{}finally{}if(o=em(i,r,p,c),o!==null)return On(o,i,c),g_(o,r,c),!0}return!1}function Pm(i,r,o,c){if(c={lane:2,revertLane:fp(),action:c,hasEagerState:!1,eagerState:null,next:null},vh(i)){if(r)throw Error(s(479))}else r=em(i,o,c,2),r!==null&&On(r,i,2)}function vh(i){var r=i.alternate;return i===Ie||r!==null&&r===Ie}function p_(i,r){fo=dh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function g_(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,xl(i,o)}}var _h={readContext:nn,use:mh,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt},y_={readContext:nn,use:mh,useCallback:function(i,r){return Tn().memoizedState=[i,r===void 0?null:r],i},useContext:nn,useEffect:e_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,yh(4194308,4,s_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return yh(4194308,4,i,r)},useInsertionEffect:function(i,r){yh(4,2,i,r)},useMemo:function(i,r){var o=Tn();r=r===void 0?null:r;var c=i();if(ua){Rn(!0);try{i()}finally{Rn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=Tn();if(o!==void 0){var p=o(r);if(ua){Rn(!0);try{o(r)}finally{Rn(!1)}}}else p=r;return c.memoizedState=c.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},c.queue=i,i=i.dispatch=_R.bind(null,Ie,i),[c.memoizedState,i]},useRef:function(i){var r=Tn();return i={current:i},r.memoizedState=i},useState:function(i){i=Nm(i);var r=i.queue,o=m_.bind(null,Ie,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:jm,useDeferredValue:function(i,r){var o=Tn();return Dm(o,i,r)},useTransition:function(){var i=Nm(!1);return i=c_.bind(null,Ie,i.queue,!0,!1),Tn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=Ie,p=Tn();if(qe){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),at===null)throw Error(s(349));(ze&124)!==0||L0(c,r,o)}p.memoizedState=o;var y={value:o,getSnapshot:r};return p.queue=y,e_(B0.bind(null,c,y,i),[i]),c.flags|=2048,po(9,gh(),U0.bind(null,c,y,o,r),null),o},useId:function(){var i=Tn(),r=at.identifierPrefix;if(qe){var o=us,c=cs;o=(c&~(1<<32-tn(c)-1)).toString(32)+o,r="«"+r+"R"+o,o=fh++,0<o&&(r+="H"+o.toString(32)),r+="»"}else o=fR++,r="«"+r+"r"+o.toString(32)+"»";return i.memoizedState=r},useHostTransitionStatus:Mm,useFormState:Q0,useActionState:Q0,useOptimistic:function(i){var r=Tn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Pm.bind(null,Ie,!0,o),o.dispatch=r,[i,r]},useMemoCache:Am,useCacheRefresh:function(){return Tn().memoizedState=vR.bind(null,Ie)}},v_={readContext:nn,use:mh,useCallback:a_,useContext:nn,useEffect:t_,useImperativeHandle:r_,useInsertionEffect:n_,useLayoutEffect:i_,useMemo:o_,useReducer:ph,useRef:J0,useState:function(){return ph(fs)},useDebugValue:jm,useDeferredValue:function(i,r){var o=Rt();return l_(o,et.memoizedState,i,r)},useTransition:function(){var i=ph(fs)[0],r=Rt().memoizedState;return[typeof i=="boolean"?i:Wl(i),r]},useSyncExternalStore:V0,useId:d_,useHostTransitionStatus:Mm,useFormState:X0,useActionState:X0,useOptimistic:function(i,r){var o=Rt();return H0(o,et,i,r)},useMemoCache:Am,useCacheRefresh:f_},TR={readContext:nn,use:mh,useCallback:a_,useContext:nn,useEffect:t_,useImperativeHandle:r_,useInsertionEffect:n_,useLayoutEffect:i_,useMemo:o_,useReducer:Rm,useRef:J0,useState:function(){return Rm(fs)},useDebugValue:jm,useDeferredValue:function(i,r){var o=Rt();return et===null?Dm(o,i,r):l_(o,et.memoizedState,i,r)},useTransition:function(){var i=Rm(fs)[0],r=Rt().memoizedState;return[typeof i=="boolean"?i:Wl(i),r]},useSyncExternalStore:V0,useId:d_,useHostTransitionStatus:Mm,useFormState:Z0,useActionState:Z0,useOptimistic:function(i,r){var o=Rt();return et!==null?H0(o,et,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Am,useCacheRefresh:f_},go=null,ec=0;function Th(i){var r=ec;return ec+=1,go===null&&(go=[]),N0(go,i,r)}function tc(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function xh(i,r){throw r.$$typeof===T?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function __(i){var r=i._init;return r(i._payload)}function T_(i){function r(G,B){if(i){var K=G.deletions;K===null?(G.deletions=[B],G.flags|=16):K.push(B)}}function o(G,B){if(!i)return null;for(;B!==null;)r(G,B),B=B.sibling;return null}function c(G){for(var B=new Map;G!==null;)G.key!==null?B.set(G.key,G):B.set(G.index,G),G=G.sibling;return B}function p(G,B){return G=ls(G,B),G.index=0,G.sibling=null,G}function y(G,B,K){return G.index=K,i?(K=G.alternate,K!==null?(K=K.index,K<B?(G.flags|=67108866,B):K):(G.flags|=67108866,B)):(G.flags|=1048576,B)}function b(G){return i&&G.alternate===null&&(G.flags|=67108866),G}function A(G,B,K,ie){return B===null||B.tag!==6?(B=nm(K,G.mode,ie),B.return=G,B):(B=p(B,K),B.return=G,B)}function P(G,B,K,ie){var ge=K.type;return ge===S?te(G,B,K.props.children,ie,K.key):B!==null&&(B.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===C&&__(ge)===B.type)?(B=p(B,K.props),tc(B,K),B.return=G,B):(B=ih(K.type,K.key,K.props,null,G.mode,ie),tc(B,K),B.return=G,B)}function Y(G,B,K,ie){return B===null||B.tag!==4||B.stateNode.containerInfo!==K.containerInfo||B.stateNode.implementation!==K.implementation?(B=im(K,G.mode,ie),B.return=G,B):(B=p(B,K.children||[]),B.return=G,B)}function te(G,B,K,ie,ge){return B===null||B.tag!==7?(B=na(K,G.mode,ie,ge),B.return=G,B):(B=p(B,K),B.return=G,B)}function re(G,B,K){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=nm(""+B,G.mode,K),B.return=G,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case x:return K=ih(B.type,B.key,B.props,null,G.mode,K),tc(K,B),K.return=G,K;case w:return B=im(B,G.mode,K),B.return=G,B;case C:var ie=B._init;return B=ie(B._payload),re(G,B,K)}if(Ge(B)||q(B))return B=na(B,G.mode,K,null),B.return=G,B;if(typeof B.then=="function")return re(G,Th(B),K);if(B.$$typeof===F)return re(G,oh(G,B),K);xh(G,B)}return null}function X(G,B,K,ie){var ge=B!==null?B.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return ge!==null?null:A(G,B,""+K,ie);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case x:return K.key===ge?P(G,B,K,ie):null;case w:return K.key===ge?Y(G,B,K,ie):null;case C:return ge=K._init,K=ge(K._payload),X(G,B,K,ie)}if(Ge(K)||q(K))return ge!==null?null:te(G,B,K,ie,null);if(typeof K.then=="function")return X(G,B,Th(K),ie);if(K.$$typeof===F)return X(G,B,oh(G,K),ie);xh(G,K)}return null}function W(G,B,K,ie,ge){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return G=G.get(K)||null,A(B,G,""+ie,ge);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case x:return G=G.get(ie.key===null?K:ie.key)||null,P(B,G,ie,ge);case w:return G=G.get(ie.key===null?K:ie.key)||null,Y(B,G,ie,ge);case C:var De=ie._init;return ie=De(ie._payload),W(G,B,K,ie,ge)}if(Ge(ie)||q(ie))return G=G.get(K)||null,te(B,G,ie,ge,null);if(typeof ie.then=="function")return W(G,B,K,Th(ie),ge);if(ie.$$typeof===F)return W(G,B,K,oh(B,ie),ge);xh(B,ie)}return null}function Se(G,B,K,ie){for(var ge=null,De=null,ve=B,Ee=B=0,Ft=null;ve!==null&&Ee<K.length;Ee++){ve.index>Ee?(Ft=ve,ve=null):Ft=ve.sibling;var He=X(G,ve,K[Ee],ie);if(He===null){ve===null&&(ve=Ft);break}i&&ve&&He.alternate===null&&r(G,ve),B=y(He,B,Ee),De===null?ge=He:De.sibling=He,De=He,ve=Ft}if(Ee===K.length)return o(G,ve),qe&&sa(G,Ee),ge;if(ve===null){for(;Ee<K.length;Ee++)ve=re(G,K[Ee],ie),ve!==null&&(B=y(ve,B,Ee),De===null?ge=ve:De.sibling=ve,De=ve);return qe&&sa(G,Ee),ge}for(ve=c(ve);Ee<K.length;Ee++)Ft=W(ve,G,Ee,K[Ee],ie),Ft!==null&&(i&&Ft.alternate!==null&&ve.delete(Ft.key===null?Ee:Ft.key),B=y(Ft,B,Ee),De===null?ge=Ft:De.sibling=Ft,De=Ft);return i&&ve.forEach(function(ar){return r(G,ar)}),qe&&sa(G,Ee),ge}function Te(G,B,K,ie){if(K==null)throw Error(s(151));for(var ge=null,De=null,ve=B,Ee=B=0,Ft=null,He=K.next();ve!==null&&!He.done;Ee++,He=K.next()){ve.index>Ee?(Ft=ve,ve=null):Ft=ve.sibling;var ar=X(G,ve,He.value,ie);if(ar===null){ve===null&&(ve=Ft);break}i&&ve&&ar.alternate===null&&r(G,ve),B=y(ar,B,Ee),De===null?ge=ar:De.sibling=ar,De=ar,ve=Ft}if(He.done)return o(G,ve),qe&&sa(G,Ee),ge;if(ve===null){for(;!He.done;Ee++,He=K.next())He=re(G,He.value,ie),He!==null&&(B=y(He,B,Ee),De===null?ge=He:De.sibling=He,De=He);return qe&&sa(G,Ee),ge}for(ve=c(ve);!He.done;Ee++,He=K.next())He=W(ve,G,Ee,He.value,ie),He!==null&&(i&&He.alternate!==null&&ve.delete(He.key===null?Ee:He.key),B=y(He,B,Ee),De===null?ge=He:De.sibling=He,De=He);return i&&ve.forEach(function(x2){return r(G,x2)}),qe&&sa(G,Ee),ge}function nt(G,B,K,ie){if(typeof K=="object"&&K!==null&&K.type===S&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case x:e:{for(var ge=K.key;B!==null;){if(B.key===ge){if(ge=K.type,ge===S){if(B.tag===7){o(G,B.sibling),ie=p(B,K.props.children),ie.return=G,G=ie;break e}}else if(B.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===C&&__(ge)===B.type){o(G,B.sibling),ie=p(B,K.props),tc(ie,K),ie.return=G,G=ie;break e}o(G,B);break}else r(G,B);B=B.sibling}K.type===S?(ie=na(K.props.children,G.mode,ie,K.key),ie.return=G,G=ie):(ie=ih(K.type,K.key,K.props,null,G.mode,ie),tc(ie,K),ie.return=G,G=ie)}return b(G);case w:e:{for(ge=K.key;B!==null;){if(B.key===ge)if(B.tag===4&&B.stateNode.containerInfo===K.containerInfo&&B.stateNode.implementation===K.implementation){o(G,B.sibling),ie=p(B,K.children||[]),ie.return=G,G=ie;break e}else{o(G,B);break}else r(G,B);B=B.sibling}ie=im(K,G.mode,ie),ie.return=G,G=ie}return b(G);case C:return ge=K._init,K=ge(K._payload),nt(G,B,K,ie)}if(Ge(K))return Se(G,B,K,ie);if(q(K)){if(ge=q(K),typeof ge!="function")throw Error(s(150));return K=ge.call(K),Te(G,B,K,ie)}if(typeof K.then=="function")return nt(G,B,Th(K),ie);if(K.$$typeof===F)return nt(G,B,oh(G,K),ie);xh(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,B!==null&&B.tag===6?(o(G,B.sibling),ie=p(B,K),ie.return=G,G=ie):(o(G,B),ie=nm(K,G.mode,ie),ie.return=G,G=ie),b(G)):o(G,B)}return function(G,B,K,ie){try{ec=0;var ge=nt(G,B,K,ie);return go=null,ge}catch(ve){if(ve===Gl||ve===ch)throw ve;var De=jn(29,ve,null,G.mode);return De.lanes=ie,De.return=G,De}finally{}}}var yo=T_(!0),x_=T_(!1),Xn=oe(null),Di=null;function Gs(i){var r=i.alternate;Z(Ot,Ot.current&1),Z(Xn,i),Di===null&&(r===null||ho.current!==null||r.memoizedState!==null)&&(Di=i)}function E_(i){if(i.tag===22){if(Z(Ot,Ot.current),Z(Xn,i),Di===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(Di=i)}}else $s()}function $s(){Z(Ot,Ot.current),Z(Xn,Xn.current)}function ms(i){ue(Xn),Di===i&&(Di=null),ue(Ot)}var Ot=oe(0);function Eh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Sp(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Om(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:v({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Vm={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=Pn(),p=Fs(c);p.payload=r,o!=null&&(p.callback=o),r=Hs(i,p,c),r!==null&&(On(r,i,c),Kl(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=Pn(),p=Fs(c);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Hs(i,p,c),r!==null&&(On(r,i,c),Kl(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Pn(),c=Fs(o);c.tag=2,r!=null&&(c.callback=r),r=Hs(i,c,o),r!==null&&(On(r,i,o),Kl(r,i,o))}};function b_(i,r,o,c,p,y,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,y,b):r.prototype&&r.prototype.isPureReactComponent?!Vl(o,c)||!Vl(p,y):!0}function w_(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&Vm.enqueueReplaceState(r,r.state,null)}function ha(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=v({},o));for(var p in i)o[p]===void 0&&(o[p]=i[p])}return o}var bh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function S_(i){bh(i)}function A_(i){console.error(i)}function C_(i){bh(i)}function wh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function R_(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Lm(i,r,o){return o=Fs(o),o.tag=3,o.payload={element:null},o.callback=function(){wh(i,r)},o}function N_(i){return i=Fs(i),i.tag=3,i}function I_(i,r,o,c){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=c.value;i.payload=function(){return p(y)},i.callback=function(){R_(r,o,c)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){R_(r,o,c),typeof p!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function xR(i,r,o,c,p){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&Fl(r,o,p,!0),o=Xn.current,o!==null){switch(o.tag){case 13:return Di===null?lp():o.alternate===null&&yt===0&&(yt=3),o.flags&=-257,o.flags|=65536,o.lanes=p,c===fm?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),up(i,c,p)),!1;case 22:return o.flags|=65536,c===fm?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),up(i,c,p)),!1}throw Error(s(435,o.tag))}return up(i,c,p),lp(),!1}if(qe)return r=Xn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,c!==am&&(i=Error(s(422),{cause:c}),zl($n(i,o)))):(c!==am&&(r=Error(s(423),{cause:c}),zl($n(r,o))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,c=$n(c,o),p=Lm(i.stateNode,c,p),gm(i,p),yt!==4&&(yt=2)),!1;var y=Error(s(520),{cause:c});if(y=$n(y,o),lc===null?lc=[y]:lc.push(y),yt!==4&&(yt=2),r===null)return!0;c=$n(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=p&-p,o.lanes|=i,i=Lm(o.stateNode,c,i),gm(o,i),!1;case 1:if(r=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Zs===null||!Zs.has(y))))return o.flags|=65536,p&=-p,o.lanes|=p,p=N_(p),I_(p,i,o,c),gm(o,p),!1}o=o.return}while(o!==null);return!1}var j_=Error(s(461)),Bt=!1;function $t(i,r,o,c){r.child=i===null?x_(r,null,o,c):yo(r,i.child,o,c)}function D_(i,r,o,c,p){o=o.render;var y=r.ref;if("ref"in c){var b={};for(var A in c)A!=="ref"&&(b[A]=c[A])}else b=c;return la(r),c=xm(i,r,o,b,y,p),A=Em(),i!==null&&!Bt?(bm(i,r,p),ps(i,r,p)):(qe&&A&&sm(r),r.flags|=1,$t(i,r,c,p),r.child)}function k_(i,r,o,c,p){if(i===null){var y=o.type;return typeof y=="function"&&!tm(y)&&y.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=y,M_(i,r,y,c,p)):(i=ih(o.type,null,c,r,r.mode,p),i.ref=r.ref,i.return=r,r.child=i)}if(y=i.child,!$m(i,p)){var b=y.memoizedProps;if(o=o.compare,o=o!==null?o:Vl,o(b,c)&&i.ref===r.ref)return ps(i,r,p)}return r.flags|=1,i=ls(y,c),i.ref=r.ref,i.return=r,r.child=i}function M_(i,r,o,c,p){if(i!==null){var y=i.memoizedProps;if(Vl(y,c)&&i.ref===r.ref)if(Bt=!1,r.pendingProps=c=y,$m(i,p))(i.flags&131072)!==0&&(Bt=!0);else return r.lanes=i.lanes,ps(i,r,p)}return Um(i,r,o,c,p)}function P_(i,r,o){var c=r.pendingProps,p=c.children,y=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((r.flags&128)!==0){if(c=y!==null?y.baseLanes|o:o,i!==null){for(p=r.child=i.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;r.childLanes=y&~c}else r.childLanes=0,r.child=null;return O_(i,r,c,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&lh(r,y!==null?y.cachePool:null),y!==null?M0(r,y):vm(),E_(r);else return r.lanes=r.childLanes=536870912,O_(i,r,y!==null?y.baseLanes|o:o,o)}else y!==null?(lh(r,y.cachePool),M0(r,y),$s(),r.memoizedState=null):(i!==null&&lh(r,null),vm(),$s());return $t(i,r,p,o),r.child}function O_(i,r,o,c){var p=dm();return p=p===null?null:{parent:Pt._currentValue,pool:p},r.memoizedState={baseLanes:o,cachePool:p},i!==null&&lh(r,null),vm(),E_(r),i!==null&&Fl(i,r,c,!0),null}function Sh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Um(i,r,o,c,p){return la(r),o=xm(i,r,o,c,void 0,p),c=Em(),i!==null&&!Bt?(bm(i,r,p),ps(i,r,p)):(qe&&c&&sm(r),r.flags|=1,$t(i,r,o,p),r.child)}function V_(i,r,o,c,p,y){return la(r),r.updateQueue=null,o=O0(r,c,o,p),P0(i),c=Em(),i!==null&&!Bt?(bm(i,r,y),ps(i,r,y)):(qe&&c&&sm(r),r.flags|=1,$t(i,r,o,y),r.child)}function L_(i,r,o,c,p){if(la(r),r.stateNode===null){var y=ao,b=o.contextType;typeof b=="object"&&b!==null&&(y=nn(b)),y=new o(c,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Vm,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=c,y.state=r.memoizedState,y.refs={},mm(r),b=o.contextType,y.context=typeof b=="object"&&b!==null?nn(b):ao,y.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Om(r,o,b,c),y.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(b=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),b!==y.state&&Vm.enqueueReplaceState(y,y.state,null),Ql(r,c,y,p),Yl(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){y=r.stateNode;var A=r.memoizedProps,P=ha(o,A);y.props=P;var Y=y.context,te=o.contextType;b=ao,typeof te=="object"&&te!==null&&(b=nn(te));var re=o.getDerivedStateFromProps;te=typeof re=="function"||typeof y.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,te||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A||Y!==b)&&w_(r,y,c,b),zs=!1;var X=r.memoizedState;y.state=X,Ql(r,c,y,p),Yl(),Y=r.memoizedState,A||X!==Y||zs?(typeof re=="function"&&(Om(r,o,re,c),Y=r.memoizedState),(P=zs||b_(r,o,P,c,X,Y,b))?(te||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=Y),y.props=c,y.state=Y,y.context=b,c=P):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{y=r.stateNode,pm(i,r),b=r.memoizedProps,te=ha(o,b),y.props=te,re=r.pendingProps,X=y.context,Y=o.contextType,P=ao,typeof Y=="object"&&Y!==null&&(P=nn(Y)),A=o.getDerivedStateFromProps,(Y=typeof A=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(b!==re||X!==P)&&w_(r,y,c,P),zs=!1,X=r.memoizedState,y.state=X,Ql(r,c,y,p),Yl();var W=r.memoizedState;b!==re||X!==W||zs||i!==null&&i.dependencies!==null&&ah(i.dependencies)?(typeof A=="function"&&(Om(r,o,A,c),W=r.memoizedState),(te=zs||b_(r,o,te,c,X,W,P)||i!==null&&i.dependencies!==null&&ah(i.dependencies))?(Y||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,W,P),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,W,P)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||b===i.memoizedProps&&X===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&X===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=W),y.props=c,y.state=W,y.context=P,c=te):(typeof y.componentDidUpdate!="function"||b===i.memoizedProps&&X===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&X===i.memoizedState||(r.flags|=1024),c=!1)}return y=c,Sh(i,r),c=(r.flags&128)!==0,y||c?(y=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,i!==null&&c?(r.child=yo(r,i.child,null,p),r.child=yo(r,null,o,p)):$t(i,r,o,p),r.memoizedState=y.state,i=r.child):i=ps(i,r,p),i}function U_(i,r,o,c){return Bl(),r.flags|=256,$t(i,r,o,c),r.child}var Bm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zm(i){return{baseLanes:i,cachePool:A0()}}function Fm(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Wn),i}function B_(i,r,o){var c=r.pendingProps,p=!1,y=(r.flags&128)!==0,b;if((b=y)||(b=i!==null&&i.memoizedState===null?!1:(Ot.current&2)!==0),b&&(p=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,i===null){if(qe){if(p?Gs(r):$s(),qe){var A=gt,P;if(P=A){e:{for(P=A,A=ji;P.nodeType!==8;){if(!A){A=null;break e}if(P=hi(P.nextSibling),P===null){A=null;break e}}A=P}A!==null?(r.memoizedState={dehydrated:A,treeContext:ia!==null?{id:cs,overflow:us}:null,retryLane:536870912,hydrationErrors:null},P=jn(18,null,null,0),P.stateNode=A,P.return=r,r.child=P,pn=r,gt=null,P=!0):P=!1}P||aa(r)}if(A=r.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Sp(A)?r.lanes=32:r.lanes=536870912,null;ms(r)}return A=c.children,c=c.fallback,p?($s(),p=r.mode,A=Ah({mode:"hidden",children:A},p),c=na(c,p,o,null),A.return=r,c.return=r,A.sibling=c,r.child=A,p=r.child,p.memoizedState=zm(o),p.childLanes=Fm(i,b,o),r.memoizedState=Bm,c):(Gs(r),Hm(r,A))}if(P=i.memoizedState,P!==null&&(A=P.dehydrated,A!==null)){if(y)r.flags&256?(Gs(r),r.flags&=-257,r=qm(i,r,o)):r.memoizedState!==null?($s(),r.child=i.child,r.flags|=128,r=null):($s(),p=c.fallback,A=r.mode,c=Ah({mode:"visible",children:c.children},A),p=na(p,A,o,null),p.flags|=2,c.return=r,p.return=r,c.sibling=p,r.child=c,yo(r,i.child,null,o),c=r.child,c.memoizedState=zm(o),c.childLanes=Fm(i,b,o),r.memoizedState=Bm,r=p);else if(Gs(r),Sp(A)){if(b=A.nextSibling&&A.nextSibling.dataset,b)var Y=b.dgst;b=Y,c=Error(s(419)),c.stack="",c.digest=b,zl({value:c,source:null,stack:null}),r=qm(i,r,o)}else if(Bt||Fl(i,r,o,!1),b=(o&i.childLanes)!==0,Bt||b){if(b=at,b!==null&&(c=o&-o,c=(c&42)!==0?1:ks(c),c=(c&(b.suspendedLanes|o))!==0?0:c,c!==0&&c!==P.retryLane))throw P.retryLane=c,ro(i,c),On(b,i,c),j_;A.data==="$?"||lp(),r=qm(i,r,o)}else A.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=P.treeContext,gt=hi(A.nextSibling),pn=r,qe=!0,ra=null,ji=!1,i!==null&&(Yn[Qn++]=cs,Yn[Qn++]=us,Yn[Qn++]=ia,cs=i.id,us=i.overflow,ia=r),r=Hm(r,c.children),r.flags|=4096);return r}return p?($s(),p=c.fallback,A=r.mode,P=i.child,Y=P.sibling,c=ls(P,{mode:"hidden",children:c.children}),c.subtreeFlags=P.subtreeFlags&65011712,Y!==null?p=ls(Y,p):(p=na(p,A,o,null),p.flags|=2),p.return=r,c.return=r,c.sibling=p,r.child=c,c=p,p=r.child,A=i.child.memoizedState,A===null?A=zm(o):(P=A.cachePool,P!==null?(Y=Pt._currentValue,P=P.parent!==Y?{parent:Y,pool:Y}:P):P=A0(),A={baseLanes:A.baseLanes|o,cachePool:P}),p.memoizedState=A,p.childLanes=Fm(i,b,o),r.memoizedState=Bm,c):(Gs(r),o=i.child,i=o.sibling,o=ls(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(b=r.deletions,b===null?(r.deletions=[i],r.flags|=16):b.push(i)),r.child=o,r.memoizedState=null,o)}function Hm(i,r){return r=Ah({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Ah(i,r){return i=jn(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function qm(i,r,o){return yo(r,i.child,null,o),i=Hm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function z_(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),lm(i.return,r,o)}function Gm(i,r,o,c,p){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:p}:(y.isBackwards=r,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=o,y.tailMode=p)}function F_(i,r,o){var c=r.pendingProps,p=c.revealOrder,y=c.tail;if($t(i,r,c.children,o),c=Ot.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&z_(i,o,r);else if(i.tag===19)z_(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(Z(Ot,c),p){case"forwards":for(o=r.child,p=null;o!==null;)i=o.alternate,i!==null&&Eh(i)===null&&(p=o),o=o.sibling;o=p,o===null?(p=r.child,r.child=null):(p=o.sibling,o.sibling=null),Gm(r,!1,p,o,y);break;case"backwards":for(o=null,p=r.child,r.child=null;p!==null;){if(i=p.alternate,i!==null&&Eh(i)===null){r.child=p;break}i=p.sibling,p.sibling=o,o=p,p=i}Gm(r,!0,o,null,y);break;case"together":Gm(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ps(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Ws|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Fl(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=ls(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=ls(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function $m(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&ah(i)))}function ER(i,r,o){switch(r.tag){case 3:Ze(r,r.stateNode.containerInfo),Bs(r,Pt,i.memoizedState.cache),Bl();break;case 27:case 5:$e(r);break;case 4:Ze(r,r.stateNode.containerInfo);break;case 10:Bs(r,r.type,r.memoizedProps.value);break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Gs(r),r.flags|=128,null):(o&r.child.childLanes)!==0?B_(i,r,o):(Gs(r),i=ps(i,r,o),i!==null?i.sibling:null);Gs(r);break;case 19:var p=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(Fl(i,r,o,!1),c=(o&r.childLanes)!==0),p){if(c)return F_(i,r,o);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Z(Ot,Ot.current),c)break;return null;case 22:case 23:return r.lanes=0,P_(i,r,o);case 24:Bs(r,Pt,i.memoizedState.cache)}return ps(i,r,o)}function H_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Bt=!0;else{if(!$m(i,o)&&(r.flags&128)===0)return Bt=!1,ER(i,r,o);Bt=(i.flags&131072)!==0}else Bt=!1,qe&&(r.flags&1048576)!==0&&_0(r,rh,r.index);switch(r.lanes=0,r.tag){case 16:e:{i=r.pendingProps;var c=r.elementType,p=c._init;if(c=p(c._payload),r.type=c,typeof c=="function")tm(c)?(i=ha(c,i),r.tag=1,r=L_(null,r,c,i,o)):(r.tag=0,r=Um(null,r,c,i,o));else{if(c!=null){if(p=c.$$typeof,p===ne){r.tag=11,r=D_(null,r,c,i,o);break e}else if(p===I){r.tag=14,r=k_(null,r,c,i,o);break e}}throw r=st(c)||c,Error(s(306,r,""))}}return r;case 0:return Um(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,p=ha(c,r.pendingProps),L_(i,r,c,p,o);case 3:e:{if(Ze(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var y=r.memoizedState;p=y.element,pm(i,r),Ql(r,c,null,o);var b=r.memoizedState;if(c=b.cache,Bs(r,Pt,c),c!==y.cache&&cm(r,[Pt],o,!0),Yl(),c=b.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=U_(i,r,c,o);break e}else if(c!==p){p=$n(Error(s(424)),r),zl(p),r=U_(i,r,c,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(gt=hi(i.firstChild),pn=r,qe=!0,ra=null,ji=!0,o=x_(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Bl(),c===p){r=ps(i,r,o);break e}$t(i,r,c,o)}r=r.child}return r;case 26:return Sh(i,r),i===null?(o=K1(r.type,null,r.pendingProps,null))?r.memoizedState=o:qe||(o=r.type,i=r.pendingProps,c=Bh(xe.current).createElement(o),c[Dt]=r,c[St]=i,Yt(c,o,i),_t(c),r.stateNode=c):r.memoizedState=K1(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return $e(r),i===null&&qe&&(c=r.stateNode=q1(r.type,r.pendingProps,xe.current),pn=r,ji=!0,p=gt,tr(r.type)?(Ap=p,gt=hi(c.firstChild)):gt=p),$t(i,r,r.pendingProps.children,o),Sh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&qe&&((p=c=gt)&&(c=XR(c,r.type,r.pendingProps,ji),c!==null?(r.stateNode=c,pn=r,gt=hi(c.firstChild),ji=!1,p=!0):p=!1),p||aa(r)),$e(r),p=r.type,y=r.pendingProps,b=i!==null?i.memoizedProps:null,c=y.children,Ep(p,y)?c=null:b!==null&&Ep(p,b)&&(r.flags|=32),r.memoizedState!==null&&(p=xm(i,r,mR,null,null,o),yc._currentValue=p),Sh(i,r),$t(i,r,c,o),r.child;case 6:return i===null&&qe&&((i=o=gt)&&(o=WR(o,r.pendingProps,ji),o!==null?(r.stateNode=o,pn=r,gt=null,i=!0):i=!1),i||aa(r)),null;case 13:return B_(i,r,o);case 4:return Ze(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=yo(r,null,c,o):$t(i,r,c,o),r.child;case 11:return D_(i,r,r.type,r.pendingProps,o);case 7:return $t(i,r,r.pendingProps,o),r.child;case 8:return $t(i,r,r.pendingProps.children,o),r.child;case 12:return $t(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,Bs(r,r.type,c.value),$t(i,r,c.children,o),r.child;case 9:return p=r.type._context,c=r.pendingProps.children,la(r),p=nn(p),c=c(p),r.flags|=1,$t(i,r,c,o),r.child;case 14:return k_(i,r,r.type,r.pendingProps,o);case 15:return M_(i,r,r.type,r.pendingProps,o);case 19:return F_(i,r,o);case 31:return c=r.pendingProps,o=r.mode,c={mode:c.mode,children:c.children},i===null?(o=Ah(c,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=ls(i.child,c),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return P_(i,r,o);case 24:return la(r),c=nn(Pt),i===null?(p=dm(),p===null&&(p=at,y=um(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=o),p=y),r.memoizedState={parent:c,cache:p},mm(r),Bs(r,Pt,p)):((i.lanes&o)!==0&&(pm(i,r),Ql(r,null,null,o),Yl()),p=i.memoizedState,y=r.memoizedState,p.parent!==c?(p={parent:c,cache:c},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),Bs(r,Pt,c)):(c=y.cache,Bs(r,Pt,c),c!==p.cache&&cm(r,[Pt],o,!0))),$t(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function gs(i){i.flags|=4}function q_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Z1(r)){if(r=Xn.current,r!==null&&((ze&4194048)===ze?Di!==null:(ze&62914560)!==ze&&(ze&536870912)===0||r!==Di))throw $l=fm,C0;i.flags|=8192}}function Ch(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?_l():536870912,i.lanes|=r,xo|=r)}function nc(i,r){if(!qe)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function ht(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var p=i.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function bR(i,r,o){var c=r.pendingProps;switch(rm(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(r),null;case 1:return ht(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),ds(Pt),Cn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Ul(r)?gs(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,E0())),ht(r),null;case 26:return o=r.memoizedState,i===null?(gs(r),o!==null?(ht(r),q_(r,o)):(ht(r),r.flags&=-16777217)):o?o!==i.memoizedState?(gs(r),ht(r),q_(r,o)):(ht(r),r.flags&=-16777217):(i.memoizedProps!==c&&gs(r),ht(r),r.flags&=-16777217),null;case 27:hn(r),o=xe.current;var p=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==c&&gs(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return ht(r),null}i=he.current,Ul(r)?T0(r):(i=q1(p,c,o),r.stateNode=i,gs(r))}return ht(r),null;case 5:if(hn(r),o=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&gs(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return ht(r),null}if(i=he.current,Ul(r))T0(r);else{switch(p=Bh(xe.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?p.createElement(o,{is:c.is}):p.createElement(o)}}i[Dt]=r,i[St]=c;e:for(p=r.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===r)break e;for(;p.sibling===null;){if(p.return===null||p.return===r)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}r.stateNode=i;e:switch(Yt(i,o,c),o){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&gs(r)}}return ht(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&gs(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=xe.current,Ul(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,p=pn,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}i[Dt]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||V1(i.nodeValue,o)),i||aa(r)}else i=Bh(i).createTextNode(c),i[Dt]=r,r.stateNode=i}return ht(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=Ul(r),c!==null&&c.dehydrated!==null){if(i===null){if(!p)throw Error(s(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[Dt]=r}else Bl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ht(r),p=!1}else p=E0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(ms(r),r):(ms(r),null)}if(ms(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=c!==null,i=i!==null&&i.memoizedState!==null,o){c=r.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==p&&(c.flags|=2048)}return o!==i&&o&&(r.child.flags|=8192),Ch(r,r.updateQueue),ht(r),null;case 4:return Cn(),i===null&&yp(r.stateNode.containerInfo),ht(r),null;case 10:return ds(r.type),ht(r),null;case 19:if(ue(Ot),p=r.memoizedState,p===null)return ht(r),null;if(c=(r.flags&128)!==0,y=p.rendering,y===null)if(c)nc(p,!1);else{if(yt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(y=Eh(i),y!==null){for(r.flags|=128,nc(p,!1),i=y.updateQueue,r.updateQueue=i,Ch(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)v0(o,i),o=o.sibling;return Z(Ot,Ot.current&1|2),r.child}i=i.sibling}p.tail!==null&&Bn()>Ih&&(r.flags|=128,c=!0,nc(p,!1),r.lanes=4194304)}else{if(!c)if(i=Eh(y),i!==null){if(r.flags|=128,c=!0,i=i.updateQueue,r.updateQueue=i,Ch(r,i),nc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!qe)return ht(r),null}else 2*Bn()-p.renderingStartTime>Ih&&o!==536870912&&(r.flags|=128,c=!0,nc(p,!1),r.lanes=4194304);p.isBackwards?(y.sibling=r.child,r.child=y):(i=p.last,i!==null?i.sibling=y:r.child=y,p.last=y)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=Bn(),r.sibling=null,i=Ot.current,Z(Ot,c?i&1|2:i&1),r):(ht(r),null);case 22:case 23:return ms(r),_m(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(ht(r),r.subtreeFlags&6&&(r.flags|=8192)):ht(r),o=r.updateQueue,o!==null&&Ch(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&ue(ca),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ds(Pt),ht(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function wR(i,r){switch(rm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return ds(Pt),Cn(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return hn(r),null;case 13:if(ms(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Bl()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ue(Ot),null;case 4:return Cn(),null;case 10:return ds(r.type),null;case 22:case 23:return ms(r),_m(),i!==null&&ue(ca),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return ds(Pt),null;case 25:return null;default:return null}}function G_(i,r){switch(rm(r),r.tag){case 3:ds(Pt),Cn();break;case 26:case 27:case 5:hn(r);break;case 4:Cn();break;case 13:ms(r);break;case 19:ue(Ot);break;case 10:ds(r.type);break;case 22:case 23:ms(r),_m(),i!==null&&ue(ca);break;case 24:ds(Pt)}}function ic(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var p=c.next;o=p;do{if((o.tag&i)===i){c=void 0;var y=o.create,b=o.inst;c=y(),b.destroy=c}o=o.next}while(o!==p)}}catch(A){rt(r,r.return,A)}}function Ks(i,r,o){try{var c=r.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var y=p.next;c=y;do{if((c.tag&i)===i){var b=c.inst,A=b.destroy;if(A!==void 0){b.destroy=void 0,p=r;var P=o,Y=A;try{Y()}catch(te){rt(p,P,te)}}}c=c.next}while(c!==y)}}catch(te){rt(r,r.return,te)}}function $_(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{k0(r,o)}catch(c){rt(i,i.return,c)}}}function K_(i,r,o){o.props=ha(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){rt(i,r,c)}}function sc(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(p){rt(i,r,p)}}function ki(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(p){rt(i,r,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){rt(i,r,p)}else o.current=null}function Y_(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(p){rt(i,i.return,p)}}function Km(i,r,o){try{var c=i.stateNode;GR(c,i.type,o,r),c[St]=r}catch(p){rt(i,i.return,p)}}function Q_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&tr(i.type)||i.tag===4}function Ym(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Q_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&tr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Qm(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Uh));else if(c!==4&&(c===27&&tr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Qm(i,r,o),i=i.sibling;i!==null;)Qm(i,r,o),i=i.sibling}function Rh(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&tr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Rh(i,r,o),i=i.sibling;i!==null;)Rh(i,r,o),i=i.sibling}function X_(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);Yt(r,c,o),r[Dt]=i,r[St]=o}catch(y){rt(i,i.return,y)}}var ys=!1,xt=!1,Xm=!1,W_=typeof WeakSet=="function"?WeakSet:Set,zt=null;function SR(i,r){if(i=i.containerInfo,Tp=$h,i=l0(i),Yf(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var p=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var b=0,A=-1,P=-1,Y=0,te=0,re=i,X=null;t:for(;;){for(var W;re!==o||p!==0&&re.nodeType!==3||(A=b+p),re!==y||c!==0&&re.nodeType!==3||(P=b+c),re.nodeType===3&&(b+=re.nodeValue.length),(W=re.firstChild)!==null;)X=re,re=W;for(;;){if(re===i)break t;if(X===o&&++Y===p&&(A=b),X===y&&++te===c&&(P=b),(W=re.nextSibling)!==null)break;re=X,X=re.parentNode}re=W}o=A===-1||P===-1?null:{start:A,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(xp={focusedElem:i,selectionRange:o},$h=!1,zt=r;zt!==null;)if(r=zt,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,zt=i;else for(;zt!==null;){switch(r=zt,y=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,o=r,p=y.memoizedProps,y=y.memoizedState,c=o.stateNode;try{var Se=ha(o.type,p,o.elementType===o.type);i=c.getSnapshotBeforeUpdate(Se,y),c.__reactInternalSnapshotBeforeUpdate=i}catch(Te){rt(o,o.return,Te)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)wp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":wp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,zt=i;break}zt=r.return}}function Z_(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Ys(i,o),c&4&&ic(5,o);break;case 1:if(Ys(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(b){rt(o,o.return,b)}else{var p=ha(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(p,r,i.__reactInternalSnapshotBeforeUpdate)}catch(b){rt(o,o.return,b)}}c&64&&$_(o),c&512&&sc(o,o.return);break;case 3:if(Ys(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{k0(i,r)}catch(b){rt(o,o.return,b)}}break;case 27:r===null&&c&4&&X_(o);case 26:case 5:Ys(i,o),r===null&&c&4&&Y_(o),c&512&&sc(o,o.return);break;case 12:Ys(i,o);break;case 13:Ys(i,o),c&4&&t1(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=MR.bind(null,o),ZR(i,o))));break;case 22:if(c=o.memoizedState!==null||ys,!c){r=r!==null&&r.memoizedState!==null||xt,p=ys;var y=xt;ys=c,(xt=r)&&!y?Qs(i,o,(o.subtreeFlags&8772)!==0):Ys(i,o),ys=p,xt=y}break;case 30:break;default:Ys(i,o)}}function J_(i){var r=i.alternate;r!==null&&(i.alternate=null,J_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Os(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ct=null,xn=!1;function vs(i,r,o){for(o=o.child;o!==null;)e1(i,r,o),o=o.sibling}function e1(i,r,o){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(pt,o)}catch{}switch(o.tag){case 26:xt||ki(o,r),vs(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:xt||ki(o,r);var c=ct,p=xn;tr(o.type)&&(ct=o.stateNode,xn=!1),vs(i,r,o),fc(o.stateNode),ct=c,xn=p;break;case 5:xt||ki(o,r);case 6:if(c=ct,p=xn,ct=null,vs(i,r,o),ct=c,xn=p,ct!==null)if(xn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(o.stateNode)}catch(y){rt(o,r,y)}else try{ct.removeChild(o.stateNode)}catch(y){rt(o,r,y)}break;case 18:ct!==null&&(xn?(i=ct,F1(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),xc(i)):F1(ct,o.stateNode));break;case 4:c=ct,p=xn,ct=o.stateNode.containerInfo,xn=!0,vs(i,r,o),ct=c,xn=p;break;case 0:case 11:case 14:case 15:xt||Ks(2,o,r),xt||Ks(4,o,r),vs(i,r,o);break;case 1:xt||(ki(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&K_(o,r,c)),vs(i,r,o);break;case 21:vs(i,r,o);break;case 22:xt=(c=xt)||o.memoizedState!==null,vs(i,r,o),xt=c;break;default:vs(i,r,o)}}function t1(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{xc(i)}catch(o){rt(r,r.return,o)}}function AR(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new W_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new W_),r;default:throw Error(s(435,i.tag))}}function Wm(i,r){var o=AR(i);r.forEach(function(c){var p=PR.bind(null,i,c);o.has(c)||(o.add(c),c.then(p,p))})}function Dn(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var p=o[c],y=i,b=r,A=b;e:for(;A!==null;){switch(A.tag){case 27:if(tr(A.type)){ct=A.stateNode,xn=!1;break e}break;case 5:ct=A.stateNode,xn=!1;break e;case 3:case 4:ct=A.stateNode.containerInfo,xn=!0;break e}A=A.return}if(ct===null)throw Error(s(160));e1(y,b,p),ct=null,xn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)n1(r,i),r=r.sibling}var ui=null;function n1(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Dn(r,i),kn(i),c&4&&(Ks(3,i,i.return),ic(3,i),Ks(5,i,i.return));break;case 1:Dn(r,i),kn(i),c&512&&(xt||o===null||ki(o,o.return)),c&64&&ys&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var p=ui;if(Dn(r,i),kn(i),c&512&&(xt||o===null||ki(o,o.return)),c&4){var y=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Br]||y[Dt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(c),p.head.insertBefore(y,p.querySelector("head > title"))),Yt(y,c,o),y[Dt]=i,_t(y),c=y;break e;case"link":var b=X1("link","href",p).get(c+(o.href||""));if(b){for(var A=0;A<b.length;A++)if(y=b[A],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(A,1);break t}}y=p.createElement(c),Yt(y,c,o),p.head.appendChild(y);break;case"meta":if(b=X1("meta","content",p).get(c+(o.content||""))){for(A=0;A<b.length;A++)if(y=b[A],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(A,1);break t}}y=p.createElement(c),Yt(y,c,o),p.head.appendChild(y);break;default:throw Error(s(468,c))}y[Dt]=i,_t(y),c=y}i.stateNode=c}else W1(p,i.type,i.stateNode);else i.stateNode=Q1(p,c,i.memoizedProps);else y!==c?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,c===null?W1(p,i.type,i.stateNode):Q1(p,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Km(i,i.memoizedProps,o.memoizedProps)}break;case 27:Dn(r,i),kn(i),c&512&&(xt||o===null||ki(o,o.return)),o!==null&&c&4&&Km(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Dn(r,i),kn(i),c&512&&(xt||o===null||ki(o,o.return)),i.flags&32){p=i.stateNode;try{Fn(p,"")}catch(W){rt(i,i.return,W)}}c&4&&i.stateNode!=null&&(p=i.memoizedProps,Km(i,p,o!==null?o.memoizedProps:p)),c&1024&&(Xm=!0);break;case 6:if(Dn(r,i),kn(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(W){rt(i,i.return,W)}}break;case 3:if(Hh=null,p=ui,ui=zh(r.containerInfo),Dn(r,i),ui=p,kn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{xc(r.containerInfo)}catch(W){rt(i,i.return,W)}Xm&&(Xm=!1,i1(i));break;case 4:c=ui,ui=zh(i.stateNode.containerInfo),Dn(r,i),kn(i),ui=c;break;case 12:Dn(r,i),kn(i);break;case 13:Dn(r,i),kn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(ip=Bn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Wm(i,c)));break;case 22:p=i.memoizedState!==null;var P=o!==null&&o.memoizedState!==null,Y=ys,te=xt;if(ys=Y||p,xt=te||P,Dn(r,i),xt=te,ys=Y,kn(i),c&8192)e:for(r=i.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(o===null||P||ys||xt||da(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){P=o=r;try{if(y=P.stateNode,p)b=y.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{A=P.stateNode;var re=P.memoizedProps.style,X=re!=null&&re.hasOwnProperty("display")?re.display:null;A.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(W){rt(P,P.return,W)}}}else if(r.tag===6){if(o===null){P=r;try{P.stateNode.nodeValue=p?"":P.memoizedProps}catch(W){rt(P,P.return,W)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Wm(i,o))));break;case 19:Dn(r,i),kn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Wm(i,c)));break;case 30:break;case 21:break;default:Dn(r,i),kn(i)}}function kn(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(Q_(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var p=o.stateNode,y=Ym(i);Rh(i,y,p);break;case 5:var b=o.stateNode;o.flags&32&&(Fn(b,""),o.flags&=-33);var A=Ym(i);Rh(i,A,b);break;case 3:case 4:var P=o.stateNode.containerInfo,Y=Ym(i);Qm(i,Y,P);break;default:throw Error(s(161))}}catch(te){rt(i,i.return,te)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function i1(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;i1(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Ys(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Z_(i,r.alternate,r),r=r.sibling}function da(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Ks(4,r,r.return),da(r);break;case 1:ki(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&K_(r,r.return,o),da(r);break;case 27:fc(r.stateNode);case 26:case 5:ki(r,r.return),da(r);break;case 22:r.memoizedState===null&&da(r);break;case 30:da(r);break;default:da(r)}i=i.sibling}}function Qs(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,p=i,y=r,b=y.flags;switch(y.tag){case 0:case 11:case 15:Qs(p,y,o),ic(4,y);break;case 1:if(Qs(p,y,o),c=y,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Y){rt(c,c.return,Y)}if(c=y,p=c.updateQueue,p!==null){var A=c.stateNode;try{var P=p.shared.hiddenCallbacks;if(P!==null)for(p.shared.hiddenCallbacks=null,p=0;p<P.length;p++)D0(P[p],A)}catch(Y){rt(c,c.return,Y)}}o&&b&64&&$_(y),sc(y,y.return);break;case 27:X_(y);case 26:case 5:Qs(p,y,o),o&&c===null&&b&4&&Y_(y),sc(y,y.return);break;case 12:Qs(p,y,o);break;case 13:Qs(p,y,o),o&&b&4&&t1(p,y);break;case 22:y.memoizedState===null&&Qs(p,y,o),sc(y,y.return);break;case 30:break;default:Qs(p,y,o)}r=r.sibling}}function Zm(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Hl(o))}function Jm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Hl(i))}function Mi(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)s1(i,r,o,c),r=r.sibling}function s1(i,r,o,c){var p=r.flags;switch(r.tag){case 0:case 11:case 15:Mi(i,r,o,c),p&2048&&ic(9,r);break;case 1:Mi(i,r,o,c);break;case 3:Mi(i,r,o,c),p&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Hl(i)));break;case 12:if(p&2048){Mi(i,r,o,c),i=r.stateNode;try{var y=r.memoizedProps,b=y.id,A=y.onPostCommit;typeof A=="function"&&A(b,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(P){rt(r,r.return,P)}}else Mi(i,r,o,c);break;case 13:Mi(i,r,o,c);break;case 23:break;case 22:y=r.stateNode,b=r.alternate,r.memoizedState!==null?y._visibility&2?Mi(i,r,o,c):rc(i,r):y._visibility&2?Mi(i,r,o,c):(y._visibility|=2,vo(i,r,o,c,(r.subtreeFlags&10256)!==0)),p&2048&&Zm(b,r);break;case 24:Mi(i,r,o,c),p&2048&&Jm(r.alternate,r);break;default:Mi(i,r,o,c)}}function vo(i,r,o,c,p){for(p=p&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var y=i,b=r,A=o,P=c,Y=b.flags;switch(b.tag){case 0:case 11:case 15:vo(y,b,A,P,p),ic(8,b);break;case 23:break;case 22:var te=b.stateNode;b.memoizedState!==null?te._visibility&2?vo(y,b,A,P,p):rc(y,b):(te._visibility|=2,vo(y,b,A,P,p)),p&&Y&2048&&Zm(b.alternate,b);break;case 24:vo(y,b,A,P,p),p&&Y&2048&&Jm(b.alternate,b);break;default:vo(y,b,A,P,p)}r=r.sibling}}function rc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,p=c.flags;switch(c.tag){case 22:rc(o,c),p&2048&&Zm(c.alternate,c);break;case 24:rc(o,c),p&2048&&Jm(c.alternate,c);break;default:rc(o,c)}r=r.sibling}}var ac=8192;function _o(i){if(i.subtreeFlags&ac)for(i=i.child;i!==null;)r1(i),i=i.sibling}function r1(i){switch(i.tag){case 26:_o(i),i.flags&ac&&i.memoizedState!==null&&h2(ui,i.memoizedState,i.memoizedProps);break;case 5:_o(i);break;case 3:case 4:var r=ui;ui=zh(i.stateNode.containerInfo),_o(i),ui=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=ac,ac=16777216,_o(i),ac=r):_o(i));break;default:_o(i)}}function a1(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function oc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];zt=c,l1(c,i)}a1(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)o1(i),i=i.sibling}function o1(i){switch(i.tag){case 0:case 11:case 15:oc(i),i.flags&2048&&Ks(9,i,i.return);break;case 3:oc(i);break;case 12:oc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Nh(i)):oc(i);break;default:oc(i)}}function Nh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];zt=c,l1(c,i)}a1(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Ks(8,r,r.return),Nh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Nh(r));break;default:Nh(r)}i=i.sibling}}function l1(i,r){for(;zt!==null;){var o=zt;switch(o.tag){case 0:case 11:case 15:Ks(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Hl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,zt=c;else e:for(o=i;zt!==null;){c=zt;var p=c.sibling,y=c.return;if(J_(c),c===o){zt=null;break e}if(p!==null){p.return=y,zt=p;break e}zt=y}}}var CR={getCacheForType:function(i){var r=nn(Pt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o}},RR=typeof WeakMap=="function"?WeakMap:Map,Xe=0,at=null,Me=null,ze=0,We=0,Mn=null,Xs=!1,To=!1,ep=!1,_s=0,yt=0,Ws=0,fa=0,tp=0,Wn=0,xo=0,lc=null,En=null,np=!1,ip=0,Ih=1/0,jh=null,Zs=null,Kt=0,Js=null,Eo=null,bo=0,sp=0,rp=null,c1=null,cc=0,ap=null;function Pn(){if((Xe&2)!==0&&ze!==0)return ze&-ze;if(ee.T!==null){var i=co;return i!==0?i:fp()}return Ms()}function u1(){Wn===0&&(Wn=(ze&536870912)===0||qe?vl():536870912);var i=Xn.current;return i!==null&&(i.flags|=32),Wn}function On(i,r,o){(i===at&&(We===2||We===9)||i.cancelPendingCommit!==null)&&(wo(i,0),er(i,ze,Wn,!1)),Wi(i,o),((Xe&2)===0||i!==at)&&(i===at&&((Xe&2)===0&&(fa|=o),yt===4&&er(i,ze,Wn,!1)),Pi(i))}function h1(i,r,o){if((Xe&6)!==0)throw Error(s(327));var c=!o&&(r&124)===0&&(r&i.expiredLanes)===0||Ur(i,r),p=c?jR(i,r):cp(i,r,!0),y=c;do{if(p===0){To&&!c&&er(i,r,0,!1);break}else{if(o=i.current.alternate,y&&!NR(o)){p=cp(i,r,!1),y=!1;continue}if(p===2){if(y=r,i.errorRecoveryDisabledLanes&y)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var A=i;p=lc;var P=A.current.memoizedState.isDehydrated;if(P&&(wo(A,b).flags|=256),b=cp(A,b,!1),b!==2){if(ep&&!P){A.errorRecoveryDisabledLanes|=y,fa|=y,p=4;break e}y=En,En=p,y!==null&&(En===null?En=y:En.push.apply(En,y))}p=b}if(y=!1,p!==2)continue}}if(p===1){wo(i,0),er(i,r,0,!0);break}e:{switch(c=i,y=p,y){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:er(c,r,Wn,!Xs);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(p=ip+300-Bn(),10<p)){if(er(c,r,Wn,!Xs),Ba(c,0,!0)!==0)break e;c.timeoutHandle=B1(d1.bind(null,c,o,En,jh,np,r,Wn,fa,xo,Xs,y,2,-0,0),p);break e}d1(c,o,En,jh,np,r,Wn,fa,xo,Xs,y,0,-0,0)}}break}while(!0);Pi(i)}function d1(i,r,o,c,p,y,b,A,P,Y,te,re,X,W){if(i.timeoutHandle=-1,re=r.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(gc={stylesheets:null,count:0,unsuspend:u2},r1(r),re=d2(),re!==null)){i.cancelPendingCommit=re(_1.bind(null,i,r,y,o,c,p,b,A,P,te,1,X,W)),er(i,y,b,!Y);return}_1(i,r,y,o,c,p,b,A,P)}function NR(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var p=o[c],y=p.getSnapshot;p=p.value;try{if(!In(y(),p))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function er(i,r,o,c){r&=~tp,r&=~fa,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var p=r;0<p;){var y=31-tn(p),b=1<<y;c[y]=-1,p&=~b}o!==0&&Ti(i,o,r)}function Dh(){return(Xe&6)===0?(uc(0),!1):!0}function op(){if(Me!==null){if(We===0)var i=Me.return;else i=Me,hs=oa=null,wm(i),go=null,ec=0,i=Me;for(;i!==null;)G_(i.alternate,i),i=i.return;Me=null}}function wo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,KR(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),op(),at=i,Me=o=ls(i.current,null),ze=r,We=0,Mn=null,Xs=!1,To=Ur(i,r),ep=!1,xo=Wn=tp=fa=Ws=yt=0,En=lc=null,np=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var p=31-tn(c),y=1<<p;r|=i[p],c&=~y}return _s=r,eh(),o}function f1(i,r){Ie=null,ee.H=_h,r===Gl||r===ch?(r=I0(),We=3):r===C0?(r=I0(),We=4):We=r===j_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Mn=r,Me===null&&(yt=1,wh(i,$n(r,i.current)))}function m1(){var i=ee.H;return ee.H=_h,i===null?_h:i}function p1(){var i=ee.A;return ee.A=CR,i}function lp(){yt=4,Xs||(ze&4194048)!==ze&&Xn.current!==null||(To=!0),(Ws&134217727)===0&&(fa&134217727)===0||at===null||er(at,ze,Wn,!1)}function cp(i,r,o){var c=Xe;Xe|=2;var p=m1(),y=p1();(at!==i||ze!==r)&&(jh=null,wo(i,r)),r=!1;var b=yt;e:do try{if(We!==0&&Me!==null){var A=Me,P=Mn;switch(We){case 8:op(),b=6;break e;case 3:case 2:case 9:case 6:Xn.current===null&&(r=!0);var Y=We;if(We=0,Mn=null,So(i,A,P,Y),o&&To){b=0;break e}break;default:Y=We,We=0,Mn=null,So(i,A,P,Y)}}IR(),b=yt;break}catch(te){f1(i,te)}while(!0);return r&&i.shellSuspendCounter++,hs=oa=null,Xe=c,ee.H=p,ee.A=y,Me===null&&(at=null,ze=0,eh()),b}function IR(){for(;Me!==null;)g1(Me)}function jR(i,r){var o=Xe;Xe|=2;var c=m1(),p=p1();at!==i||ze!==r?(jh=null,Ih=Bn()+500,wo(i,r)):To=Ur(i,r);e:do try{if(We!==0&&Me!==null){r=Me;var y=Mn;t:switch(We){case 1:We=0,Mn=null,So(i,r,y,1);break;case 2:case 9:if(R0(y)){We=0,Mn=null,y1(r);break}r=function(){We!==2&&We!==9||at!==i||(We=7),Pi(i)},y.then(r,r);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:R0(y)?(We=0,Mn=null,y1(r)):(We=0,Mn=null,So(i,r,y,7));break;case 5:var b=null;switch(Me.tag){case 26:b=Me.memoizedState;case 5:case 27:var A=Me;if(!b||Z1(b)){We=0,Mn=null;var P=A.sibling;if(P!==null)Me=P;else{var Y=A.return;Y!==null?(Me=Y,kh(Y)):Me=null}break t}}We=0,Mn=null,So(i,r,y,5);break;case 6:We=0,Mn=null,So(i,r,y,6);break;case 8:op(),yt=6;break e;default:throw Error(s(462))}}DR();break}catch(te){f1(i,te)}while(!0);return hs=oa=null,ee.H=c,ee.A=p,Xe=o,Me!==null?0:(at=null,ze=0,eh(),yt)}function DR(){for(;Me!==null&&!ml();)g1(Me)}function g1(i){var r=H_(i.alternate,i,_s);i.memoizedProps=i.pendingProps,r===null?kh(i):Me=r}function y1(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=V_(o,r,r.pendingProps,r.type,void 0,ze);break;case 11:r=V_(o,r,r.pendingProps,r.type.render,r.ref,ze);break;case 5:wm(r);default:G_(o,r),r=Me=v0(r,_s),r=H_(o,r,_s)}i.memoizedProps=i.pendingProps,r===null?kh(i):Me=r}function So(i,r,o,c){hs=oa=null,wm(r),go=null,ec=0;var p=r.return;try{if(xR(i,p,r,o,ze)){yt=1,wh(i,$n(o,i.current)),Me=null;return}}catch(y){if(p!==null)throw Me=p,y;yt=1,wh(i,$n(o,i.current)),Me=null;return}r.flags&32768?(qe||c===1?i=!0:To||(ze&536870912)!==0?i=!1:(Xs=i=!0,(c===2||c===9||c===3||c===6)&&(c=Xn.current,c!==null&&c.tag===13&&(c.flags|=16384))),v1(r,i)):kh(r)}function kh(i){var r=i;do{if((r.flags&32768)!==0){v1(r,Xs);return}i=r.return;var o=bR(r.alternate,r,_s);if(o!==null){Me=o;return}if(r=r.sibling,r!==null){Me=r;return}Me=r=i}while(r!==null);yt===0&&(yt=5)}function v1(i,r){do{var o=wR(i.alternate,i);if(o!==null){o.flags&=32767,Me=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Me=i;return}Me=i=o}while(i!==null);yt=6,Me=null}function _1(i,r,o,c,p,y,b,A,P){i.cancelPendingCommit=null;do Mh();while(Kt!==0);if((Xe&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(y=r.lanes|r.childLanes,y|=Jf,Tl(i,o,y,b,A,P),i===at&&(Me=at=null,ze=0),Eo=r,Js=i,bo=o,sp=y,rp=p,c1=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,OR(Pr,function(){return w1(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=ee.T,ee.T=null,p=le.p,le.p=2,b=Xe,Xe|=4;try{SR(i,r,o)}finally{Xe=b,le.p=p,ee.T=c}}Kt=1,T1(),x1(),E1()}}function T1(){if(Kt===1){Kt=0;var i=Js,r=Eo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=ee.T,ee.T=null;var c=le.p;le.p=2;var p=Xe;Xe|=4;try{n1(r,i);var y=xp,b=l0(i.containerInfo),A=y.focusedElem,P=y.selectionRange;if(b!==A&&A&&A.ownerDocument&&o0(A.ownerDocument.documentElement,A)){if(P!==null&&Yf(A)){var Y=P.start,te=P.end;if(te===void 0&&(te=Y),"selectionStart"in A)A.selectionStart=Y,A.selectionEnd=Math.min(te,A.value.length);else{var re=A.ownerDocument||document,X=re&&re.defaultView||window;if(X.getSelection){var W=X.getSelection(),Se=A.textContent.length,Te=Math.min(P.start,Se),nt=P.end===void 0?Te:Math.min(P.end,Se);!W.extend&&Te>nt&&(b=nt,nt=Te,Te=b);var G=a0(A,Te),B=a0(A,nt);if(G&&B&&(W.rangeCount!==1||W.anchorNode!==G.node||W.anchorOffset!==G.offset||W.focusNode!==B.node||W.focusOffset!==B.offset)){var K=re.createRange();K.setStart(G.node,G.offset),W.removeAllRanges(),Te>nt?(W.addRange(K),W.extend(B.node,B.offset)):(K.setEnd(B.node,B.offset),W.addRange(K))}}}}for(re=[],W=A;W=W.parentNode;)W.nodeType===1&&re.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<re.length;A++){var ie=re[A];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}$h=!!Tp,xp=Tp=null}finally{Xe=p,le.p=c,ee.T=o}}i.current=r,Kt=2}}function x1(){if(Kt===2){Kt=0;var i=Js,r=Eo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=ee.T,ee.T=null;var c=le.p;le.p=2;var p=Xe;Xe|=4;try{Z_(i,r.alternate,r)}finally{Xe=p,le.p=c,ee.T=o}}Kt=3}}function E1(){if(Kt===4||Kt===3){Kt=0,Nu();var i=Js,r=Eo,o=bo,c=c1;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Kt=5:(Kt=0,Eo=Js=null,b1(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(Zs=null),za(o),r=r.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(pt,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=ee.T,p=le.p,le.p=2,ee.T=null;try{for(var y=i.onRecoverableError,b=0;b<c.length;b++){var A=c[b];y(A.value,{componentStack:A.stack})}}finally{ee.T=r,le.p=p}}(bo&3)!==0&&Mh(),Pi(i),p=i.pendingLanes,(o&4194090)!==0&&(p&42)!==0?i===ap?cc++:(cc=0,ap=i):cc=0,uc(0)}}function b1(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Hl(r)))}function Mh(i){return T1(),x1(),E1(),w1()}function w1(){if(Kt!==5)return!1;var i=Js,r=sp;sp=0;var o=za(bo),c=ee.T,p=le.p;try{le.p=32>o?32:o,ee.T=null,o=rp,rp=null;var y=Js,b=bo;if(Kt=0,Eo=Js=null,bo=0,(Xe&6)!==0)throw Error(s(331));var A=Xe;if(Xe|=4,o1(y.current),s1(y,y.current,b,o),Xe=A,uc(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(pt,y)}catch{}return!0}finally{le.p=p,ee.T=c,b1(i,r)}}function S1(i,r,o){r=$n(o,r),r=Lm(i.stateNode,r,2),i=Hs(i,r,2),i!==null&&(Wi(i,2),Pi(i))}function rt(i,r,o){if(i.tag===3)S1(i,i,o);else for(;r!==null;){if(r.tag===3){S1(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Zs===null||!Zs.has(c))){i=$n(o,i),o=N_(2),c=Hs(r,o,2),c!==null&&(I_(o,c,r,i),Wi(c,2),Pi(c));break}}r=r.return}}function up(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new RR;var p=new Set;c.set(r,p)}else p=c.get(r),p===void 0&&(p=new Set,c.set(r,p));p.has(o)||(ep=!0,p.add(o),i=kR.bind(null,i,r,o),r.then(i,i))}function kR(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,at===i&&(ze&o)===o&&(yt===4||yt===3&&(ze&62914560)===ze&&300>Bn()-ip?(Xe&2)===0&&wo(i,0):tp|=o,xo===ze&&(xo=0)),Pi(i)}function A1(i,r){r===0&&(r=_l()),i=ro(i,r),i!==null&&(Wi(i,r),Pi(i))}function MR(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),A1(i,o)}function PR(i,r){var o=0;switch(i.tag){case 13:var c=i.stateNode,p=i.memoizedState;p!==null&&(o=p.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),A1(i,o)}function OR(i,r){return kr(i,r)}var Ph=null,Ao=null,hp=!1,Oh=!1,dp=!1,ma=0;function Pi(i){i!==Ao&&i.next===null&&(Ao===null?Ph=Ao=i:Ao=Ao.next=i),Oh=!0,hp||(hp=!0,LR())}function uc(i,r){if(!dp&&Oh){dp=!0;do for(var o=!1,c=Ph;c!==null;){if(i!==0){var p=c.pendingLanes;if(p===0)var y=0;else{var b=c.suspendedLanes,A=c.pingedLanes;y=(1<<31-tn(42|i)+1)-1,y&=p&~(b&~A),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,I1(c,y))}else y=ze,y=Ba(c,c===at?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||Ur(c,y)||(o=!0,I1(c,y));c=c.next}while(o);dp=!1}}function VR(){C1()}function C1(){Oh=hp=!1;var i=0;ma!==0&&($R()&&(i=ma),ma=0);for(var r=Bn(),o=null,c=Ph;c!==null;){var p=c.next,y=R1(c,r);y===0?(c.next=null,o===null?Ph=p:o.next=p,p===null&&(Ao=o)):(o=c,(i!==0||(y&3)!==0)&&(Oh=!0)),c=p}uc(i)}function R1(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var b=31-tn(y),A=1<<b,P=p[b];P===-1?((A&o)===0||(A&c)!==0)&&(p[b]=yl(A,r)):P<=r&&(i.expiredLanes|=A),y&=~A}if(r=at,o=ze,o=Ba(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(We===2||We===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Mr(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Ur(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&Mr(c),za(o)){case 2:case 8:o=La;break;case 32:o=Pr;break;case 268435456:o=Ua;break;default:o=Pr}return c=N1.bind(null,i),o=kr(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&Mr(c),i.callbackPriority=2,i.callbackNode=null,2}function N1(i,r){if(Kt!==0&&Kt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Mh()&&i.callbackNode!==o)return null;var c=ze;return c=Ba(i,i===at?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(h1(i,c,r),R1(i,Bn()),i.callbackNode!=null&&i.callbackNode===o?N1.bind(null,i):null)}function I1(i,r){if(Mh())return null;h1(i,r,!0)}function LR(){YR(function(){(Xe&6)!==0?kr(pl,VR):C1()})}function fp(){return ma===0&&(ma=vl()),ma}function j1(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ka(""+i)}function D1(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function UR(i,r,o,c,p){if(r==="submit"&&o&&o.stateNode===p){var y=j1((p[St]||null).action),b=c.submitter;b&&(r=(r=b[St]||null)?j1(r.formAction):b.getAttribute("formAction"),r!==null&&(y=r,b=null));var A=new Ya("action","action",null,c,p);i.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ma!==0){var P=b?D1(p,b):new FormData(p);km(o,{pending:!0,data:P,method:p.method,action:y},null,P)}}else typeof y=="function"&&(A.preventDefault(),P=b?D1(p,b):new FormData(p),km(o,{pending:!0,data:P,method:p.method,action:y},y,P))},currentTarget:p}]})}}for(var mp=0;mp<Zf.length;mp++){var pp=Zf[mp],BR=pp.toLowerCase(),zR=pp[0].toUpperCase()+pp.slice(1);ci(BR,"on"+zR)}ci(h0,"onAnimationEnd"),ci(d0,"onAnimationIteration"),ci(f0,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(sR,"onTransitionRun"),ci(rR,"onTransitionStart"),ci(aR,"onTransitionCancel"),ci(m0,"onTransitionEnd"),Ji("onMouseEnter",["mouseout","mouseover"]),Ji("onMouseLeave",["mouseout","mouseover"]),Ji("onPointerEnter",["pointerout","pointerover"]),Ji("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hc));function k1(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],p=c.event;c=c.listeners;e:{var y=void 0;if(r)for(var b=c.length-1;0<=b;b--){var A=c[b],P=A.instance,Y=A.currentTarget;if(A=A.listener,P!==y&&p.isPropagationStopped())break e;y=A,p.currentTarget=Y;try{y(p)}catch(te){bh(te)}p.currentTarget=null,y=P}else for(b=0;b<c.length;b++){if(A=c[b],P=A.instance,Y=A.currentTarget,A=A.listener,P!==y&&p.isPropagationStopped())break e;y=A,p.currentTarget=Y;try{y(p)}catch(te){bh(te)}p.currentTarget=null,y=P}}}}function Pe(i,r){var o=r[El];o===void 0&&(o=r[El]=new Set);var c=i+"__bubble";o.has(c)||(M1(r,i,2,!1),o.add(c))}function gp(i,r,o){var c=0;r&&(c|=4),M1(o,i,c,r)}var Vh="_reactListening"+Math.random().toString(36).slice(2);function yp(i){if(!i[Vh]){i[Vh]=!0,bl.forEach(function(o){o!=="selectionchange"&&(FR.has(o)||gp(o,!1,i),gp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Vh]||(r[Vh]=!0,gp("selectionchange",!1,r))}}function M1(i,r,o,c){switch(sT(r)){case 2:var p=p2;break;case 8:p=g2;break;default:p=jp}o=p.bind(null,r,o,i),p=void 0,!qn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),c?p!==void 0?i.addEventListener(r,o,{capture:!0,passive:p}):i.addEventListener(r,o,!0):p!==void 0?i.addEventListener(r,o,{passive:p}):i.addEventListener(r,o,!1)}function vp(i,r,o,c,p){var y=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var A=c.stateNode.containerInfo;if(A===p)break;if(b===4)for(b=c.return;b!==null;){var P=b.tag;if((P===3||P===4)&&b.stateNode.containerInfo===p)return;b=b.return}for(;A!==null;){if(b=Zi(A),b===null)return;if(P=b.tag,P===5||P===6||P===26||P===27){c=y=b;continue e}A=A.parentNode}}c=c.return}Uu(function(){var Y=y,te=Hn(o),re=[];e:{var X=p0.get(i);if(X!==void 0){var W=Ya,Se=i;switch(i){case"keypress":if(Ai(o)===0)break e;case"keydown":case"keyup":W=eo;break;case"focusin":Se="focus",W=Wa;break;case"focusout":Se="blur",W=Wa;break;case"beforeblur":case"afterblur":W=Wa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=qf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Ku;break;case h0:case d0:case f0:W=Za;break;case m0:W=Qu;break;case"scroll":case"scrollend":W=Bu;break;case"wheel":W=to;break;case"copy":case"cut":case"paste":W=Ja;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Pl;break;case"toggle":case"beforetoggle":W=Wu}var Te=(r&4)!==0,nt=!Te&&(i==="scroll"||i==="scrollend"),G=Te?X!==null?X+"Capture":null:X;Te=[];for(var B=Y,K;B!==null;){var ie=B;if(K=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||K===null||G===null||(ie=Kr(B,G),ie!=null&&Te.push(dc(B,ie,K))),nt)break;B=B.return}0<Te.length&&(X=new W(X,Se,null,o,te),re.push({event:X,listeners:Te}))}}if((r&7)===0){e:{if(X=i==="mouseover"||i==="pointerover",W=i==="mouseout"||i==="pointerout",X&&o!==ns&&(Se=o.relatedTarget||o.fromElement)&&(Zi(Se)||Se[zn]))break e;if((W||X)&&(X=te.window===te?te:(X=te.ownerDocument)?X.defaultView||X.parentWindow:window,W?(Se=o.relatedTarget||o.toElement,W=Y,Se=Se?Zi(Se):null,Se!==null&&(nt=l(Se),Te=Se.tag,Se!==nt||Te!==5&&Te!==27&&Te!==6)&&(Se=null)):(W=null,Se=Y),W!==Se)){if(Te=Gn,ie="onMouseLeave",G="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(Te=Pl,ie="onPointerLeave",G="onPointerEnter",B="pointer"),nt=W==null?X:Ei(W),K=Se==null?X:Ei(Se),X=new Te(ie,B+"leave",W,o,te),X.target=nt,X.relatedTarget=K,ie=null,Zi(te)===Y&&(Te=new Te(G,B+"enter",Se,o,te),Te.target=K,Te.relatedTarget=nt,ie=Te),nt=ie,W&&Se)t:{for(Te=W,G=Se,B=0,K=Te;K;K=Co(K))B++;for(K=0,ie=G;ie;ie=Co(ie))K++;for(;0<B-K;)Te=Co(Te),B--;for(;0<K-B;)G=Co(G),K--;for(;B--;){if(Te===G||G!==null&&Te===G.alternate)break t;Te=Co(Te),G=Co(G)}Te=null}else Te=null;W!==null&&P1(re,X,W,Te,!1),Se!==null&&nt!==null&&P1(re,nt,Se,Te,!0)}}e:{if(X=Y?Ei(Y):window,W=X.nodeName&&X.nodeName.toLowerCase(),W==="select"||W==="input"&&X.type==="file")var ge=e0;else if(Mt(X))if(t0)ge=tR;else{ge=JC;var De=ZC}else W=X.nodeName,!W||W.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Y&&Rl(Y.elementType)&&(ge=e0):ge=eR;if(ge&&(ge=ge(i,Y))){os(re,ge,o,te);break e}De&&De(i,X,Y),i==="focusout"&&Y&&X.type==="number"&&Y.memoizedProps.value!=null&&Ls(X,"number",X.value)}switch(De=Y?Ei(Y):window,i){case"focusin":(Mt(De)||De.contentEditable==="true")&&(no=De,Qf=Y,Ll=null);break;case"focusout":Ll=Qf=no=null;break;case"mousedown":Xf=!0;break;case"contextmenu":case"mouseup":case"dragend":Xf=!1,c0(re,o,te);break;case"selectionchange":if(iR)break;case"keydown":case"keyup":c0(re,o,te)}var ve;if(Ni)e:{switch(i){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Ue?J(i,o)&&(Ee="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Ee="onCompositionStart");Ee&&(E&&o.locale!=="ko"&&(Ue||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Ue&&(ve=Il()):(Si=te,Us="value"in Si?Si.value:Si.textContent,Ue=!0)),De=Lh(Y,Ee),0<De.length&&(Ee=new kl(Ee,i,null,o,te),re.push({event:Ee,listeners:De}),ve?Ee.data=ve:(ve=ce(o),ve!==null&&(Ee.data=ve)))),(ve=_?kt(i,o):Be(i,o))&&(Ee=Lh(Y,"onBeforeInput"),0<Ee.length&&(De=new kl("onBeforeInput","beforeinput",null,o,te),re.push({event:De,listeners:Ee}),De.data=ve)),UR(re,i,Y,o,te)}k1(re,r)})}function dc(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Lh(i,r){for(var o=r+"Capture",c=[];i!==null;){var p=i,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Kr(i,o),p!=null&&c.unshift(dc(i,p,y)),p=Kr(i,r),p!=null&&c.push(dc(i,p,y))),i.tag===3)return c;i=i.return}return[]}function Co(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function P1(i,r,o,c,p){for(var y=r._reactName,b=[];o!==null&&o!==c;){var A=o,P=A.alternate,Y=A.stateNode;if(A=A.tag,P!==null&&P===c)break;A!==5&&A!==26&&A!==27||Y===null||(P=Y,p?(Y=Kr(o,y),Y!=null&&b.unshift(dc(o,Y,P))):p||(Y=Kr(o,y),Y!=null&&b.push(dc(o,Y,P)))),o=o.return}b.length!==0&&i.push({event:r,listeners:b})}var HR=/\r\n?/g,qR=/\u0000|\uFFFD/g;function O1(i){return(typeof i=="string"?i:""+i).replace(HR,`
`).replace(qR,"")}function V1(i,r){return r=O1(r),O1(i)===r}function Uh(){}function tt(i,r,o,c,p,y){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Fn(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Fn(i,""+c);break;case"className":bi(i,"class",c);break;case"tabIndex":bi(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":bi(i,o,c);break;case"style":Cl(i,c,y);break;case"data":if(r!=="object"){bi(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Ka(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(r!=="input"&&tt(i,r,"name",p.name,p,null),tt(i,r,"formEncType",p.formEncType,p,null),tt(i,r,"formMethod",p.formMethod,p,null),tt(i,r,"formTarget",p.formTarget,p,null)):(tt(i,r,"encType",p.encType,p,null),tt(i,r,"method",p.method,p,null),tt(i,r,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Ka(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=Uh);break;case"onScroll":c!=null&&Pe("scroll",i);break;case"onScrollEnd":c!=null&&Pe("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=Ka(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Pe("beforetoggle",i),Pe("toggle",i),Vs(i,"popover",c);break;case"xlinkActuate":qt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":qt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":qt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":qt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":qt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":qt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":qt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":qt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":qt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Vs(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ff.get(o)||o,Vs(i,o,c))}}function _p(i,r,o,c,p,y){switch(o){case"style":Cl(i,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?Fn(i,c):(typeof c=="number"||typeof c=="bigint")&&Fn(i,""+c);break;case"onScroll":c!=null&&Pe("scroll",i);break;case"onScrollEnd":c!=null&&Pe("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Uh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fa.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),r=o.slice(2,p?o.length-7:void 0),y=i[St]||null,y=y!=null?y[o]:null,typeof y=="function"&&i.removeEventListener(r,y,p),typeof c=="function")){typeof y!="function"&&y!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,p);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):Vs(i,o,c)}}}function Yt(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",i),Pe("load",i);var c=!1,p=!1,y;for(y in o)if(o.hasOwnProperty(y)){var b=o[y];if(b!=null)switch(y){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(i,r,y,b,o,null)}}p&&tt(i,r,"srcSet",o.srcSet,o,null),c&&tt(i,r,"src",o.src,o,null);return;case"input":Pe("invalid",i);var A=y=b=p=null,P=null,Y=null;for(c in o)if(o.hasOwnProperty(c)){var te=o[c];if(te!=null)switch(c){case"name":p=te;break;case"type":b=te;break;case"checked":P=te;break;case"defaultChecked":Y=te;break;case"value":y=te;break;case"defaultValue":A=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,r));break;default:tt(i,r,c,te,o,null)}}qr(i,y,A,P,Y,b,p,!1),$a(i);return;case"select":Pe("invalid",i),c=b=y=null;for(p in o)if(o.hasOwnProperty(p)&&(A=o[p],A!=null))switch(p){case"value":y=A;break;case"defaultValue":b=A;break;case"multiple":c=A;default:tt(i,r,p,A,o,null)}r=y,o=b,i.multiple=!!c,r!=null?ts(i,!!c,r,!1):o!=null&&ts(i,!!c,o,!0);return;case"textarea":Pe("invalid",i),y=p=c=null;for(b in o)if(o.hasOwnProperty(b)&&(A=o[b],A!=null))switch(b){case"value":c=A;break;case"defaultValue":p=A;break;case"children":y=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:tt(i,r,b,A,o,null)}Gr(i,c,p,y),$a(i);return;case"option":for(P in o)if(o.hasOwnProperty(P)&&(c=o[P],c!=null))switch(P){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:tt(i,r,P,c,o,null)}return;case"dialog":Pe("beforetoggle",i),Pe("toggle",i),Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":Pe("load",i);break;case"video":case"audio":for(c=0;c<hc.length;c++)Pe(hc[c],i);break;case"image":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"embed":case"source":case"link":Pe("error",i),Pe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(c=o[Y],c!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(i,r,Y,c,o,null)}return;default:if(Rl(r)){for(te in o)o.hasOwnProperty(te)&&(c=o[te],c!==void 0&&_p(i,r,te,c,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(c=o[A],c!=null&&tt(i,r,A,c,o,null))}function GR(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,b=null,A=null,P=null,Y=null,te=null;for(W in o){var re=o[W];if(o.hasOwnProperty(W)&&re!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":P=re;default:c.hasOwnProperty(W)||tt(i,r,W,null,c,re)}}for(var X in c){var W=c[X];if(re=o[X],c.hasOwnProperty(X)&&(W!=null||re!=null))switch(X){case"type":y=W;break;case"name":p=W;break;case"checked":Y=W;break;case"defaultChecked":te=W;break;case"value":b=W;break;case"defaultValue":A=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:W!==re&&tt(i,r,X,W,c,re)}}Nn(i,b,A,P,Y,te,y,p);return;case"select":W=b=A=X=null;for(y in o)if(P=o[y],o.hasOwnProperty(y)&&P!=null)switch(y){case"value":break;case"multiple":W=P;default:c.hasOwnProperty(y)||tt(i,r,y,null,c,P)}for(p in c)if(y=c[p],P=o[p],c.hasOwnProperty(p)&&(y!=null||P!=null))switch(p){case"value":X=y;break;case"defaultValue":A=y;break;case"multiple":b=y;default:y!==P&&tt(i,r,p,y,c,P)}r=A,o=b,c=W,X!=null?ts(i,!!o,X,!1):!!c!=!!o&&(r!=null?ts(i,!!o,r,!0):ts(i,!!o,o?[]:"",!1));return;case"textarea":W=X=null;for(A in o)if(p=o[A],o.hasOwnProperty(A)&&p!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:tt(i,r,A,null,c,p)}for(b in c)if(p=c[b],y=o[b],c.hasOwnProperty(b)&&(p!=null||y!=null))switch(b){case"value":X=p;break;case"defaultValue":W=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==y&&tt(i,r,b,p,c,y)}Je(i,X,W);return;case"option":for(var Se in o)if(X=o[Se],o.hasOwnProperty(Se)&&X!=null&&!c.hasOwnProperty(Se))switch(Se){case"selected":i.selected=!1;break;default:tt(i,r,Se,null,c,X)}for(P in c)if(X=c[P],W=o[P],c.hasOwnProperty(P)&&X!==W&&(X!=null||W!=null))switch(P){case"selected":i.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:tt(i,r,P,X,c,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)X=o[Te],o.hasOwnProperty(Te)&&X!=null&&!c.hasOwnProperty(Te)&&tt(i,r,Te,null,c,X);for(Y in c)if(X=c[Y],W=o[Y],c.hasOwnProperty(Y)&&X!==W&&(X!=null||W!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:tt(i,r,Y,X,c,W)}return;default:if(Rl(r)){for(var nt in o)X=o[nt],o.hasOwnProperty(nt)&&X!==void 0&&!c.hasOwnProperty(nt)&&_p(i,r,nt,void 0,c,X);for(te in c)X=c[te],W=o[te],!c.hasOwnProperty(te)||X===W||X===void 0&&W===void 0||_p(i,r,te,X,c,W);return}}for(var G in o)X=o[G],o.hasOwnProperty(G)&&X!=null&&!c.hasOwnProperty(G)&&tt(i,r,G,null,c,X);for(re in c)X=c[re],W=o[re],!c.hasOwnProperty(re)||X===W||X==null&&W==null||tt(i,r,re,X,c,W)}var Tp=null,xp=null;function Bh(i){return i.nodeType===9?i:i.ownerDocument}function L1(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function U1(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Ep(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var bp=null;function $R(){var i=window.event;return i&&i.type==="popstate"?i===bp?!1:(bp=i,!0):(bp=null,!1)}var B1=typeof setTimeout=="function"?setTimeout:void 0,KR=typeof clearTimeout=="function"?clearTimeout:void 0,z1=typeof Promise=="function"?Promise:void 0,YR=typeof queueMicrotask=="function"?queueMicrotask:typeof z1<"u"?function(i){return z1.resolve(null).then(i).catch(QR)}:B1;function QR(i){setTimeout(function(){throw i})}function tr(i){return i==="head"}function F1(i,r){var o=r,c=0,p=0;do{var y=o.nextSibling;if(i.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(0<c&&8>c){o=c;var b=i.ownerDocument;if(o&1&&fc(b.documentElement),o&2&&fc(b.body),o&4)for(o=b.head,fc(o),b=o.firstChild;b;){var A=b.nextSibling,P=b.nodeName;b[Br]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&b.rel.toLowerCase()==="stylesheet"||o.removeChild(b),b=A}}if(p===0){i.removeChild(y),xc(r);return}p--}else o==="$"||o==="$?"||o==="$!"?p++:c=o.charCodeAt(0)-48;else c=0;o=y}while(o);xc(r)}function wp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":wp(o),Os(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function XR(i,r,o,c){for(;i.nodeType===1;){var p=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Br])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=hi(i.nextSibling),i===null)break}return null}function WR(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=hi(i.nextSibling),i===null))return null;return i}function Sp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function ZR(i,r){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function hi(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var Ap=null;function H1(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return i;r--}else o==="/$"&&r++}i=i.previousSibling}return null}function q1(i,r,o){switch(r=Bh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function fc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Os(i)}var Zn=new Map,G1=new Set;function zh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ts=le.d;le.d={f:JR,r:e2,D:t2,C:n2,L:i2,m:s2,X:a2,S:r2,M:o2};function JR(){var i=Ts.f(),r=Dh();return i||r}function e2(i){var r=xi(i);r!==null&&r.tag===5&&r.type==="form"?h_(r):Ts.r(i)}var Ro=typeof document>"u"?null:document;function $1(i,r,o){var c=Ro;if(c&&typeof r=="string"&&r){var p=At(r);p='link[rel="'+i+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),G1.has(p)||(G1.add(p),i={rel:i,crossOrigin:o,href:r},c.querySelector(p)===null&&(r=c.createElement("link"),Yt(r,"link",i),_t(r),c.head.appendChild(r)))}}function t2(i){Ts.D(i),$1("dns-prefetch",i,null)}function n2(i,r){Ts.C(i,r),$1("preconnect",i,r)}function i2(i,r,o){Ts.L(i,r,o);var c=Ro;if(c&&i&&r){var p='link[rel="preload"][as="'+At(r)+'"]';r==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+At(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+At(o.imageSizes)+'"]')):p+='[href="'+At(i)+'"]';var y=p;switch(r){case"style":y=No(i);break;case"script":y=Io(i)}Zn.has(y)||(i=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Zn.set(y,i),c.querySelector(p)!==null||r==="style"&&c.querySelector(mc(y))||r==="script"&&c.querySelector(pc(y))||(r=c.createElement("link"),Yt(r,"link",i),_t(r),c.head.appendChild(r)))}}function s2(i,r){Ts.m(i,r);var o=Ro;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+At(c)+'"][href="'+At(i)+'"]',y=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Io(i)}if(!Zn.has(y)&&(i=v({rel:"modulepreload",href:i},r),Zn.set(y,i),o.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(pc(y)))return}c=o.createElement("link"),Yt(c,"link",i),_t(c),o.head.appendChild(c)}}}function r2(i,r,o){Ts.S(i,r,o);var c=Ro;if(c&&i){var p=dn(c).hoistableStyles,y=No(i);r=r||"default";var b=p.get(y);if(!b){var A={loading:0,preload:null};if(b=c.querySelector(mc(y)))A.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Zn.get(y))&&Cp(i,o);var P=b=c.createElement("link");_t(P),Yt(P,"link",i),P._p=new Promise(function(Y,te){P.onload=Y,P.onerror=te}),P.addEventListener("load",function(){A.loading|=1}),P.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Fh(b,r,c)}b={type:"stylesheet",instance:b,count:1,state:A},p.set(y,b)}}}function a2(i,r){Ts.X(i,r);var o=Ro;if(o&&i){var c=dn(o).hoistableScripts,p=Io(i),y=c.get(p);y||(y=o.querySelector(pc(p)),y||(i=v({src:i,async:!0},r),(r=Zn.get(p))&&Rp(i,r),y=o.createElement("script"),_t(y),Yt(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function o2(i,r){Ts.M(i,r);var o=Ro;if(o&&i){var c=dn(o).hoistableScripts,p=Io(i),y=c.get(p);y||(y=o.querySelector(pc(p)),y||(i=v({src:i,async:!0,type:"module"},r),(r=Zn.get(p))&&Rp(i,r),y=o.createElement("script"),_t(y),Yt(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function K1(i,r,o,c){var p=(p=xe.current)?zh(p):null;if(!p)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=No(o.href),o=dn(p).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=No(o.href);var y=dn(p).hoistableStyles,b=y.get(i);if(b||(p=p.ownerDocument||p,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,b),(y=p.querySelector(mc(i)))&&!y._p&&(b.instance=y,b.state.loading=5),Zn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Zn.set(i,o),y||l2(p,i,o,b.state))),r&&c===null)throw Error(s(528,""));return b}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Io(o),o=dn(p).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function No(i){return'href="'+At(i)+'"'}function mc(i){return'link[rel="stylesheet"]['+i+"]"}function Y1(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function l2(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),Yt(r,"link",o),_t(r),i.head.appendChild(r))}function Io(i){return'[src="'+At(i)+'"]'}function pc(i){return"script[async]"+i}function Q1(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+At(o.href)+'"]');if(c)return r.instance=c,_t(c),c;var p=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),_t(c),Yt(c,"style",p),Fh(c,o.precedence,i),r.instance=c;case"stylesheet":p=No(o.href);var y=i.querySelector(mc(p));if(y)return r.state.loading|=4,r.instance=y,_t(y),y;c=Y1(o),(p=Zn.get(p))&&Cp(c,p),y=(i.ownerDocument||i).createElement("link"),_t(y);var b=y;return b._p=new Promise(function(A,P){b.onload=A,b.onerror=P}),Yt(y,"link",c),r.state.loading|=4,Fh(y,o.precedence,i),r.instance=y;case"script":return y=Io(o.src),(p=i.querySelector(pc(y)))?(r.instance=p,_t(p),p):(c=o,(p=Zn.get(y))&&(c=v({},o),Rp(c,p)),i=i.ownerDocument||i,p=i.createElement("script"),_t(p),Yt(p,"link",c),i.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Fh(c,o.precedence,i));return r.instance}function Fh(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,y=p,b=0;b<c.length;b++){var A=c[b];if(A.dataset.precedence===r)y=A;else if(y!==p)break}y?y.parentNode.insertBefore(i,y.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Cp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Rp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Hh=null;function X1(i,r,o){if(Hh===null){var c=new Map,p=Hh=new Map;p.set(o,c)}else p=Hh,c=p.get(o),c||(c=new Map,p.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),p=0;p<o.length;p++){var y=o[p];if(!(y[Br]||y[Dt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var b=y.getAttribute(r)||"";b=i+b;var A=c.get(b);A?A.push(y):c.set(b,[y])}}return c}function W1(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function c2(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Z1(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var gc=null;function u2(){}function h2(i,r,o){if(gc===null)throw Error(s(475));var c=gc;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var p=No(o.href),y=i.querySelector(mc(p));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=qh.bind(c),i.then(c,c)),r.state.loading|=4,r.instance=y,_t(y);return}y=i.ownerDocument||i,o=Y1(o),(p=Zn.get(p))&&Cp(o,p),y=y.createElement("link"),_t(y);var b=y;b._p=new Promise(function(A,P){b.onload=A,b.onerror=P}),Yt(y,"link",o),r.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(c.count++,r=qh.bind(c),i.addEventListener("load",r),i.addEventListener("error",r))}}function d2(){if(gc===null)throw Error(s(475));var i=gc;return i.stylesheets&&i.count===0&&Np(i,i.stylesheets),0<i.count?function(r){var o=setTimeout(function(){if(i.stylesheets&&Np(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(o)}}:null}function qh(){if(this.count--,this.count===0){if(this.stylesheets)Np(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Gh=null;function Np(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Gh=new Map,r.forEach(f2,i),Gh=null,qh.call(i))}function f2(i,r){if(!(r.state.loading&4)){var o=Gh.get(i);if(o)var c=o.get(null);else{o=new Map,Gh.set(i,o);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var b=p[y];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),c=b)}c&&o.set(null,c)}p=r.instance,b=p.getAttribute("data-precedence"),y=o.get(b)||c,y===c&&o.set(null,p),o.set(b,p),this.count++,c=qh.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),y?y.parentNode.insertBefore(p,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),r.state.loading|=4}}var yc={$$typeof:F,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function m2(i,r,o,c,p,y,b,A){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xi(0),this.hiddenUpdates=Xi(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function J1(i,r,o,c,p,y,b,A,P,Y,te,re){return i=new m2(i,r,o,b,A,P,Y,re),r=1,y===!0&&(r|=24),y=jn(3,null,null,r),i.current=y,y.stateNode=i,r=um(),r.refCount++,i.pooledCache=r,r.refCount++,y.memoizedState={element:c,isDehydrated:o,cache:r},mm(y),i}function eT(i){return i?(i=ao,i):ao}function tT(i,r,o,c,p,y){p=eT(p),c.context===null?c.context=p:c.pendingContext=p,c=Fs(r),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=Hs(i,c,r),o!==null&&(On(o,i,r),Kl(o,i,r))}function nT(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Ip(i,r){nT(i,r),(i=i.alternate)&&nT(i,r)}function iT(i){if(i.tag===13){var r=ro(i,67108864);r!==null&&On(r,i,67108864),Ip(i,67108864)}}var $h=!0;function p2(i,r,o,c){var p=ee.T;ee.T=null;var y=le.p;try{le.p=2,jp(i,r,o,c)}finally{le.p=y,ee.T=p}}function g2(i,r,o,c){var p=ee.T;ee.T=null;var y=le.p;try{le.p=8,jp(i,r,o,c)}finally{le.p=y,ee.T=p}}function jp(i,r,o,c){if($h){var p=Dp(c);if(p===null)vp(i,r,c,Kh,o),rT(i,c);else if(v2(p,i,r,o,c))c.stopPropagation();else if(rT(i,c),r&4&&-1<y2.indexOf(i)){for(;p!==null;){var y=xi(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var b=ai(y.pendingLanes);if(b!==0){var A=y;for(A.pendingLanes|=2,A.entangledLanes|=2;b;){var P=1<<31-tn(b);A.entanglements[1]|=P,b&=~P}Pi(y),(Xe&6)===0&&(Ih=Bn()+500,uc(0))}}break;case 13:A=ro(y,2),A!==null&&On(A,y,2),Dh(),Ip(y,2)}if(y=Dp(c),y===null&&vp(i,r,c,Kh,o),y===p)break;p=y}p!==null&&c.stopPropagation()}else vp(i,r,c,null,o)}}function Dp(i){return i=Hn(i),kp(i)}var Kh=null;function kp(i){if(Kh=null,i=Zi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Kh=i,null}function sT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Of()){case pl:return 2;case La:return 8;case Pr:case Vf:return 32;case Ua:return 268435456;default:return 32}default:return 32}}var Mp=!1,nr=null,ir=null,sr=null,vc=new Map,_c=new Map,rr=[],y2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rT(i,r){switch(i){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":vc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":_c.delete(r.pointerId)}}function Tc(i,r,o,c,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:y,targetContainers:[p]},r!==null&&(r=xi(r),r!==null&&iT(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),i)}function v2(i,r,o,c,p){switch(r){case"focusin":return nr=Tc(nr,i,r,o,c,p),!0;case"dragenter":return ir=Tc(ir,i,r,o,c,p),!0;case"mouseover":return sr=Tc(sr,i,r,o,c,p),!0;case"pointerover":var y=p.pointerId;return vc.set(y,Tc(vc.get(y)||null,i,r,o,c,p)),!0;case"gotpointercapture":return y=p.pointerId,_c.set(y,Tc(_c.get(y)||null,i,r,o,c,p)),!0}return!1}function aT(i){var r=Zi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,Du(i.priority,function(){if(o.tag===13){var c=Pn();c=ks(c);var p=ro(o,c);p!==null&&On(p,o,c),Ip(o,c)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Yh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Dp(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);ns=c,o.target.dispatchEvent(c),ns=null}else return r=xi(o),r!==null&&iT(r),i.blockedOn=o,!1;r.shift()}return!0}function oT(i,r,o){Yh(i)&&o.delete(r)}function _2(){Mp=!1,nr!==null&&Yh(nr)&&(nr=null),ir!==null&&Yh(ir)&&(ir=null),sr!==null&&Yh(sr)&&(sr=null),vc.forEach(oT),_c.forEach(oT)}function Qh(i,r){i.blockedOn===r&&(i.blockedOn=null,Mp||(Mp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,_2)))}var Xh=null;function lT(i){Xh!==i&&(Xh=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Xh===i&&(Xh=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],p=i[r+2];if(typeof c!="function"){if(kp(c||o)===null)continue;break}var y=xi(o);y!==null&&(i.splice(r,3),r-=3,km(y,{pending:!0,data:p,method:o.method,action:c},c,p))}}))}function xc(i){function r(P){return Qh(P,i)}nr!==null&&Qh(nr,i),ir!==null&&Qh(ir,i),sr!==null&&Qh(sr,i),vc.forEach(r),_c.forEach(r);for(var o=0;o<rr.length;o++){var c=rr[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<rr.length&&(o=rr[0],o.blockedOn===null);)aT(o),o.blockedOn===null&&rr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var p=o[c],y=o[c+1],b=p[St]||null;if(typeof y=="function")b||lT(o);else if(b){var A=null;if(y&&y.hasAttribute("formAction")){if(p=y,b=y[St]||null)A=b.formAction;else if(kp(p)!==null)continue}else A=b.action;typeof A=="function"?o[c+1]=A:(o.splice(c,3),c-=3),lT(o)}}}function Pp(i){this._internalRoot=i}Wh.prototype.render=Pp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=Pn();tT(o,c,i,r,null,null)},Wh.prototype.unmount=Pp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;tT(i.current,2,null,i,null,null),Dh(),r[zn]=null}};function Wh(i){this._internalRoot=i}Wh.prototype.unstable_scheduleHydration=function(i){if(i){var r=Ms();i={blockedOn:null,target:i,priority:r};for(var o=0;o<rr.length&&r!==0&&r<rr[o].priority;o++);rr.splice(o,0,i),o===0&&aT(i)}};var cT=e.version;if(cT!=="19.1.0")throw Error(s(527,cT,"19.1.0"));le.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var T2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zh.isDisabled&&Zh.supportsFiber)try{pt=Zh.inject(T2),Qe=Zh}catch{}}return bc.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",p=S_,y=A_,b=C_,A=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(A=r.unstable_transitionCallbacks)),r=J1(i,1,!1,null,null,o,c,p,y,b,A,null),i[zn]=r.current,yp(i),new Pp(r)},bc.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,p="",y=S_,b=A_,A=C_,P=null,Y=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(P=o.unstable_transitionCallbacks),o.formState!==void 0&&(Y=o.formState)),r=J1(i,1,!0,r,o??null,c,p,y,b,A,P,Y),r.context=eT(null),o=r.current,c=Pn(),c=ks(c),p=Fs(c),p.callback=null,Hs(o,p,c),o=c,r.current.lanes=o,Wi(r,o),Pi(r),i[zn]=r.current,yp(i),new Wh(r)},bc.version="19.1.0",bc}var _T;function I2(){if(_T)return Lp.exports;_T=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Lp.exports=N2(),Lp.exports}var j2=I2(),wc={},TT;function D2(){if(TT)return wc;TT=1,Object.defineProperty(wc,"__esModule",{value:!0}),wc.parse=u,wc.serialize=g;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function u(x,w){const S=new l,D=x.length;if(D<2)return S;const k=(w==null?void 0:w.decode)||v;let V=0;do{const Q=x.indexOf("=",V);if(Q===-1)break;const F=x.indexOf(";",V),ne=F===-1?D:F;if(Q>ne){V=x.lastIndexOf(";",Q-1)+1;continue}const z=f(x,V,Q),H=m(x,Q,z),I=x.slice(z,H);if(S[I]===void 0){let C=f(x,Q+1,ne),j=m(x,ne,C);const O=k(x.slice(C,j));S[I]=O}V=ne+1}while(V<D);return S}function f(x,w,S){do{const D=x.charCodeAt(w);if(D!==32&&D!==9)return w}while(++w<S);return S}function m(x,w,S){for(;w>S;){const D=x.charCodeAt(--w);if(D!==32&&D!==9)return w+1}return S}function g(x,w,S){const D=(S==null?void 0:S.encode)||encodeURIComponent;if(!t.test(x))throw new TypeError(`argument name is invalid: ${x}`);const k=D(w);if(!e.test(k))throw new TypeError(`argument val is invalid: ${w}`);let V=x+"="+k;if(!S)return V;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);V+="; Max-Age="+S.maxAge}if(S.domain){if(!n.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);V+="; Domain="+S.domain}if(S.path){if(!s.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);V+="; Path="+S.path}if(S.expires){if(!T(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);V+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(V+="; HttpOnly"),S.secure&&(V+="; Secure"),S.partitioned&&(V+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":V+="; Priority=Low";break;case"medium":V+="; Priority=Medium";break;case"high":V+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":V+="; SameSite=Strict";break;case"lax":V+="; SameSite=Lax";break;case"none":V+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return V}function v(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function T(x){return a.call(x)==="[object Date]"}return wc}D2();var xT="popstate";function k2(t={}){function e(a,l){let{pathname:u="/",search:f="",hash:m=""}=Da(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),yg("",{pathname:u,search:f,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let u=a.document.querySelector("base"),f="";if(u&&u.getAttribute("href")){let m=a.location.href,g=m.indexOf("#");f=g===-1?m:m.slice(0,g)}return f+"#"+(typeof l=="string"?l:$c(l))}function s(a,l){ri(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return P2(e,n,s,t)}function ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ri(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function M2(){return Math.random().toString(36).substring(2,10)}function ET(t,e){return{usr:t.state,key:t.key,idx:e}}function yg(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Da(e):e,state:n,key:e&&e.key||s||M2()}}function $c({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Da(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function P2(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,f="POP",m=null,g=v();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function v(){return(u.state||{idx:null}).idx}function T(){f="POP";let k=v(),V=k==null?null:k-g;g=k,m&&m({action:f,location:D.location,delta:V})}function x(k,V){f="PUSH";let Q=yg(D.location,k,V);n&&n(Q,k),g=v()+1;let F=ET(Q,g),ne=D.createHref(Q);try{u.pushState(F,"",ne)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;a.location.assign(ne)}l&&m&&m({action:f,location:D.location,delta:1})}function w(k,V){f="REPLACE";let Q=yg(D.location,k,V);n&&n(Q,k),g=v();let F=ET(Q,g),ne=D.createHref(Q);u.replaceState(F,"",ne),l&&m&&m({action:f,location:D.location,delta:0})}function S(k){return O2(k)}let D={get action(){return f},get location(){return t(a,u)},listen(k){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(xT,T),m=k,()=>{a.removeEventListener(xT,T),m=null}},createHref(k){return e(a,k)},createURL:S,encodeLocation(k){let V=S(k);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:x,replace:w,go(k){return u.go(k)}};return D}function O2(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:$c(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function wb(t,e,n="/"){return V2(t,e,n,!1)}function V2(t,e,n,s){let a=typeof e=="string"?Da(e):e,l=As(a.pathname||"/",n);if(l==null)return null;let u=Sb(t);L2(u);let f=null;for(let m=0;f==null&&m<u.length;++m){let g=Q2(l);f=K2(u[m],g,s)}return f}function Sb(t,e=[],n=[],s=""){let a=(l,u,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};m.relativePath.startsWith("/")&&(ut(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let g=bs([s,m.relativePath]),v=n.concat(m);l.children&&l.children.length>0&&(ut(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Sb(l.children,e,v,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:G2(g,l.index),routesMeta:v})};return t.forEach((l,u)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))a(l,u);else for(let m of Ab(l.path))a(l,u,m)}),e}function Ab(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=Ab(s.join("/")),f=[];return f.push(...u.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...u),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function L2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:$2(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var U2=/^:[\w-]+$/,B2=3,z2=2,F2=1,H2=10,q2=-2,bT=t=>t==="*";function G2(t,e){let n=t.split("/"),s=n.length;return n.some(bT)&&(s+=q2),e&&(s+=z2),n.filter(a=>!bT(a)).reduce((a,l)=>a+(U2.test(l)?B2:l===""?F2:H2),s)}function $2(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function K2(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",u=[];for(let f=0;f<s.length;++f){let m=s[f],g=f===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",T=Id({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),x=m.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Id({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!T)return null;Object.assign(a,T.params),u.push({params:a,pathname:bs([l,T.pathname]),pathnameBase:J2(bs([l,T.pathnameBase])),route:x}),T.pathnameBase!=="/"&&(l=bs([l,T.pathnameBase]))}return u}function Id(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=Y2(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:T},x)=>{if(v==="*"){let S=f[x]||"";u=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const w=f[x];return T&&!w?g[v]=void 0:g[v]=(w||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:u,pattern:t}}function Y2(t,e=!1,n=!0){ri(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function Q2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function As(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function X2(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?Da(t):t;return{pathname:n?n.startsWith("/")?n:W2(n,e):e,search:eN(s),hash:tN(a)}}function W2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Fp(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Z2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function my(t){let e=Z2(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function py(t,e,n,s=!1){let a;typeof t=="string"?a=Da(t):(a={...t},ut(!a.pathname||!a.pathname.includes("?"),Fp("?","pathname","search",a)),ut(!a.pathname||!a.pathname.includes("#"),Fp("#","pathname","hash",a)),ut(!a.search||!a.search.includes("#"),Fp("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,f;if(u==null)f=n;else{let T=e.length-1;if(!s&&u.startsWith("..")){let x=u.split("/");for(;x[0]==="..";)x.shift(),T-=1;a.pathname=x.join("/")}f=T>=0?e[T]:"/"}let m=X2(a,f),g=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var bs=t=>t.join("/").replace(/\/\/+/g,"/"),J2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),eN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,tN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function nN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Cb=["POST","PUT","PATCH","DELETE"];new Set(Cb);var iN=["GET",...Cb];new Set(iN);var tl=N.createContext(null);tl.displayName="DataRouter";var rf=N.createContext(null);rf.displayName="DataRouterState";var Rb=N.createContext({isTransitioning:!1});Rb.displayName="ViewTransition";var sN=N.createContext(new Map);sN.displayName="Fetchers";var rN=N.createContext(null);rN.displayName="Await";var vi=N.createContext(null);vi.displayName="Navigation";var hu=N.createContext(null);hu.displayName="Location";var Ki=N.createContext({outlet:null,matches:[],isDataRoute:!1});Ki.displayName="Route";var gy=N.createContext(null);gy.displayName="RouteError";function aN(t,{relative:e}={}){ut(nl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=N.useContext(vi),{hash:a,pathname:l,search:u}=du(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:bs([n,l])),s.createHref({pathname:f,search:u,hash:a})}function nl(){return N.useContext(hu)!=null}function _i(){return ut(nl(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(hu).location}var Nb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ib(t){N.useContext(vi).static||N.useLayoutEffect(t)}function Un(){let{isDataRoute:t}=N.useContext(Ki);return t?_N():oN()}function oN(){ut(nl(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(tl),{basename:e,navigator:n}=N.useContext(vi),{matches:s}=N.useContext(Ki),{pathname:a}=_i(),l=JSON.stringify(my(s)),u=N.useRef(!1);return Ib(()=>{u.current=!0}),N.useCallback((m,g={})=>{if(ri(u.current,Nb),!u.current)return;if(typeof m=="number"){n.go(m);return}let v=py(m,JSON.parse(l),a,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:bs([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,l,a,t])}N.createContext(null);function du(t,{relative:e}={}){let{matches:n}=N.useContext(Ki),{pathname:s}=_i(),a=JSON.stringify(my(n));return N.useMemo(()=>py(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function lN(t,e){return jb(t,e)}function jb(t,e,n,s){var Q;ut(nl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=N.useContext(vi),{matches:u}=N.useContext(Ki),f=u[u.length-1],m=f?f.params:{},g=f?f.pathname:"/",v=f?f.pathnameBase:"/",T=f&&f.route;{let F=T&&T.path||"";Db(g,!T||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let x=_i(),w;if(e){let F=typeof e=="string"?Da(e):e;ut(v==="/"||((Q=F.pathname)==null?void 0:Q.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${F.pathname}" was given in the \`location\` prop.`),w=F}else w=x;let S=w.pathname||"/",D=S;if(v!=="/"){let F=v.replace(/^\//,"").split("/");D="/"+S.replace(/^\//,"").split("/").slice(F.length).join("/")}let k=!l&&n&&n.matches&&n.matches.length>0?n.matches:wb(t,{pathname:D});ri(T||k!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),ri(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=fN(k&&k.map(F=>Object.assign({},F,{params:Object.assign({},m,F.params),pathname:bs([v,a.encodeLocation?a.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?v:bs([v,a.encodeLocation?a.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),u,n,s);return e&&V?N.createElement(hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},V):V}function cN(){let t=vN(),e=nN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:a},n):null,u)}var uN=N.createElement(cN,null),hN=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?N.createElement(Ki.Provider,{value:this.props.routeContext},N.createElement(gy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dN({routeContext:t,match:e,children:n}){let s=N.useContext(tl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(Ki.Provider,{value:t},n)}function fN(t,e=[],n=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let m=a.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);ut(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let u=!1,f=-1;if(n)for(let m=0;m<a.length;m++){let g=a[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=m),g.route.id){let{loaderData:v,errors:T}=n,x=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||x){u=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((m,g,v)=>{let T,x=!1,w=null,S=null;n&&(T=l&&g.route.id?l[g.route.id]:void 0,w=g.route.errorElement||uN,u&&(f<0&&v===0?(Db("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,S=null):f===v&&(x=!0,S=g.route.hydrateFallbackElement||null)));let D=e.concat(a.slice(0,v+1)),k=()=>{let V;return T?V=w:x?V=S:g.route.Component?V=N.createElement(g.route.Component,null):g.route.element?V=g.route.element:V=m,N.createElement(dN,{match:g,routeContext:{outlet:m,matches:D,isDataRoute:n!=null},children:V})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?N.createElement(hN,{location:n.location,revalidation:n.revalidation,component:w,error:T,children:k(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):k()},null)}function yy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mN(t){let e=N.useContext(tl);return ut(e,yy(t)),e}function pN(t){let e=N.useContext(rf);return ut(e,yy(t)),e}function gN(t){let e=N.useContext(Ki);return ut(e,yy(t)),e}function vy(t){let e=gN(t),n=e.matches[e.matches.length-1];return ut(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function yN(){return vy("useRouteId")}function vN(){var s;let t=N.useContext(gy),e=pN("useRouteError"),n=vy("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function _N(){let{router:t}=mN("useNavigate"),e=vy("useNavigate"),n=N.useRef(!1);return Ib(()=>{n.current=!0}),N.useCallback(async(a,l={})=>{ri(n.current,Nb),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var wT={};function Db(t,e,n){!e&&!wT[t]&&(wT[t]=!0,ri(!1,n))}N.memo(TN);function TN({routes:t,future:e,state:n}){return jb(t,void 0,n,e)}function kb({to:t,replace:e,state:n,relative:s}){ut(nl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=N.useContext(vi);ri(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=N.useContext(Ki),{pathname:u}=_i(),f=Un(),m=py(t,my(l),u,s==="path"),g=JSON.stringify(m);return N.useEffect(()=>{f(JSON.parse(g),{replace:e,state:n,relative:s})},[f,g,s,e,n]),null}function Qt(t){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xN({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){ut(!nl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=N.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=Da(n));let{pathname:m="/",search:g="",hash:v="",state:T=null,key:x="default"}=n,w=N.useMemo(()=>{let S=As(m,u);return S==null?null:{location:{pathname:S,search:g,hash:v,state:T,key:x},navigationType:s}},[u,m,g,v,T,x,s]);return ri(w!=null,`<Router basename="${u}"> is not able to match the URL "${m}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:N.createElement(vi.Provider,{value:f},N.createElement(hu.Provider,{children:e,value:w}))}function EN({children:t,location:e}){return lN(vg(t),e)}function vg(t,e=[]){let n=[];return N.Children.forEach(t,(s,a)=>{if(!N.isValidElement(s))return;let l=[...e,a];if(s.type===N.Fragment){n.push.apply(n,vg(s.props.children,l));return}ut(s.type===Qt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=vg(s.props.children,l)),n.push(u)}),n}var md="get",pd="application/x-www-form-urlencoded";function af(t){return t!=null&&typeof t.tagName=="string"}function bN(t){return af(t)&&t.tagName.toLowerCase()==="button"}function wN(t){return af(t)&&t.tagName.toLowerCase()==="form"}function SN(t){return af(t)&&t.tagName.toLowerCase()==="input"}function AN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function CN(t,e){return t.button===0&&(!e||e==="_self")&&!AN(t)}var Jh=null;function RN(){if(Jh===null)try{new FormData(document.createElement("form"),0),Jh=!1}catch{Jh=!0}return Jh}var NN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hp(t){return t!=null&&!NN.has(t)?(ri(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pd}"`),null):t}function IN(t,e){let n,s,a,l,u;if(wN(t)){let f=t.getAttribute("action");s=f?As(f,e):null,n=t.getAttribute("method")||md,a=Hp(t.getAttribute("enctype"))||pd,l=new FormData(t)}else if(bN(t)||SN(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(s=m?As(m,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||md,a=Hp(t.getAttribute("formenctype"))||Hp(f.getAttribute("enctype"))||pd,l=new FormData(f,t),!RN()){let{name:g,type:v,value:T}=t;if(v==="image"){let x=g?`${g}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else g&&l.append(g,T)}}else{if(af(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=md,s=null,a=pd,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:u}}function _y(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function jN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function DN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function kN(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await jN(l,n);return u.links?u.links():[]}return[]}));return VN(s.flat(1).filter(DN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function ST(t,e,n,s,a,l){let u=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,f=(m,g)=>{var v;return n[g].pathname!==m.pathname||((v=n[g].route.path)==null?void 0:v.endsWith("*"))&&n[g].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,g)=>u(m,g)||f(m,g)):l==="data"?e.filter((m,g)=>{var T;let v=s.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(u(m,g)||f(m,g))return!0;if(m.route.shouldRevalidate){let x=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function MN(t,e,{includeHydrateFallback:n}={}){return PN(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function PN(t){return[...new Set(t)]}function ON(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function VN(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(ON(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var LN=new Set([100,101,204,205]);function UN(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&As(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Mb(){let t=N.useContext(tl);return _y(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function BN(){let t=N.useContext(rf);return _y(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ty=N.createContext(void 0);Ty.displayName="FrameworkContext";function Pb(){let t=N.useContext(Ty);return _y(t,"You must render this element inside a <HydratedRouter> element"),t}function zN(t,e){let n=N.useContext(Ty),[s,a]=N.useState(!1),[l,u]=N.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:T}=e,x=N.useRef(null);N.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let D=V=>{V.forEach(Q=>{u(Q.isIntersecting)})},k=new IntersectionObserver(D,{threshold:.5});return x.current&&k.observe(x.current),()=>{k.disconnect()}}},[t]),N.useEffect(()=>{if(s){let D=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(D)}}},[s]);let w=()=>{a(!0)},S=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,x,{}]:[l,x,{onFocus:Sc(f,w),onBlur:Sc(m,S),onMouseEnter:Sc(g,w),onMouseLeave:Sc(v,S),onTouchStart:Sc(T,w)}]:[!1,x,{}]}function Sc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function FN({page:t,...e}){let{router:n}=Mb(),s=N.useMemo(()=>wb(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?N.createElement(qN,{page:t,matches:s,...e}):null}function HN(t){let{manifest:e,routeModules:n}=Pb(),[s,a]=N.useState([]);return N.useEffect(()=>{let l=!1;return kN(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),s}function qN({page:t,matches:e,...n}){let s=_i(),{manifest:a,routeModules:l}=Pb(),{basename:u}=Mb(),{loaderData:f,matches:m}=BN(),g=N.useMemo(()=>ST(t,e,m,a,s,"data"),[t,e,m,a,s]),v=N.useMemo(()=>ST(t,e,m,a,s,"assets"),[t,e,m,a,s]),T=N.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let S=new Set,D=!1;if(e.forEach(V=>{var F;let Q=a.routes[V.route.id];!Q||!Q.hasLoader||(!g.some(ne=>ne.route.id===V.route.id)&&V.route.id in f&&((F=l[V.route.id])!=null&&F.shouldRevalidate)||Q.hasClientLoader?D=!0:S.add(V.route.id))}),S.size===0)return[];let k=UN(t,u);return D&&S.size>0&&k.searchParams.set("_routes",e.filter(V=>S.has(V.route.id)).map(V=>V.route.id).join(",")),[k.pathname+k.search]},[u,f,s,a,g,e,t,l]),x=N.useMemo(()=>MN(v,a),[v,a]),w=HN(v);return N.createElement(N.Fragment,null,T.map(S=>N.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),x.map(S=>N.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),w.map(({key:S,link:D})=>N.createElement("link",{key:S,...D})))}function GN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Ob=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ob&&(window.__reactRouterVersion="7.6.0")}catch{}function $N({basename:t,children:e,window:n}){let s=N.useRef();s.current==null&&(s.current=k2({window:n,v5Compat:!0}));let a=s.current,[l,u]=N.useState({action:a.action,location:a.location}),f=N.useCallback(m=>{N.startTransition(()=>u(m))},[u]);return N.useLayoutEffect(()=>a.listen(f),[a,f]),N.createElement(xN,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var Vb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,It=N.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:f,target:m,to:g,preventScrollReset:v,viewTransition:T,...x},w){let{basename:S}=N.useContext(vi),D=typeof g=="string"&&Vb.test(g),k,V=!1;if(typeof g=="string"&&D&&(k=g,Ob))try{let j=new URL(window.location.href),O=g.startsWith("//")?new URL(j.protocol+g):new URL(g),U=As(O.pathname,S);O.origin===j.origin&&U!=null?g=U+O.search+O.hash:V=!0}catch{ri(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=aN(g,{relative:a}),[F,ne,z]=zN(s,x),H=XN(g,{replace:u,state:f,target:m,preventScrollReset:v,relative:a,viewTransition:T});function I(j){e&&e(j),j.defaultPrevented||H(j)}let C=N.createElement("a",{...x,...z,href:k||Q,onClick:V||l?e:I,ref:GN(w,ne),target:m,"data-discover":!D&&n==="render"?"true":void 0});return F&&!D?N.createElement(N.Fragment,null,C,N.createElement(FN,{page:Q})):C});It.displayName="Link";var KN=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:f,children:m,...g},v){let T=du(u,{relative:g.relative}),x=_i(),w=N.useContext(rf),{navigator:S,basename:D}=N.useContext(vi),k=w!=null&&tI(T)&&f===!0,V=S.encodeLocation?S.encodeLocation(T).pathname:T.pathname,Q=x.pathname,F=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(Q=Q.toLowerCase(),F=F?F.toLowerCase():null,V=V.toLowerCase()),F&&D&&(F=As(F,D)||F);const ne=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let z=Q===V||!a&&Q.startsWith(V)&&Q.charAt(ne)==="/",H=F!=null&&(F===V||!a&&F.startsWith(V)&&F.charAt(V.length)==="/"),I={isActive:z,isPending:H,isTransitioning:k},C=z?e:void 0,j;typeof s=="function"?j=s(I):j=[s,z?"active":null,H?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(I):l;return N.createElement(It,{...g,"aria-current":C,className:j,ref:v,style:O,to:u,viewTransition:f},typeof m=="function"?m(I):m)});KN.displayName="NavLink";var YN=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:u=md,action:f,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:T,...x},w)=>{let S=JN(),D=eI(f,{relative:g}),k=u.toLowerCase()==="get"?"get":"post",V=typeof f=="string"&&Vb.test(f),Q=F=>{if(m&&m(F),F.defaultPrevented)return;F.preventDefault();let ne=F.nativeEvent.submitter,z=(ne==null?void 0:ne.getAttribute("formmethod"))||u;S(ne||F.currentTarget,{fetcherKey:e,method:z,navigate:n,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:T})};return N.createElement("form",{ref:w,method:k,action:D,onSubmit:s?m:Q,...x,"data-discover":!V&&t==="render"?"true":void 0})});YN.displayName="Form";function QN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lb(t){let e=N.useContext(tl);return ut(e,QN(t)),e}function XN(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:u}={}){let f=Un(),m=_i(),g=du(t,{relative:l});return N.useCallback(v=>{if(CN(v,e)){v.preventDefault();let T=n!==void 0?n:$c(m)===$c(g);f(t,{replace:T,state:s,preventScrollReset:a,relative:l,viewTransition:u})}},[m,f,g,n,s,e,t,a,l,u])}var WN=0,ZN=()=>`__${String(++WN)}__`;function JN(){let{router:t}=Lb("useSubmit"),{basename:e}=N.useContext(vi),n=yN();return N.useCallback(async(s,a={})=>{let{action:l,method:u,encType:f,formData:m,body:g}=IN(s,e);if(a.navigate===!1){let v=a.fetcherKey||ZN();await t.fetch(v,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||u,formEncType:a.encType||f,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||u,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function eI(t,{relative:e}={}){let{basename:n}=N.useContext(vi),s=N.useContext(Ki);ut(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...du(t||".",{relative:e})},u=_i();if(t==null){l.search=u.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(v=>v==="")){f.delete("index"),m.filter(T=>T).forEach(T=>f.append("index",T));let v=f.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:bs([n,l.pathname])),$c(l)}function tI(t,e={}){let n=N.useContext(Rb);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Lb("useViewTransitionState"),a=du(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=As(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=As(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Id(a.pathname,u)!=null||Id(a.pathname,l)!=null}[...LN];function nI(){const t=Un(),[e,n]=N.useState(!1),[s,a]=N.useState(""),[l,u]=N.useState({}),f=N.useRef(null),m=N.useRef(null),g=x=>{a(x),n(!0),document.body.style.overflow="hidden"},v=()=>{n(!1),document.body.style.overflow="auto"};N.useEffect(()=>{const x=w=>{w.key==="Escape"&&e&&v()};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[e]),N.useEffect(()=>(f.current=new IntersectionObserver(x=>{x.forEach(w=>{w.isIntersecting&&u(S=>({...S,[w.target.dataset.id]:!0}))})},{threshold:.1}),document.querySelectorAll(".animate-on-scroll").forEach(x=>{f.current.observe(x)}),()=>{f.current&&f.current.disconnect()}),[]);const T=x=>{if(!m.current||Math.random()>.3)return;const w=document.createElement("div"),S=Math.random()*15+5,D=Math.random()*2+1,k=["circle","circle","star","triangle"],V=k[Math.floor(Math.random()*k.length)];w.className=`particle ${V}`,w.style.width=`${S}px`,w.style.height=`${S}px`,w.style.left=`${x.pageX}px`,w.style.top=`${x.pageY}px`;const Q=["var(--primary)","var(--primary-dark)","var(--primary-light)","rgba(79, 209, 101, 0.7)","rgba(54, 177, 78, 0.8)"],F=Q[Math.floor(Math.random()*Q.length)];w.style.backgroundColor=F,m.current.appendChild(w),setTimeout(()=>{const ne=(Math.random()-.5)*100,z=(Math.random()-.5)*100,H=Math.random()*360;w.style.transform=`translate(${ne}px, ${z}px) rotate(${H}deg) scale(${Math.random()*.5+.8})`,w.style.opacity="0",w.style.filter=`blur(${Math.random()*2+1}px)`},10),setTimeout(()=>{m.current&&m.current.contains(w)&&w.remove()},D*1e3)};return N.useEffect(()=>{const w=setInterval(()=>{if(!m.current)return;const S=document.createElement("div"),D=Math.random()*10+3,k=Math.random()*5+3,V=Math.random()*window.innerWidth,Q=Math.random()*500,F=["circle","star","triangle"],ne=F[Math.floor(Math.random()*F.length)];S.className=`particle ${ne} background-particle`,S.style.width=`${D}px`,S.style.height=`${D}px`,S.style.left=`${V}px`,S.style.top=`${Q}px`,S.style.opacity="0";const z=["var(--primary)","var(--primary-dark)","var(--primary-light)","rgba(79, 209, 101, 0.5)","rgba(54, 177, 78, 0.6)"],H=z[Math.floor(Math.random()*z.length)];S.style.backgroundColor=H,m.current.appendChild(S),setTimeout(()=>{S.style.opacity="0.6";const I=Math.random()*200+100,C=(Math.random()-.5)*100;S.style.transform=`translate(${C}px, ${I}px) rotate(${Math.random()*360}deg)`},10),setTimeout(()=>{m.current&&m.current.contains(S)&&S.remove()},k*1e3)},300);return()=>clearInterval(w)},[]),h.jsxs("div",{className:"home-bg",children:[h.jsxs("header",{className:"home-hero",onMouseMove:T,children:[h.jsx("div",{className:"cursor-effect-container",ref:m}),h.jsxs("div",{className:"hero-content animate-on-scroll","data-id":"hero",children:[h.jsx("h1",{className:`hero-title ${l.hero?"visible":""}`,children:"Персональные программы питания и тренировок с гарантией результата"}),h.jsx("p",{className:`hero-subtitle ${l.hero?"visible":""}`,children:"Достигайте своих целей с индивидуальным планом, разработанным специально для вас"}),h.jsxs("div",{className:`hero-cta ${l.hero?"visible":""}`,children:[h.jsx("button",{className:"cta-button primary",onClick:()=>t("/questionnaire?type=food"),children:"Программа питания"}),h.jsx("button",{className:"cta-button secondary",onClick:()=>t("/questionnaire?type=workout"),children:"Программа тренировок"}),h.jsx("button",{className:"cta-button combo",onClick:()=>t("/questionnaire?type=combo"),children:"Комплексная программа"})]})]}),h.jsxs("div",{className:"hero-scroll-indicator",children:[h.jsx("div",{className:"scroll-icon"}),h.jsx("span",{children:"Прокрутите вниз"})]})]}),h.jsx("section",{className:"home-benefits",children:h.jsxs("div",{className:"section-container",children:[h.jsx("h2",{className:"section-title animate-on-scroll","data-id":"benefits-title",children:"Почему выбирают FitGenius?"}),h.jsxs("div",{className:"benefits-grid",children:[h.jsxs("div",{className:`benefit-card animate-on-scroll ${l.benefit1?"visible":""}`,"data-id":"benefit1",children:[h.jsx("div",{className:"benefit-icon",children:h.jsx("span",{role:"img","aria-label":"персонализация",children:"🎯"})}),h.jsx("h3",{children:"Индивидуальный подход"}),h.jsx("p",{children:"Программы, адаптированные под ваши параметры, цели и предпочтения"})]}),h.jsxs("div",{className:`benefit-card animate-on-scroll ${l.benefit2?"visible":""}`,"data-id":"benefit2",children:[h.jsx("div",{className:"benefit-icon",children:h.jsx("span",{role:"img","aria-label":"наука",children:"🧪"})}),h.jsx("h3",{children:"Научный подход"}),h.jsx("p",{children:"Программы основаны на современных исследованиях в области питания и тренировок"})]}),h.jsxs("div",{className:`benefit-card animate-on-scroll ${l.benefit3?"visible":""}`,"data-id":"benefit3",children:[h.jsx("div",{className:"benefit-icon",children:h.jsx("span",{role:"img","aria-label":"время",children:"⏱️"})}),h.jsx("h3",{children:"Экономия времени"}),h.jsx("p",{children:"Готовый план без необходимости самостоятельного составления и расчетов"})]}),h.jsxs("div",{className:`benefit-card animate-on-scroll ${l.benefit4?"visible":""}`,"data-id":"benefit4",children:[h.jsx("div",{className:"benefit-icon",children:h.jsx("span",{role:"img","aria-label":"результат",children:"📈"})}),h.jsx("h3",{children:"Гарантированный результат"}),h.jsx("p",{children:"Проверенные методики, которые приводят к желаемым изменениям"})]})]})]})}),h.jsx("section",{className:"home-examples",children:h.jsxs("div",{className:"section-container",children:[h.jsx("h2",{className:"section-title animate-on-scroll","data-id":"examples-title",children:"Примеры программ"}),h.jsxs("div",{className:"examples-grid",children:[h.jsxs("div",{className:`example-card animate-on-scroll ${l.example1?"visible":""}`,"data-id":"example1",children:[h.jsxs("div",{className:"example-header",children:[h.jsx("div",{className:"example-icon",children:h.jsx("span",{role:"img","aria-label":"питание",children:"🍎"})}),h.jsx("h3",{children:"Рацион для похудения"})]}),h.jsx("p",{className:"example-desc",children:"Сбалансированное меню на неделю, учитывающее ваши предпочтения и цели."}),h.jsx("button",{className:"example-btn",onClick:()=>g("./example-food-day.png"),children:"Посмотреть пример"})]}),h.jsxs("div",{className:`example-card animate-on-scroll ${l.example2?"visible":""}`,"data-id":"example2",children:[h.jsxs("div",{className:"example-header",children:[h.jsx("div",{className:"example-icon",children:h.jsx("span",{role:"img","aria-label":"тренировка",children:"💪"})}),h.jsx("h3",{children:"План тренировок"})]}),h.jsx("p",{className:"example-desc",children:"Эффективные упражнения с учетом вашего уровня и доступного инвентаря."}),h.jsx("button",{className:"example-btn",onClick:()=>g("./example-workout-day.png"),children:"Посмотреть пример"})]}),h.jsxs("div",{className:`example-card animate-on-scroll ${l.example3?"visible":""}`,"data-id":"example3",children:[h.jsxs("div",{className:"example-header",children:[h.jsx("div",{className:"example-icon",children:h.jsx("span",{role:"img","aria-label":"комплекс",children:"⚡"})}),h.jsx("h3",{children:"Комплексная программа"})]}),h.jsx("p",{className:"example-desc",children:"Максимальный результат — синергия рациона и физической активности."}),h.jsx("button",{className:"example-btn special-btn",onClick:()=>t("/questionnaire?type=combo"),children:"Создать комплекс"})]})]})]})}),h.jsx("section",{className:"home-cta-section",children:h.jsx("div",{className:"section-container",children:h.jsxs("div",{className:`cta-content animate-on-scroll ${l["cta-section"]?"visible":""}`,"data-id":"cta-section",children:[h.jsx("h2",{children:"Готовы начать свой путь к здоровому образу жизни?"}),h.jsx("p",{children:"Ответьте на несколько вопросов и получите персональную программу уже сегодня"}),h.jsx("button",{className:"cta-button primary large",onClick:()=>t("/questionnaire?type=combo"),children:"Пройти опрос"})]})})}),e&&h.jsx("div",{className:"modal-overlay",onClick:v,children:h.jsxs("div",{className:"modal-content",onClick:x=>x.stopPropagation(),children:[h.jsx("button",{className:"modal-close",onClick:v,children:"×"}),h.jsx("img",{src:s,alt:"Пример программы",className:"modal-image"})]})})]})}function iI(){return h.jsx("div",{children:"Выбор типа программы"})}const sI=()=>{};var AT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},rI=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],f=t[n++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},Bb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,f=u?t[a+1]:0,m=a+2<t.length,g=m?t[a+2]:0,v=l>>2,T=(l&3)<<4|f>>4;let x=(f&15)<<2|g>>6,w=g&63;m||(w=64,u||(x=64)),s.push(n[v],n[T],n[x],n[w])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ub(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const T=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||g==null||T==null)throw new aI;const x=l<<2|f>>4;if(s.push(x),g!==64){const w=f<<4&240|g>>2;if(s.push(w),T!==64){const S=g<<6&192|T;s.push(S)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class aI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oI=function(t){const e=Ub(t);return Bb.encodeByteArray(e,!0)},jd=function(t){return oI(t).replace(/\./g,"")},zb=function(t){try{return Bb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=()=>lI().__FIREBASE_DEFAULTS__,uI=()=>{if(typeof process>"u"||typeof AT>"u")return;const t=AT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zb(t[1]);return e&&JSON.parse(e)},of=()=>{try{return sI()||cI()||uI()||hI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Fb=t=>{var e,n;return(n=(e=of())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Hb=t=>{const e=Fb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},qb=()=>{var t;return(t=of())===null||t===void 0?void 0:t.config},Gb=t=>{var e;return(e=of())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(t){return t.endsWith(".cloudworkstations.dev")}async function xy(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[jd(JSON.stringify(n)),jd(JSON.stringify(u)),""].join(".")}const Pc={};function fI(){const t={prod:[],emulator:[]};for(const e of Object.keys(Pc))Pc[e]?t.emulator.push(e):t.prod.push(e);return t}function mI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let CT=!1;function sl(t,e){if(typeof window>"u"||typeof document>"u"||!il(window.location.host)||Pc[t]===e||Pc[t]||CT)return;Pc[t]=e;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",l=fI().prod.length>0;function u(){const x=document.getElementById(s);x&&x.remove()}function f(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function m(x,w){x.setAttribute("width","24"),x.setAttribute("id",w),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function g(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{CT=!0,u()},x}function v(x,w){x.setAttribute("id",w),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function T(){const x=mI(s),w=n("text"),S=document.getElementById(w)||document.createElement("span"),D=n("learnmore"),k=document.getElementById(D)||document.createElement("a"),V=n("preprendIcon"),Q=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const F=x.element;f(F),v(k,D);const ne=g();m(Q,V),F.append(Q,S,k,ne),document.body.appendChild(F)}l?(S.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function gI(){var t;const e=(t=of())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _I(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TI(){const t=un();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function xI(){return!gI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function EI(){try{return typeof indexedDB=="object"}catch{return!1}}function bI(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="FirebaseError";class Yi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=wI,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fu.prototype.create)}}class fu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?SI(l,s):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new Yi(a,f,s)}}function SI(t,e){return t.replace(AI,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const AI=/\{\$([^}]+)}/g;function CI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Sa(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(RT(l)&&RT(u)){if(!Sa(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function RT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Cc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Rc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function RI(t,e){const n=new NI(t,e);return n.subscribe.bind(n)}class NI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");II(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=qp),a.error===void 0&&(a.error=qp),a.complete===void 0&&(a.complete=qp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function II(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function qp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(t){return t&&t._delegate?t._delegate:t}class vr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new dI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kI(e))try{this.getOrInitializeService({instanceIdentifier:ga})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ga){return this.instances.has(e)}getOptions(e=ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&u.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),l=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:DI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ga){return this.component?this.component.multipleInstances?e:ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DI(t){return t===ga?void 0:t}function kI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ve||(Ve={}));const PI={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},OI=Ve.INFO,VI={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},LI=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=VI[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ey{constructor(e){this.name=e,this._logLevel=OI,this._logHandler=LI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const UI=(t,e)=>e.some(n=>t instanceof n);let NT,IT;function BI(){return NT||(NT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zI(){return IT||(IT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kb=new WeakMap,_g=new WeakMap,Yb=new WeakMap,Gp=new WeakMap,by=new WeakMap;function FI(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(mr(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&Kb.set(n,t)}).catch(()=>{}),by.set(e,t),e}function HI(t){if(_g.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});_g.set(t,e)}let Tg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _g.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Yb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qI(t){Tg=t(Tg)}function GI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call($p(this),e,...n);return Yb.set(s,e.sort?e.sort():[e]),mr(s)}:zI().includes(t)?function(...e){return t.apply($p(this),e),mr(Kb.get(this))}:function(...e){return mr(t.apply($p(this),e))}}function $I(t){return typeof t=="function"?GI(t):(t instanceof IDBTransaction&&HI(t),UI(t,BI())?new Proxy(t,Tg):t)}function mr(t){if(t instanceof IDBRequest)return FI(t);if(Gp.has(t))return Gp.get(t);const e=$I(t);return e!==t&&(Gp.set(t,e),by.set(e,t)),e}const $p=t=>by.get(t);function KI(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),f=mr(u);return s&&u.addEventListener("upgradeneeded",m=>{s(mr(u.result),m.oldVersion,m.newVersion,mr(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const YI=["get","getKey","getAll","getAllKeys","count"],QI=["put","add","delete","clear"],Kp=new Map;function jT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Kp.get(e))return Kp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=QI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||YI.includes(n)))return;const l=async function(u,...f){const m=this.transaction(u,a?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(f.shift())),(await Promise.all([g[n](...f),a&&m.done]))[0]};return Kp.set(e,l),l}qI(t=>({...t,get:(e,n,s)=>jT(e,n)||t.get(e,n,s),has:(e,n)=>!!jT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function WI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xg="@firebase/app",DT="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new Ey("@firebase/app"),ZI="@firebase/app-compat",JI="@firebase/analytics-compat",ej="@firebase/analytics",tj="@firebase/app-check-compat",nj="@firebase/app-check",ij="@firebase/auth",sj="@firebase/auth-compat",rj="@firebase/database",aj="@firebase/data-connect",oj="@firebase/database-compat",lj="@firebase/functions",cj="@firebase/functions-compat",uj="@firebase/installations",hj="@firebase/installations-compat",dj="@firebase/messaging",fj="@firebase/messaging-compat",mj="@firebase/performance",pj="@firebase/performance-compat",gj="@firebase/remote-config",yj="@firebase/remote-config-compat",vj="@firebase/storage",_j="@firebase/storage-compat",Tj="@firebase/firestore",xj="@firebase/ai",Ej="@firebase/firestore-compat",bj="firebase",wj="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="[DEFAULT]",Sj={[xg]:"fire-core",[ZI]:"fire-core-compat",[ej]:"fire-analytics",[JI]:"fire-analytics-compat",[nj]:"fire-app-check",[tj]:"fire-app-check-compat",[ij]:"fire-auth",[sj]:"fire-auth-compat",[rj]:"fire-rtdb",[aj]:"fire-data-connect",[oj]:"fire-rtdb-compat",[lj]:"fire-fn",[cj]:"fire-fn-compat",[uj]:"fire-iid",[hj]:"fire-iid-compat",[dj]:"fire-fcm",[fj]:"fire-fcm-compat",[mj]:"fire-perf",[pj]:"fire-perf-compat",[gj]:"fire-rc",[yj]:"fire-rc-compat",[vj]:"fire-gcs",[_j]:"fire-gcs-compat",[Tj]:"fire-fst",[Ej]:"fire-fst-compat",[xj]:"fire-vertex","fire-js":"fire-js",[bj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd=new Map,Aj=new Map,bg=new Map;function kT(t,e){try{t.container.addComponent(e)}catch(n){Cs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Aa(t){const e=t.name;if(bg.has(e))return Cs.debug(`There were multiple attempts to register component ${e}.`),!1;bg.set(e,t);for(const n of Dd.values())kT(n,t);for(const n of Aj.values())kT(n,t);return!0}function lf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Vn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pr=new fu("app","Firebase",Cj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new vr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=wj;function Qb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Eg,automaticDataCollectionEnabled:!0},e),a=s.name;if(typeof a!="string"||!a)throw pr.create("bad-app-name",{appName:String(a)});if(n||(n=qb()),!n)throw pr.create("no-options");const l=Dd.get(a);if(l){if(Sa(n,l.options)&&Sa(s,l.config))return l;throw pr.create("duplicate-app",{appName:a})}const u=new MI(a);for(const m of bg.values())u.addComponent(m);const f=new Rj(n,s,u);return Dd.set(a,f),f}function wy(t=Eg){const e=Dd.get(t);if(!e&&t===Eg&&qb())return Qb();if(!e)throw pr.create("no-app",{appName:t});return e}function Vi(t,e,n){var s;let a=(s=Sj[t])!==null&&s!==void 0?s:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${a}" with version "${e}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cs.warn(f.join(" "));return}Aa(new vr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj="firebase-heartbeat-database",Ij=1,Kc="firebase-heartbeat-store";let Yp=null;function Xb(){return Yp||(Yp=KI(Nj,Ij,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Kc)}catch(n){console.warn(n)}}}}).catch(t=>{throw pr.create("idb-open",{originalErrorMessage:t.message})})),Yp}async function jj(t){try{const n=(await Xb()).transaction(Kc),s=await n.objectStore(Kc).get(Wb(t));return await n.done,s}catch(e){if(e instanceof Yi)Cs.warn(e.message);else{const n=pr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Cs.warn(n.message)}}}async function MT(t,e){try{const s=(await Xb()).transaction(Kc,"readwrite");await s.objectStore(Kc).put(e,Wb(t)),await s.done}catch(n){if(n instanceof Yi)Cs.warn(n.message);else{const s=pr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Cs.warn(s.message)}}}function Wb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj=1024,kj=30;class Mj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Oj(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=PT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>kj){const u=Vj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Cs.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=PT(),{heartbeatsToSend:s,unsentEntries:a}=Pj(this._heartbeatsCache.heartbeats),l=jd(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Cs.warn(n),""}}}function PT(){return new Date().toISOString().substring(0,10)}function Pj(t,e=Dj){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),OT(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),OT(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Oj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return EI()?bI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return MT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return MT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function OT(t){return jd(JSON.stringify({version:2,heartbeats:t})).length}function Vj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(t){Aa(new vr("platform-logger",e=>new XI(e),"PRIVATE")),Aa(new vr("heartbeat",e=>new Mj(e),"PRIVATE")),Vi(xg,DT,t),Vi(xg,DT,"esm2017"),Vi("fire-js","")}Lj("");var Uj="firebase",Bj="11.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vi(Uj,Bj,"app");function Sy(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(n[s[a]]=t[s[a]]);return n}function Zb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zj=Zb,Jb=new fu("auth","Firebase",Zb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd=new Ey("@firebase/auth");function Fj(t,...e){kd.logLevel<=Ve.WARN&&kd.warn(`Auth (${ka}): ${t}`,...e)}function gd(t,...e){kd.logLevel<=Ve.ERROR&&kd.error(`Auth (${ka}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(t,...e){throw Ay(t,...e)}function Li(t,...e){return Ay(t,...e)}function ew(t,e,n){const s=Object.assign(Object.assign({},zj()),{[e]:n});return new fu("auth","Firebase",s).create(e,{appName:t.name})}function ws(t){return ew(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ay(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return Jb.create(t,...e)}function be(t,e,...n){if(!t)throw Ay(e,...n)}function xs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw gd(e),new Error(e)}function Rs(t,e){t||xs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Hj(){return VT()==="http:"||VT()==="https:"}function VT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Hj()||vI()||"connection"in navigator)?navigator.onLine:!0}function Gj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Rs(n>e,"Short delay should be less than long delay!"),this.isMobile=pI()||_I()}get(){return qj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(t,e){Rs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Yj=new pu(3e4,6e4);function Cr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Rr(t,e,n,s,a={}){return nw(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const f=mu(Object.assign({key:t.config.apiKey},u)).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const g=Object.assign({method:e,headers:m},l);return yI()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&il(t.emulatorConfig.host)&&(g.credentials="include"),tw.fetch()(await iw(t,t.config.apiHost,n,f),g)})}async function nw(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},$j),e);try{const a=new Xj(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw ed(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[m,g]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw ed(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw ed(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw ed(t,"user-disabled",u);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ew(t,v,g);pi(t,v)}}catch(a){if(a instanceof Yi)throw a;pi(t,"network-request-failed",{message:String(a)})}}async function gu(t,e,n,s,a={}){const l=await Rr(t,e,n,s,a);return"mfaPendingCredential"in l&&pi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function iw(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?Cy(t.config,a):`${t.config.apiScheme}://${a}`;return Kj.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function Qj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Xj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Li(this.auth,"network-request-failed")),Yj.get())})}}function ed(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Li(t,e,s);return a.customData._tokenResponse=n,a}function LT(t){return t!==void 0&&t.enterprise!==void 0}class Wj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Qj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Zj(t,e){return Rr(t,"GET","/v2/recaptchaConfig",Cr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jj(t,e){return Rr(t,"POST","/v1/accounts:delete",e)}async function Md(t,e){return Rr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eD(t,e=!1){const n=Jt(t),s=await n.getIdToken(e),a=Ry(s);be(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:Oc(Qp(a.auth_time)),issuedAtTime:Oc(Qp(a.iat)),expirationTime:Oc(Qp(a.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Qp(t){return Number(t)*1e3}function Ry(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return gd("JWT malformed, contained fewer than 3 sections"),null;try{const a=zb(n);return a?JSON.parse(a):(gd("Failed to decode base64 JWT payload"),null)}catch(a){return gd("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function UT(t){const e=Ry(t);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yc(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Yi&&tD(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function tD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oc(this.lastLoginAt),this.creationTime=Oc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pd(t){var e;const n=t.auth,s=await t.getIdToken(),a=await Yc(t,Md(n,{idToken:s}));be(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?sw(l.providerUserInfo):[],f=sD(t.providerData,u),m=t.isAnonymous,g=!(t.email&&l.passwordHash)&&!(f!=null&&f.length),v=m?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Sg(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(t,T)}async function iD(t){const e=Jt(t);await Pd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sD(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function sw(t){return t.map(e=>{var{providerId:n}=e,s=Sy(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rD(t,e){const n=await nw(t,{},async()=>{const s=mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await iw(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",tw.fetch()(u,{method:"POST",headers:f,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function aD(t,e){return Rr(t,"POST","/v2/accounts:revokeToken",Cr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):UT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=UT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await rD(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new zo;return s&&(be(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(be(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(be(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zo,this.toJSON())}_performRefresh(){return xs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(t,e){be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class fi{constructor(e){var{uid:n,auth:s,stsTokenManager:a}=e,l=Sy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Sg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Yc(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return eD(this,e)}reload(){return iD(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Pd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(ws(this.auth));const e=await this.getIdToken();return await Yc(this,Jj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,a,l,u,f,m,g,v;const T=(s=n.displayName)!==null&&s!==void 0?s:void 0,x=(a=n.email)!==null&&a!==void 0?a:void 0,w=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,S=(u=n.photoURL)!==null&&u!==void 0?u:void 0,D=(f=n.tenantId)!==null&&f!==void 0?f:void 0,k=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,V=(g=n.createdAt)!==null&&g!==void 0?g:void 0,Q=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:F,emailVerified:ne,isAnonymous:z,providerData:H,stsTokenManager:I}=n;be(F&&I,e,"internal-error");const C=zo.fromJSON(this.name,I);be(typeof F=="string",e,"internal-error"),or(T,e.name),or(x,e.name),be(typeof ne=="boolean",e,"internal-error"),be(typeof z=="boolean",e,"internal-error"),or(w,e.name),or(S,e.name),or(D,e.name),or(k,e.name),or(V,e.name),or(Q,e.name);const j=new fi({uid:F,auth:e,email:x,emailVerified:ne,displayName:T,isAnonymous:z,photoURL:S,phoneNumber:w,tenantId:D,stsTokenManager:C,createdAt:V,lastLoginAt:Q});return H&&Array.isArray(H)&&(j.providerData=H.map(O=>Object.assign({},O))),k&&(j._redirectEventId=k),j}static async _fromIdTokenResponse(e,n,s=!1){const a=new zo;a.updateFromServerResponse(n);const l=new fi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Pd(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];be(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?sw(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new zo;f.updateFromIdToken(s);const m=new fi({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Sg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=new Map;function Es(t){Rs(t instanceof Function,"Expected a class definition");let e=BT.get(t);return e?(Rs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,BT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}rw.type="NONE";const zT=rw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(t,e,n){return`firebase:${t}:${e}:${n}`}class Fo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=yd(this.userKey,a.apiKey,l),this.fullPersistenceKey=yd("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Md(this.auth,{idToken:e}).catch(()=>{});return n?fi._fromGetAccountInfoResponse(this.auth,n,e):null}return fi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Fo(Es(zT),e,s);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Es(zT);const u=yd(s,e.config.apiKey,e.name);let f=null;for(const g of n)try{const v=await g._get(u);if(v){let T;if(typeof v=="string"){const x=await Md(e,{idToken:v}).catch(()=>{});if(!x)break;T=await fi._fromGetAccountInfoResponse(e,x,v)}else T=fi._fromJSON(e,v);g!==l&&(f=T),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Fo(l,e,s):(l=m[0],f&&await l._set(u,f.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(u)}catch{}})),new Fo(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hw(e))return"Blackberry";if(dw(e))return"Webos";if(ow(e))return"Safari";if((e.includes("chrome/")||lw(e))&&!e.includes("edge/"))return"Chrome";if(uw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function aw(t=un()){return/firefox\//i.test(t)}function ow(t=un()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lw(t=un()){return/crios\//i.test(t)}function cw(t=un()){return/iemobile/i.test(t)}function uw(t=un()){return/android/i.test(t)}function hw(t=un()){return/blackberry/i.test(t)}function dw(t=un()){return/webos/i.test(t)}function Ny(t=un()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function oD(t=un()){var e;return Ny(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function lD(){return TI()&&document.documentMode===10}function fw(t=un()){return Ny(t)||uw(t)||dw(t)||hw(t)||/windows phone/i.test(t)||cw(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(t,e=[]){let n;switch(t){case"Browser":n=FT(un());break;case"Worker":n=`${FT(un())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ka}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,f)=>{try{const m=e(l);u(m)}catch(m){f(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(t,e={}){return Rr(t,"GET","/v2/passwordPolicy",Cr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=6;class dD{constructor(e){var n,s,a,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:hD,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,a,l,u,f;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(u=m.containsNumericCharacter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(f=m.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),m}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new HT(this),this.idTokenSubscription=new HT(this),this.beforeStateQueue=new cD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Jb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Es(n)),this._initializationPromise=this.queue(async()=>{var s,a,l;if(!this._deleted&&(this.persistenceManager=await Fo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Md(this,{idToken:e}),s=await fi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Vn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Pd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Gj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(ws(this));const n=e?Jt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(ws(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(ws(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Es(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uD(this),n=new dD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await aD(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Es(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await Fo.create(this,[Es(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Fj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ma(t){return Jt(t)}class HT{constructor(e){this.auth=e,this.observer=null,this.addObserver=RI(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mD(t){cf=t}function pw(t){return cf.loadJS(t)}function pD(){return cf.recaptchaEnterpriseScript}function gD(){return cf.gapiScript}function yD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class vD{constructor(){this.enterprise=new _D}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class _D{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const TD="recaptcha-enterprise",gw="NO_RECAPTCHA";class xD{constructor(e){this.type=TD,this.auth=Ma(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,f)=>{Zj(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new Wj(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,u(g.siteKey)}}).catch(m=>{f(m)})})}function a(l,u,f){const m=window.grecaptcha;LT(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{u(g)}).catch(()=>{u(gw)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new vD().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{s(this.auth).then(f=>{if(!n&&LT(window.grecaptcha))a(f,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=pD();m.length!==0&&(m+=f),pw(m).then(()=>{a(f,l,u)}).catch(g=>{u(g)})}}).catch(f=>{u(f)})})}}async function qT(t,e,n,s=!1,a=!1){const l=new xD(t);let u;if(a)u=gw;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const f=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Ag(t,e,n,s,a){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await qT(t,e,n,n==="getOobCode");return s(t,u)}else return s(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await qT(t,e,n,n==="getOobCode");return s(t,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(t,e){const n=lf(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Sa(l,e??{}))return a;pi(a,"already-initialized")}return n.initialize({options:e})}function bD(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Es);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function wD(t,e,n){const s=Ma(t);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=yw(e),{host:u,port:f}=SD(e),m=f===null?"":`:${f}`,g={url:`${l}//${u}${m}/`},v=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(Sa(g,s.config.emulator)&&Sa(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,il(u)?(sl("Auth",!0),xy(`${l}//${u}${m}`)):AD()}function yw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function SD(t){const e=yw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:GT(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:GT(u)}}}function GT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function AD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xs("not implemented")}_getIdTokenResponse(e){return xs("not implemented")}_linkToIdToken(e,n){return xs("not implemented")}_getReauthenticationResolver(e){return xs("not implemented")}}async function CD(t,e){return Rr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RD(t,e){return gu(t,"POST","/v1/accounts:signInWithPassword",Cr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(t,e){return gu(t,"POST","/v1/accounts:signInWithEmailLink",Cr(t,e))}async function ID(t,e){return gu(t,"POST","/v1/accounts:signInWithEmailLink",Cr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc extends Iy{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Qc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Qc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ag(e,n,"signInWithPassword",RD);case"emailLink":return ND(e,{email:this._email,oobCode:this._password});default:pi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ag(e,s,"signUpPassword",CD);case"emailLink":return ID(e,{idToken:n,email:this._email,oobCode:this._password});default:pi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(t,e){return gu(t,"POST","/v1/accounts:signInWithIdp",Cr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="http://localhost";class Ca extends Iy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a}=n,l=Sy(n,["providerId","signInMethod"]);if(!s||!a)return null;const u=new Ca(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Ho(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ho(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ho(e,n)}buildRequest(){const e={requestUri:jD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kD(t){const e=Cc(Rc(t)).link,n=e?Cc(Rc(e)).deep_link_id:null,s=Cc(Rc(t)).deep_link_id;return(s?Cc(Rc(s)).link:null)||s||n||e||t}class jy{constructor(e){var n,s,a,l,u,f;const m=Cc(Rc(e)),g=(n=m.apiKey)!==null&&n!==void 0?n:null,v=(s=m.oobCode)!==null&&s!==void 0?s:null,T=DD((a=m.mode)!==null&&a!==void 0?a:null);be(g&&v&&T,"argument-error"),this.apiKey=g,this.operation=T,this.code=v,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=m.lang)!==null&&u!==void 0?u:null,this.tenantId=(f=m.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const n=kD(e);try{return new jy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(){this.providerId=rl.PROVIDER_ID}static credential(e,n){return Qc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=jy.parseLink(n);return be(s,"argument-error"),Qc._fromEmailAndCode(e,s.code,s.tenantId)}}rl.PROVIDER_ID="password";rl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";rl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends vw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends yu{constructor(){super("facebook.com")}static credential(e){return Ca._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cr.credential(e.oauthAccessToken)}catch{return null}}}cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";cr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ca._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ur.credential(n,s)}catch{return null}}}ur.GOOGLE_SIGN_IN_METHOD="google.com";ur.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr extends yu{constructor(){super("github.com")}static credential(e){return Ca._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hr.credential(e.oauthAccessToken)}catch{return null}}}hr.GITHUB_SIGN_IN_METHOD="github.com";hr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends yu{constructor(){super("twitter.com")}static credential(e,n){return Ca._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return dr.credential(n,s)}catch{return null}}}dr.TWITTER_SIGN_IN_METHOD="twitter.com";dr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MD(t,e){return gu(t,"POST","/v1/accounts:signUp",Cr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await fi._fromIdTokenResponse(e,s,a),u=$T(s);return new Ra({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=$T(s);return new Ra({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function $T(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od extends Yi{constructor(e,n,s,a){var l;super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Od.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new Od(e,n,s,a)}}function _w(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Od._fromErrorAndOperation(t,l,e,s):l})}async function PD(t,e,n=!1){const s=await Yc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ra._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OD(t,e,n=!1){const{auth:s}=t;if(Vn(s.app))return Promise.reject(ws(s));const a="reauthenticate";try{const l=await Yc(t,_w(s,a,e,t),n);be(l.idToken,s,"internal-error");const u=Ry(l.idToken);be(u,s,"internal-error");const{sub:f}=u;return be(t.uid===f,s,"user-mismatch"),Ra._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&pi(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tw(t,e,n=!1){if(Vn(t.app))return Promise.reject(ws(t));const s="signIn",a=await _w(t,s,e),l=await Ra._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function VD(t,e){return Tw(Ma(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xw(t){const e=Ma(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function LD(t,e,n){if(Vn(t.app))return Promise.reject(ws(t));const s=Ma(t),u=await Ag(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",MD).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&xw(t),m}),f=await Ra._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(f.user),f}function UD(t,e,n){return Vn(t.app)?Promise.reject(ws(t)):VD(Jt(t),rl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&xw(t),s})}function BD(t,e,n,s){return Jt(t).onIdTokenChanged(e,n,s)}function zD(t,e,n){return Jt(t).beforeAuthStateChanged(e,n)}const Vd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vd,"1"),this.storage.removeItem(Vd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=1e3,HD=10;class bw extends Ew{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,m)=>{this.notifyListeners(u,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);lD()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,HD):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},FD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bw.type="LOCAL";const qD=bw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww extends Ew{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ww.type="SESSION";const Sw=ww;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new uf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(u).map(async g=>g(n.origin,l)),m=await GD(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,m)=>{const g=Dy("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(T){const x=T;if(x.data.eventId===g)switch(x.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(x.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(){return window}function KD(t){Ui().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function YD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function XD(){return Aw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="firebaseLocalStorageDb",WD=1,Ld="firebaseLocalStorage",Rw="fbase_key";class vu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hf(t,e){return t.transaction([Ld],e?"readwrite":"readonly").objectStore(Ld)}function ZD(){const t=indexedDB.deleteDatabase(Cw);return new vu(t).toPromise()}function Cg(){const t=indexedDB.open(Cw,WD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Ld,{keyPath:Rw})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Ld)?e(s):(s.close(),await ZD(),e(await Cg()))})})}async function KT(t,e,n){const s=hf(t,!0).put({[Rw]:e,value:n});return new vu(s).toPromise()}async function JD(t,e){const n=hf(t,!1).get(e),s=await new vu(n).toPromise();return s===void 0?null:s.value}function YT(t,e){const n=hf(t,!0).delete(e);return new vu(n).toPromise()}const ek=800,tk=3;class Nw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>tk)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Aw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uf._getInstance(XD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await YD(),!this.activeServiceWorker)return;this.sender=new $D(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||QD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cg();return await KT(e,Vd,"1"),await YT(e,Vd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>KT(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>JD(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>YT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=hf(a,!1).getAll();return new vu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ek)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Nw.type="LOCAL";const nk=Nw;new pu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(t,e){return e?Es(e):(be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky extends Iy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function sk(t){return Tw(t.auth,new ky(t),t.bypassAuthState)}function rk(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),OD(n,new ky(t),t.bypassAuthState)}async function ak(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),PD(n,new ky(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sk;case"linkViaPopup":case"linkViaRedirect":return ak;case"reauthViaPopup":case"reauthViaRedirect":return rk;default:pi(this.auth,"internal-error")}}resolve(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=new pu(2e3,1e4);class Po extends Iw{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Po.currentPopupAction&&Po.currentPopupAction.cancel(),Po.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Rs(this.filter.length===1,"Popup operations only handle one event");const e=Dy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Po.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ok.get())};e()}}Po.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk="pendingRedirect",vd=new Map;class ck extends Iw{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=vd.get(this.auth._key());if(!e){try{const s=await uk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}vd.set(this.auth._key(),e)}return this.bypassAuthState||vd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uk(t,e){const n=fk(e),s=dk(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function hk(t,e){vd.set(t._key(),e)}function dk(t){return Es(t._redirectPersistence)}function fk(t){return yd(lk,t.config.apiKey,t.name)}async function mk(t,e,n=!1){if(Vn(t.app))return Promise.reject(ws(t));const s=Ma(t),a=ik(s,e),u=await new ck(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=10*60*1e3;class gk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yk(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!jw(e)){const a=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Li(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pk&&this.cachedEventUids.clear(),this.cachedEventUids.has(QT(e))}saveEventToCache(e){this.cachedEventUids.add(QT(e)),this.lastProcessedEventTime=Date.now()}}function QT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jw({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yk(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vk(t,e={}){return Rr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tk=/^https?/;async function xk(t){if(t.config.emulator)return;const{authorizedDomains:e}=await vk(t);for(const n of e)try{if(Ek(n))return}catch{}pi(t,"unauthorized-domain")}function Ek(t){const e=wg(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!Tk.test(n))return!1;if(_k.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=new pu(3e4,6e4);function XT(){const t=Ui().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function wk(t){return new Promise((e,n)=>{var s,a,l;function u(){XT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{XT(),n(Li(t,"network-request-failed"))},timeout:bk.get()})}if(!((a=(s=Ui().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Ui().gapi)===null||l===void 0)&&l.load)u();else{const f=yD("iframefcb");return Ui()[f]=()=>{gapi.load?u():n(Li(t,"network-request-failed"))},pw(`${gD()}?onload=${f}`).catch(m=>n(m))}}).catch(e=>{throw _d=null,e})}let _d=null;function Sk(t){return _d=_d||wk(t),_d}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=new pu(5e3,15e3),Ck="__/auth/iframe",Rk="emulator/auth/iframe",Nk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ik=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jk(t){const e=t.config;be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Cy(e,Rk):`https://${t.config.authDomain}/${Ck}`,s={apiKey:e.apiKey,appName:t.name,v:ka},a=Ik.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${mu(s).slice(1)}`}async function Dk(t){const e=await Sk(t),n=Ui().gapi;return be(n,t,"internal-error"),e.open({where:document.body,url:jk(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nk,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=Li(t,"network-request-failed"),f=Ui().setTimeout(()=>{l(u)},Ak.get());function m(){Ui().clearTimeout(f),a(s)}s.ping(m).then(m,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Mk=500,Pk=600,Ok="_blank",Vk="http://localhost";class WT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Lk(t,e,n,s=Mk,a=Pk){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const m=Object.assign(Object.assign({},kk),{width:s.toString(),height:a.toString(),top:l,left:u}),g=un().toLowerCase();n&&(f=lw(g)?Ok:n),aw(g)&&(e=e||Vk,m.scrollbars="yes");const v=Object.entries(m).reduce((x,[w,S])=>`${x}${w}=${S},`,"");if(oD(g)&&f!=="_self")return Uk(e||"",f),new WT(null);const T=window.open(e||"",f,v);be(T,t,"popup-blocked");try{T.focus()}catch{}return new WT(T)}function Uk(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk="__/auth/handler",zk="emulator/auth/handler",Fk=encodeURIComponent("fac");async function ZT(t,e,n,s,a,l){be(t.config.authDomain,t,"auth-domain-config-required"),be(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:ka,eventId:a};if(e instanceof vw){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",CI(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))u[v]=T}if(e instanceof yu){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const m=await t._getAppCheckToken(),g=m?`#${Fk}=${encodeURIComponent(m)}`:"";return`${Hk(t)}?${mu(f).slice(1)}${g}`}function Hk({config:t}){return t.emulator?Cy(t,zk):`https://${t.authDomain}/${Bk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="webStorageSupport";class qk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sw,this._completeRedirectFn=mk,this._overrideRedirectResult=hk}async _openPopup(e,n,s,a){var l;Rs((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await ZT(e,n,s,wg(),a);return Lk(e,u,Dy())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await ZT(e,n,s,wg(),a);return KD(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Rs(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await Dk(e),s=new gk(e);return n.register("authEvent",a=>(be(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xp,{type:Xp},a=>{var l;const u=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Xp];u!==void 0&&n(!!u),pi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=xk(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fw()||ow()||Ny()}}const Gk=qk;var JT="@firebase/auth",ex="1.10.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Yk(t){Aa(new vr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=s.options;be(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mw(t)},g=new fD(s,a,l,m);return bD(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Aa(new vr("auth-internal",e=>{const n=Ma(e.getProvider("auth").getImmediate());return(s=>new $k(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vi(JT,ex,Kk(t)),Vi(JT,ex,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=5*60,Xk=Gb("authIdTokenMaxAge")||Qk;let tx=null;const Wk=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Xk)return;const a=n==null?void 0:n.token;tx!==a&&(tx=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Zk(t=wy()){const e=lf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=ED(t,{popupRedirectResolver:Gk,persistence:[nk,qD,Sw]}),s=Gb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=Wk(l.toString());zD(n,u,()=>u(n.currentUser)),BD(n,f=>u(f))}}const a=Fb("auth");return a?wD(n,`http://${a}`):sl("Auth",!1),n}function Jk(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}mD({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Li("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",Jk().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Yk("Browser");var nx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gr,Dw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,C){function j(){}j.prototype=C.prototype,I.D=C.prototype,I.prototype=new j,I.prototype.constructor=I,I.C=function(O,U,q){for(var M=Array(arguments.length-2),st=2;st<arguments.length;st++)M[st-2]=arguments[st];return C.prototype[U].apply(O,M)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,C,j){j||(j=0);var O=Array(16);if(typeof C=="string")for(var U=0;16>U;++U)O[U]=C.charCodeAt(j++)|C.charCodeAt(j++)<<8|C.charCodeAt(j++)<<16|C.charCodeAt(j++)<<24;else for(U=0;16>U;++U)O[U]=C[j++]|C[j++]<<8|C[j++]<<16|C[j++]<<24;C=I.g[0],j=I.g[1],U=I.g[2];var q=I.g[3],M=C+(q^j&(U^q))+O[0]+3614090360&4294967295;C=j+(M<<7&4294967295|M>>>25),M=q+(U^C&(j^U))+O[1]+3905402710&4294967295,q=C+(M<<12&4294967295|M>>>20),M=U+(j^q&(C^j))+O[2]+606105819&4294967295,U=q+(M<<17&4294967295|M>>>15),M=j+(C^U&(q^C))+O[3]+3250441966&4294967295,j=U+(M<<22&4294967295|M>>>10),M=C+(q^j&(U^q))+O[4]+4118548399&4294967295,C=j+(M<<7&4294967295|M>>>25),M=q+(U^C&(j^U))+O[5]+1200080426&4294967295,q=C+(M<<12&4294967295|M>>>20),M=U+(j^q&(C^j))+O[6]+2821735955&4294967295,U=q+(M<<17&4294967295|M>>>15),M=j+(C^U&(q^C))+O[7]+4249261313&4294967295,j=U+(M<<22&4294967295|M>>>10),M=C+(q^j&(U^q))+O[8]+1770035416&4294967295,C=j+(M<<7&4294967295|M>>>25),M=q+(U^C&(j^U))+O[9]+2336552879&4294967295,q=C+(M<<12&4294967295|M>>>20),M=U+(j^q&(C^j))+O[10]+4294925233&4294967295,U=q+(M<<17&4294967295|M>>>15),M=j+(C^U&(q^C))+O[11]+2304563134&4294967295,j=U+(M<<22&4294967295|M>>>10),M=C+(q^j&(U^q))+O[12]+1804603682&4294967295,C=j+(M<<7&4294967295|M>>>25),M=q+(U^C&(j^U))+O[13]+4254626195&4294967295,q=C+(M<<12&4294967295|M>>>20),M=U+(j^q&(C^j))+O[14]+2792965006&4294967295,U=q+(M<<17&4294967295|M>>>15),M=j+(C^U&(q^C))+O[15]+1236535329&4294967295,j=U+(M<<22&4294967295|M>>>10),M=C+(U^q&(j^U))+O[1]+4129170786&4294967295,C=j+(M<<5&4294967295|M>>>27),M=q+(j^U&(C^j))+O[6]+3225465664&4294967295,q=C+(M<<9&4294967295|M>>>23),M=U+(C^j&(q^C))+O[11]+643717713&4294967295,U=q+(M<<14&4294967295|M>>>18),M=j+(q^C&(U^q))+O[0]+3921069994&4294967295,j=U+(M<<20&4294967295|M>>>12),M=C+(U^q&(j^U))+O[5]+3593408605&4294967295,C=j+(M<<5&4294967295|M>>>27),M=q+(j^U&(C^j))+O[10]+38016083&4294967295,q=C+(M<<9&4294967295|M>>>23),M=U+(C^j&(q^C))+O[15]+3634488961&4294967295,U=q+(M<<14&4294967295|M>>>18),M=j+(q^C&(U^q))+O[4]+3889429448&4294967295,j=U+(M<<20&4294967295|M>>>12),M=C+(U^q&(j^U))+O[9]+568446438&4294967295,C=j+(M<<5&4294967295|M>>>27),M=q+(j^U&(C^j))+O[14]+3275163606&4294967295,q=C+(M<<9&4294967295|M>>>23),M=U+(C^j&(q^C))+O[3]+4107603335&4294967295,U=q+(M<<14&4294967295|M>>>18),M=j+(q^C&(U^q))+O[8]+1163531501&4294967295,j=U+(M<<20&4294967295|M>>>12),M=C+(U^q&(j^U))+O[13]+2850285829&4294967295,C=j+(M<<5&4294967295|M>>>27),M=q+(j^U&(C^j))+O[2]+4243563512&4294967295,q=C+(M<<9&4294967295|M>>>23),M=U+(C^j&(q^C))+O[7]+1735328473&4294967295,U=q+(M<<14&4294967295|M>>>18),M=j+(q^C&(U^q))+O[12]+2368359562&4294967295,j=U+(M<<20&4294967295|M>>>12),M=C+(j^U^q)+O[5]+4294588738&4294967295,C=j+(M<<4&4294967295|M>>>28),M=q+(C^j^U)+O[8]+2272392833&4294967295,q=C+(M<<11&4294967295|M>>>21),M=U+(q^C^j)+O[11]+1839030562&4294967295,U=q+(M<<16&4294967295|M>>>16),M=j+(U^q^C)+O[14]+4259657740&4294967295,j=U+(M<<23&4294967295|M>>>9),M=C+(j^U^q)+O[1]+2763975236&4294967295,C=j+(M<<4&4294967295|M>>>28),M=q+(C^j^U)+O[4]+1272893353&4294967295,q=C+(M<<11&4294967295|M>>>21),M=U+(q^C^j)+O[7]+4139469664&4294967295,U=q+(M<<16&4294967295|M>>>16),M=j+(U^q^C)+O[10]+3200236656&4294967295,j=U+(M<<23&4294967295|M>>>9),M=C+(j^U^q)+O[13]+681279174&4294967295,C=j+(M<<4&4294967295|M>>>28),M=q+(C^j^U)+O[0]+3936430074&4294967295,q=C+(M<<11&4294967295|M>>>21),M=U+(q^C^j)+O[3]+3572445317&4294967295,U=q+(M<<16&4294967295|M>>>16),M=j+(U^q^C)+O[6]+76029189&4294967295,j=U+(M<<23&4294967295|M>>>9),M=C+(j^U^q)+O[9]+3654602809&4294967295,C=j+(M<<4&4294967295|M>>>28),M=q+(C^j^U)+O[12]+3873151461&4294967295,q=C+(M<<11&4294967295|M>>>21),M=U+(q^C^j)+O[15]+530742520&4294967295,U=q+(M<<16&4294967295|M>>>16),M=j+(U^q^C)+O[2]+3299628645&4294967295,j=U+(M<<23&4294967295|M>>>9),M=C+(U^(j|~q))+O[0]+4096336452&4294967295,C=j+(M<<6&4294967295|M>>>26),M=q+(j^(C|~U))+O[7]+1126891415&4294967295,q=C+(M<<10&4294967295|M>>>22),M=U+(C^(q|~j))+O[14]+2878612391&4294967295,U=q+(M<<15&4294967295|M>>>17),M=j+(q^(U|~C))+O[5]+4237533241&4294967295,j=U+(M<<21&4294967295|M>>>11),M=C+(U^(j|~q))+O[12]+1700485571&4294967295,C=j+(M<<6&4294967295|M>>>26),M=q+(j^(C|~U))+O[3]+2399980690&4294967295,q=C+(M<<10&4294967295|M>>>22),M=U+(C^(q|~j))+O[10]+4293915773&4294967295,U=q+(M<<15&4294967295|M>>>17),M=j+(q^(U|~C))+O[1]+2240044497&4294967295,j=U+(M<<21&4294967295|M>>>11),M=C+(U^(j|~q))+O[8]+1873313359&4294967295,C=j+(M<<6&4294967295|M>>>26),M=q+(j^(C|~U))+O[15]+4264355552&4294967295,q=C+(M<<10&4294967295|M>>>22),M=U+(C^(q|~j))+O[6]+2734768916&4294967295,U=q+(M<<15&4294967295|M>>>17),M=j+(q^(U|~C))+O[13]+1309151649&4294967295,j=U+(M<<21&4294967295|M>>>11),M=C+(U^(j|~q))+O[4]+4149444226&4294967295,C=j+(M<<6&4294967295|M>>>26),M=q+(j^(C|~U))+O[11]+3174756917&4294967295,q=C+(M<<10&4294967295|M>>>22),M=U+(C^(q|~j))+O[2]+718787259&4294967295,U=q+(M<<15&4294967295|M>>>17),M=j+(q^(U|~C))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(U+(M<<21&4294967295|M>>>11))&4294967295,I.g[2]=I.g[2]+U&4294967295,I.g[3]=I.g[3]+q&4294967295}s.prototype.u=function(I,C){C===void 0&&(C=I.length);for(var j=C-this.blockSize,O=this.B,U=this.h,q=0;q<C;){if(U==0)for(;q<=j;)a(this,I,q),q+=this.blockSize;if(typeof I=="string"){for(;q<C;)if(O[U++]=I.charCodeAt(q++),U==this.blockSize){a(this,O),U=0;break}}else for(;q<C;)if(O[U++]=I[q++],U==this.blockSize){a(this,O),U=0;break}}this.h=U,this.o+=C},s.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;var j=8*this.o;for(C=I.length-8;C<I.length;++C)I[C]=j&255,j/=256;for(this.u(I),I=Array(16),C=j=0;4>C;++C)for(var O=0;32>O;O+=8)I[j++]=this.g[C]>>>O&255;return I};function l(I,C){var j=f;return Object.prototype.hasOwnProperty.call(j,I)?j[I]:j[I]=C(I)}function u(I,C){this.h=C;for(var j=[],O=!0,U=I.length-1;0<=U;U--){var q=I[U]|0;O&&q==C||(j[U]=q,O=!1)}this.g=j}var f={};function m(I){return-128<=I&&128>I?l(I,function(C){return new u([C|0],0>C?-1:0)}):new u([I|0],0>I?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return T;if(0>I)return k(g(-I));for(var C=[],j=1,O=0;I>=j;O++)C[O]=I/j|0,j*=4294967296;return new u(C,0)}function v(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return k(v(I.substring(1),C));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var j=g(Math.pow(C,8)),O=T,U=0;U<I.length;U+=8){var q=Math.min(8,I.length-U),M=parseInt(I.substring(U,U+q),C);8>q?(q=g(Math.pow(C,q)),O=O.j(q).add(g(M))):(O=O.j(j),O=O.add(g(M)))}return O}var T=m(0),x=m(1),w=m(16777216);t=u.prototype,t.m=function(){if(D(this))return-k(this).m();for(var I=0,C=1,j=0;j<this.g.length;j++){var O=this.i(j);I+=(0<=O?O:4294967296+O)*C,C*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(S(this))return"0";if(D(this))return"-"+k(this).toString(I);for(var C=g(Math.pow(I,6)),j=this,O="";;){var U=ne(j,C).g;j=V(j,U.j(C));var q=((0<j.g.length?j.g[0]:j.h)>>>0).toString(I);if(j=U,S(j))return q+O;for(;6>q.length;)q="0"+q;O=q+O}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function S(I){if(I.h!=0)return!1;for(var C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function D(I){return I.h==-1}t.l=function(I){return I=V(this,I),D(I)?-1:S(I)?0:1};function k(I){for(var C=I.g.length,j=[],O=0;O<C;O++)j[O]=~I.g[O];return new u(j,~I.h).add(x)}t.abs=function(){return D(this)?k(this):this},t.add=function(I){for(var C=Math.max(this.g.length,I.g.length),j=[],O=0,U=0;U<=C;U++){var q=O+(this.i(U)&65535)+(I.i(U)&65535),M=(q>>>16)+(this.i(U)>>>16)+(I.i(U)>>>16);O=M>>>16,q&=65535,M&=65535,j[U]=M<<16|q}return new u(j,j[j.length-1]&-2147483648?-1:0)};function V(I,C){return I.add(k(C))}t.j=function(I){if(S(this)||S(I))return T;if(D(this))return D(I)?k(this).j(k(I)):k(k(this).j(I));if(D(I))return k(this.j(k(I)));if(0>this.l(w)&&0>I.l(w))return g(this.m()*I.m());for(var C=this.g.length+I.g.length,j=[],O=0;O<2*C;O++)j[O]=0;for(O=0;O<this.g.length;O++)for(var U=0;U<I.g.length;U++){var q=this.i(O)>>>16,M=this.i(O)&65535,st=I.i(U)>>>16,Ge=I.i(U)&65535;j[2*O+2*U]+=M*Ge,Q(j,2*O+2*U),j[2*O+2*U+1]+=q*Ge,Q(j,2*O+2*U+1),j[2*O+2*U+1]+=M*st,Q(j,2*O+2*U+1),j[2*O+2*U+2]+=q*st,Q(j,2*O+2*U+2)}for(O=0;O<C;O++)j[O]=j[2*O+1]<<16|j[2*O];for(O=C;O<2*C;O++)j[O]=0;return new u(j,0)};function Q(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function F(I,C){this.g=I,this.h=C}function ne(I,C){if(S(C))throw Error("division by zero");if(S(I))return new F(T,T);if(D(I))return C=ne(k(I),C),new F(k(C.g),k(C.h));if(D(C))return C=ne(I,k(C)),new F(k(C.g),C.h);if(30<I.g.length){if(D(I)||D(C))throw Error("slowDivide_ only works with positive integers.");for(var j=x,O=C;0>=O.l(I);)j=z(j),O=z(O);var U=H(j,1),q=H(O,1);for(O=H(O,2),j=H(j,2);!S(O);){var M=q.add(O);0>=M.l(I)&&(U=U.add(j),q=M),O=H(O,1),j=H(j,1)}return C=V(I,U.j(C)),new F(U,C)}for(U=T;0<=I.l(C);){for(j=Math.max(1,Math.floor(I.m()/C.m())),O=Math.ceil(Math.log(j)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),q=g(j),M=q.j(C);D(M)||0<M.l(I);)j-=O,q=g(j),M=q.j(C);S(q)&&(q=x),U=U.add(q),I=V(I,M)}return new F(U,I)}t.A=function(I){return ne(this,I).h},t.and=function(I){for(var C=Math.max(this.g.length,I.g.length),j=[],O=0;O<C;O++)j[O]=this.i(O)&I.i(O);return new u(j,this.h&I.h)},t.or=function(I){for(var C=Math.max(this.g.length,I.g.length),j=[],O=0;O<C;O++)j[O]=this.i(O)|I.i(O);return new u(j,this.h|I.h)},t.xor=function(I){for(var C=Math.max(this.g.length,I.g.length),j=[],O=0;O<C;O++)j[O]=this.i(O)^I.i(O);return new u(j,this.h^I.h)};function z(I){for(var C=I.g.length+1,j=[],O=0;O<C;O++)j[O]=I.i(O)<<1|I.i(O-1)>>>31;return new u(j,I.h)}function H(I,C){var j=C>>5;C%=32;for(var O=I.g.length-j,U=[],q=0;q<O;q++)U[q]=0<C?I.i(q+j)>>>C|I.i(q+j+1)<<32-C:I.i(q+j);return new u(U,I.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Dw=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=v,gr=u}).apply(typeof nx<"u"?nx:typeof self<"u"?self:typeof window<"u"?window:{});var td=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kw,Nc,Mw,Td,Rg,Pw,Ow,Vw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,E){return d==Array.prototype||d==Object.prototype||(d[_]=E.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof td=="object"&&td];for(var _=0;_<d.length;++_){var E=d[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function a(d,_){if(_)e:{var E=s;d=d.split(".");for(var R=0;R<d.length-1;R++){var $=d[R];if(!($ in E))break e;E=E[$]}d=d[d.length-1],R=E[d],_=_(R),_!=R&&_!=null&&e(E,d,{configurable:!0,writable:!0,value:_})}}function l(d,_){d instanceof String&&(d+="");var E=0,R=!1,$={next:function(){if(!R&&E<d.length){var J=E++;return{value:_(J,d[J]),done:!1}}return R=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}a("Array.prototype.values",function(d){return d||function(){return l(this,function(_,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function g(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function v(d,_,E){return d.call.apply(d.bind,arguments)}function T(d,_,E){if(!d)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,R),d.apply(_,$)}}return function(){return d.apply(_,arguments)}}function x(d,_,E){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,x.apply(null,arguments)}function w(d,_){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function S(d,_){function E(){}E.prototype=_.prototype,d.aa=_.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(R,$,J){for(var ce=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)ce[Ue-2]=arguments[Ue];return _.prototype[$].apply(R,ce)}}function D(d){const _=d.length;if(0<_){const E=Array(_);for(let R=0;R<_;R++)E[R]=d[R];return E}return[]}function k(d,_){for(let E=1;E<arguments.length;E++){const R=arguments[E];if(m(R)){const $=d.length||0,J=R.length||0;d.length=$+J;for(let ce=0;ce<J;ce++)d[$+ce]=R[ce]}else d.push(R)}}class V{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function Q(d){return/^[\s\xa0]*$/.test(d)}function F(){var d=f.navigator;return d&&(d=d.userAgent)?d:""}function ne(d){return ne[" "](d),d}ne[" "]=function(){};var z=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function H(d,_,E){for(const R in d)_.call(E,d[R],R,d)}function I(d,_){for(const E in d)_.call(void 0,d[E],E,d)}function C(d){const _={};for(const E in d)_[E]=d[E];return _}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(d,_){let E,R;for(let $=1;$<arguments.length;$++){R=arguments[$];for(E in R)d[E]=R[E];for(let J=0;J<j.length;J++)E=j[J],Object.prototype.hasOwnProperty.call(R,E)&&(d[E]=R[E])}}function U(d){var _=1;d=d.split(":");const E=[];for(;0<_&&d.length;)E.push(d.shift()),_--;return d.length&&E.push(d.join(":")),E}function q(d){f.setTimeout(()=>{throw d},0)}function M(){var d=Oe;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class st{constructor(){this.h=this.g=null}add(_,E){const R=Ge.get();R.set(_,E),this.h?this.h.next=R:this.g=R,this.h=R}}var Ge=new V(()=>new ee,d=>d.reset());class ee{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let le,fe=!1,Oe=new st,L=()=>{const d=f.Promise.resolve(void 0);le=()=>{d.then(oe)}};var oe=()=>{for(var d;d=M();){try{d.h.call(d.g)}catch(E){q(E)}var _=Ge;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}fe=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};f.addEventListener("test",E,_),f.removeEventListener("test",E,_)}catch{}return d}();function ye(d,_){if(Z.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(z){e:{try{ne(_.nodeName);var $=!0;break e}catch{}$=!1}$||(_=null)}}else E=="mouseover"?_=d.fromElement:E=="mouseout"&&(_=d.toElement);this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:xe[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&ye.aa.h.call(this)}}S(ye,Z);var xe={2:"touch",3:"pen",4:"mouse"};ye.prototype.h=function(){ye.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var wt="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function Cn(d,_,E,R,$){this.listener=d,this.proxy=null,this.src=_,this.type=E,this.capture=!!R,this.ha=$,this.key=++Ze,this.da=this.fa=!1}function $e(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function hn(d){this.src=d,this.g={},this.h=0}hn.prototype.add=function(d,_,E,R,$){var J=d.toString();d=this.g[J],d||(d=this.g[J]=[],this.h++);var ce=kr(d,_,R,$);return-1<ce?(_=d[ce],E||(_.fa=!1)):(_=new Cn(_,this.src,J,!!R,$),_.fa=E,d.push(_)),_};function _n(d,_){var E=_.type;if(E in d.g){var R=d.g[E],$=Array.prototype.indexOf.call(R,_,void 0),J;(J=0<=$)&&Array.prototype.splice.call(R,$,1),J&&($e(_),d.g[E].length==0&&(delete d.g[E],d.h--))}}function kr(d,_,E,R){for(var $=0;$<d.length;++$){var J=d[$];if(!J.da&&J.listener==_&&J.capture==!!E&&J.ha==R)return $}return-1}var Mr="closure_lm_"+(1e6*Math.random()|0),ml={};function Nu(d,_,E,R,$){if(Array.isArray(_)){for(var J=0;J<_.length;J++)Nu(d,_[J],E,R,$);return null}return E=Iu(E),d&&d[wt]?d.K(_,E,g(R)?!!R.capture:!1,$):Bn(d,_,E,!1,R,$)}function Bn(d,_,E,R,$,J){if(!_)throw Error("Invalid event type");var ce=g($)?!!$.capture:!!$,Ue=Ua(d);if(Ue||(d[Mr]=Ue=new hn(d)),E=Ue.add(_,E,R,ce,J),E.proxy)return E;if(R=Of(),E.proxy=R,R.src=d,R.listener=E,d.addEventListener)he||($=ce),$===void 0&&($=!1),d.addEventListener(_.toString(),R,$);else if(d.attachEvent)d.attachEvent(Pr(_.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Of(){function d(E){return _.call(d.src,d.listener,E)}const _=Vf;return d}function pl(d,_,E,R,$){if(Array.isArray(_))for(var J=0;J<_.length;J++)pl(d,_[J],E,R,$);else R=g(R)?!!R.capture:!!R,E=Iu(E),d&&d[wt]?(d=d.i,_=String(_).toString(),_ in d.g&&(J=d.g[_],E=kr(J,E,R,$),-1<E&&($e(J[E]),Array.prototype.splice.call(J,E,1),J.length==0&&(delete d.g[_],d.h--)))):d&&(d=Ua(d))&&(_=d.g[_.toString()],d=-1,_&&(d=kr(_,E,R,$)),(E=-1<d?_[d]:null)&&La(E))}function La(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[wt])_n(_.i,d);else{var E=d.type,R=d.proxy;_.removeEventListener?_.removeEventListener(E,R,d.capture):_.detachEvent?_.detachEvent(Pr(E),R):_.addListener&&_.removeListener&&_.removeListener(R),(E=Ua(_))?(_n(E,d),E.h==0&&(E.src=null,_[Mr]=null)):$e(d)}}}function Pr(d){return d in ml?ml[d]:ml[d]="on"+d}function Vf(d,_){if(d.da)d=!0;else{_=new ye(_,this);var E=d.listener,R=d.ha||d.src;d.fa&&La(d),d=E.call(R,_)}return d}function Ua(d){return d=d[Mr],d instanceof hn?d:null}var gl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Iu(d){return typeof d=="function"?d:(d[gl]||(d[gl]=function(_){return d.handleEvent(_)}),d[gl])}function pt(){ue.call(this),this.i=new hn(this),this.M=this,this.F=null}S(pt,ue),pt.prototype[wt]=!0,pt.prototype.removeEventListener=function(d,_,E,R){pl(this,d,_,E,R)};function Qe(d,_){var E,R=d.F;if(R)for(E=[];R;R=R.F)E.push(R);if(d=d.M,R=_.type||_,typeof _=="string")_=new Z(_,d);else if(_ instanceof Z)_.target=_.target||d;else{var $=_;_=new Z(R,d),O(_,$)}if($=!0,E)for(var J=E.length-1;0<=J;J--){var ce=_.g=E[J];$=Rn(ce,R,!0,_)&&$}if(ce=_.g=d,$=Rn(ce,R,!0,_)&&$,$=Rn(ce,R,!1,_)&&$,E)for(J=0;J<E.length;J++)ce=_.g=E[J],$=Rn(ce,R,!1,_)&&$}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var E=d.g[_],R=0;R<E.length;R++)$e(E[R]);delete d.g[_],d.h--}}this.F=null},pt.prototype.K=function(d,_,E,R){return this.i.add(String(d),_,!1,E,R)},pt.prototype.L=function(d,_,E,R){return this.i.add(String(d),_,!0,E,R)};function Rn(d,_,E,R){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var $=!0,J=0;J<_.length;++J){var ce=_[J];if(ce&&!ce.da&&ce.capture==E){var Ue=ce.listener,kt=ce.ha||ce.src;ce.fa&&_n(d.i,ce),$=Ue.call(kt,R)!==!1&&$}}return $&&!R.defaultPrevented}function tn(d,_,E){if(typeof d=="function")E&&(d=x(d,E));else if(d&&typeof d.handleEvent=="function")d=x(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:f.setTimeout(d,_||0)}function ju(d){d.g=tn(()=>{d.g=null,d.i&&(d.i=!1,ju(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class Lf extends ue{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:ju(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Or(d){ue.call(this),this.h=d,this.g={}}S(Or,ue);var Vr=[];function Lr(d){H(d.g,function(_,E){this.g.hasOwnProperty(E)&&La(_)},d),d.g={}}Or.prototype.N=function(){Or.aa.N.call(this),Lr(this)},Or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ai=f.JSON.stringify,Ba=f.JSON.parse,Ur=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function yl(){}yl.prototype.h=null;function vl(d){return d.h||(d.h=d.i())}function _l(){}var Xi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wi(){Z.call(this,"d")}S(Wi,Z);function Tl(){Z.call(this,"c")}S(Tl,Z);var Ti={},xl=null;function ks(){return xl=xl||new pt}Ti.La="serverreachability";function za(d){Z.call(this,Ti.La,d)}S(za,Z);function Ms(d){const _=ks();Qe(_,new za(_))}Ti.STAT_EVENT="statevent";function Du(d,_){Z.call(this,Ti.STAT_EVENT,d),this.stat=_}S(Du,Z);function lt(d){const _=ks();Qe(_,new Du(_,d))}Ti.Ma="timingevent";function Dt(d,_){Z.call(this,Ti.Ma,d),this.size=_}S(Dt,Z);function St(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},_)}function zn(){this.g=!0}zn.prototype.xa=function(){this.g=!1};function El(d,_,E,R,$,J){d.info(function(){if(d.g)if(J)for(var ce="",Ue=J.split("&"),kt=0;kt<Ue.length;kt++){var Be=Ue[kt].split("=");if(1<Be.length){var Ut=Be[0];Be=Be[1];var Mt=Ut.split("_");ce=2<=Mt.length&&Mt[1]=="type"?ce+(Ut+"="+Be+"&"):ce+(Ut+"=redacted&")}}else ce=null;else ce=J;return"XMLHTTP REQ ("+R+") [attempt "+$+"]: "+_+`
`+E+`
`+ce})}function Uf(d,_,E,R,$,J,ce){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+$+"]: "+_+`
`+E+`
`+J+" "+ce})}function Ps(d,_,E,R){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+Br(d,E)+(R?" "+R:"")})}function ku(d,_){d.info(function(){return"TIMEOUT: "+_})}zn.prototype.info=function(){};function Br(d,_){if(!d.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var R=E[d];if(!(2>R.length)){var $=R[1];if(Array.isArray($)&&!(1>$.length)){var J=$[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ce=1;ce<$.length;ce++)$[ce]=""}}}}return ai(E)}catch{return _}}var Os={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Zi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xi;function Ei(){}S(Ei,yl),Ei.prototype.g=function(){return new XMLHttpRequest},Ei.prototype.i=function(){return{}},xi=new Ei;function dn(d,_,E,R){this.j=d,this.i=_,this.l=E,this.R=R||1,this.U=new Or(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _t}function _t(){this.i=null,this.g="",this.h=!1}var bl={},Fa={};function oi(d,_,E){d.L=1,d.v=Gr(Nn(_)),d.m=E,d.P=!0,Ji(d,null)}function Ji(d,_){d.F=Date.now(),zr(d),d.A=Nn(d.v);var E=d.A,R=d.R;Array.isArray(R)||(R=[String(R)]),Nl(E.i,"t",R),d.C=0,E=d.j.J,d.h=new _t,d.g=Qu(d.j,E?_:null,!d.m),0<d.O&&(d.M=new Lf(x(d.Y,d,d.g),d.O)),_=d.U,E=d.g,R=d.ca;var $="readystatechange";Array.isArray($)||($&&(Vr[0]=$.toString()),$=Vr);for(var J=0;J<$.length;J++){var ce=Nu(E,$[J],R||_.handleEvent,!1,_.h||_);if(!ce)break;_.g[ce.key]=ce}_=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),Ms(),El(d.i,d.u,d.A,d.l,d.R,d.m)}dn.prototype.ca=function(d){d=d.target;const _=this.M;_&&Gn(d)==3?_.j():this.Y(d)},dn.prototype.Y=function(d){try{if(d==this.g)e:{const Mt=Gn(this.g);var _=this.g.Ba();const os=this.g.Z();if(!(3>Mt)&&(Mt!=3||this.g&&(this.h.h||this.g.oa()||zu(this.g)))){this.J||Mt!=4||_==7||(_==8||0>=os?Ms(3):Ms(2)),Vs(this);var E=this.g.Z();this.X=E;t:if(Mu(this)){var R=zu(this.g);d="";var $=R.length,J=Gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qt(this),bi(this);var ce="";break t}this.h.i=new f.TextDecoder}for(_=0;_<$;_++)this.h.h=!0,d+=this.h.i.decode(R[_],{stream:!(J&&_==$-1)});R.length=0,this.h.g+=d,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=E==200,Uf(this.i,this.u,this.A,this.l,this.R,Mt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,kt=this.g;if((Ue=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Ue)){var Be=Ue;break t}}Be=null}if(E=Be)Ps(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fr(this,E);else{this.o=!1,this.s=3,lt(12),qt(this),bi(this);break e}}if(this.P){E=!0;let Gt;for(;!this.J&&this.C<ce.length;)if(Gt=Pu(this,ce),Gt==Fa){Mt==4&&(this.s=4,lt(14),E=!1),Ps(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==bl){this.s=4,lt(15),Ps(this.i,this.l,ce,"[Invalid Chunk]"),E=!1;break}else Ps(this.i,this.l,Gt,null),Fr(this,Gt);if(Mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||ce.length!=0||this.h.h||(this.s=1,lt(16),E=!1),this.o=this.o&&E,!E)Ps(this.i,this.l,ce,"[Invalid Chunked Response]"),qt(this),bi(this);else if(0<ce.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Jr(Ut),Ut.M=!0,lt(11))}}else Ps(this.i,this.l,ce,null),Fr(this,ce);Mt==4&&qt(this),this.o&&!this.J&&(Mt==4?$u(this.j,this):(this.o=!1,zr(this)))}else qf(this.g),E==400&&0<ce.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),qt(this),bi(this)}}}catch{}finally{}};function Mu(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Pu(d,_){var E=d.C,R=_.indexOf(`
`,E);return R==-1?Fa:(E=Number(_.substring(E,R)),isNaN(E)?bl:(R+=1,R+E>_.length?Fa:(_=_.slice(R,R+E),d.C=R+E,_)))}dn.prototype.cancel=function(){this.J=!0,qt(this)};function zr(d){d.S=Date.now()+d.I,Ou(d,d.I)}function Ou(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=St(x(d.ba,d),_)}function Vs(d){d.B&&(f.clearTimeout(d.B),d.B=null)}dn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(ku(this.i,this.A),this.L!=2&&(Ms(),lt(17)),qt(this),this.s=2,bi(this)):Ou(this,this.S-d)};function bi(d){d.j.G==0||d.J||$u(d.j,d)}function qt(d){Vs(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,Lr(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function Fr(d,_){try{var E=d.j;if(E.G!=0&&(E.g==d||wl(E.h,d))){if(!d.K&&wl(E.h,d)&&E.G==3){try{var R=E.Da.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var $=R;if($[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)eo(E),Za(E);else break e;Ml(E),lt(18)}}else E.za=$[1],0<E.za-E.T&&37500>$[2]&&E.F&&E.v==0&&!E.C&&(E.C=St(x(E.Za,E),6e3));if(1>=qa(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else as(E,11)}else if((d.K||E.g==d)&&eo(E),!Q(_))for($=E.Da.g.parse(_),_=0;_<$.length;_++){let Be=$[_];if(E.T=Be[0],Be=Be[1],E.G==2)if(Be[0]=="c"){E.K=Be[1],E.ia=Be[2];const Ut=Be[3];Ut!=null&&(E.la=Ut,E.j.info("VER="+E.la));const Mt=Be[4];Mt!=null&&(E.Aa=Mt,E.j.info("SVER="+E.Aa));const os=Be[5];os!=null&&typeof os=="number"&&0<os&&(R=1.5*os,E.L=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const Gt=d.g;if(Gt){const Ii=Gt.g?Gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ii){var J=R.h;J.g||Ii.indexOf("spdy")==-1&&Ii.indexOf("quic")==-1&&Ii.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Ga(J,J.h),J.h=null))}if(R.D){const Ol=Gt.g?Gt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ol&&(R.ya=Ol,Je(R.I,R.D,Ol))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),R=E;var ce=d;if(R.qa=Yu(R,R.J?R.ia:null,R.W),ce.K){fn(R.h,ce);var Ue=ce,kt=R.L;kt&&(Ue.I=kt),Ue.B&&(Vs(Ue),zr(Ue)),R.g=ce}else qu(R);0<E.i.length&&Ja(E)}else Be[0]!="stop"&&Be[0]!="close"||as(E,7);else E.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?as(E,7):Dl(E):Be[0]!="noop"&&E.l&&E.l.ta(Be),E.v=0)}}Ms(4)}catch{}}var Vu=class{constructor(d,_){this.g=d,this.map=_}};function es(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ha(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function qa(d){return d.h?1:d.g?d.g.size:0}function wl(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function Ga(d,_){d.g?d.g.add(_):d.h=_}function fn(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}es.prototype.cancel=function(){if(this.i=Sl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Sl(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const E of d.g.values())_=_.concat(E.D);return _}return D(d.i)}function Bf(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(m(d)){for(var _=[],E=d.length,R=0;R<E;R++)_.push(d[R]);return _}_=[],E=0;for(R in d)_[E++]=d[R];return _}function $a(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(m(d)||typeof d=="string"){var _=[];d=d.length;for(var E=0;E<d;E++)_.push(E);return _}_=[],E=0;for(const R in d)_[E++]=R;return _}}}function Al(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(m(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var E=$a(d),R=Bf(d),$=R.length,J=0;J<$;J++)_.call(void 0,R[J],E&&E[J],d)}var Hr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zf(d,_){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var R=d[E].indexOf("="),$=null;if(0<=R){var J=d[E].substring(0,R);$=d[E].substring(R+1)}else J=d[E];_(J,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function At(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof At){this.h=d.h,qr(this,d.j),this.o=d.o,this.g=d.g,Ls(this,d.s),this.l=d.l;var _=d.i,E=new ns;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),ts(this,E),this.m=d.m}else d&&(_=String(d).match(Hr))?(this.h=!1,qr(this,_[1]||"",!0),this.o=Fn(_[2]||""),this.g=Fn(_[3]||"",!0),Ls(this,_[4]),this.l=Fn(_[5]||"",!0),ts(this,_[6]||"",!0),this.m=Fn(_[7]||"")):(this.h=!1,this.i=new ns(null,this.h))}At.prototype.toString=function(){var d=[],_=this.j;_&&d.push($r(_,Cl,!0),":");var E=this.g;return(E||_=="file")&&(d.push("//"),(_=this.o)&&d.push($r(_,Cl,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push($r(E,E.charAt(0)=="/"?Ff:Rl,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",$r(E,Ka)),d.join("")};function Nn(d){return new At(d)}function qr(d,_,E){d.j=E?Fn(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function Ls(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function ts(d,_,E){_ instanceof ns?(d.i=_,Uu(d.i,d.h)):(E||(_=$r(_,Hf)),d.i=new ns(_,d.h))}function Je(d,_,E){d.i.set(_,E)}function Gr(d){return Je(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Fn(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function $r(d,_,E){return typeof d=="string"?(d=encodeURI(d).replace(_,Lu),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Lu(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Cl=/[#\/\?@]/g,Rl=/[#\?:]/g,Ff=/[#\?]/g,Hf=/[#\?@]/g,Ka=/#/g;function ns(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function Hn(d){d.g||(d.g=new Map,d.h=0,d.i&&zf(d.i,function(_,E){d.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=ns.prototype,t.add=function(d,_){Hn(this),this.i=null,d=wi(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(_),this.h+=1,this};function is(d,_){Hn(d),_=wi(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function ss(d,_){return Hn(d),_=wi(d,_),d.g.has(_)}t.forEach=function(d,_){Hn(this),this.g.forEach(function(E,R){E.forEach(function($){d.call(_,$,R,this)},this)},this)},t.na=function(){Hn(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let R=0;R<_.length;R++){const $=d[R];for(let J=0;J<$.length;J++)E.push(_[R])}return E},t.V=function(d){Hn(this);let _=[];if(typeof d=="string")ss(this,d)&&(_=_.concat(this.g.get(wi(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)_=_.concat(d[E])}return _},t.set=function(d,_){return Hn(this),this.i=null,d=wi(this,d),ss(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},t.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function Nl(d,_,E){is(d,_),0<E.length&&(d.i=null,d.g.set(wi(d,_),D(E)),d.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var R=_[E];const J=encodeURIComponent(String(R)),ce=this.V(R);for(R=0;R<ce.length;R++){var $=J;ce[R]!==""&&($+="="+encodeURIComponent(String(ce[R]))),d.push($)}}return this.i=d.join("&")};function wi(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function Uu(d,_){_&&!d.j&&(Hn(d),d.i=null,d.g.forEach(function(E,R){var $=R.toLowerCase();R!=$&&(is(this,R),Nl(this,$,E))},d)),d.j=_}function Kr(d,_){const E=new zn;if(f.Image){const R=new Image;R.onload=w(qn,E,"TestLoadImage: loaded",!0,_,R),R.onerror=w(qn,E,"TestLoadImage: error",!1,_,R),R.onabort=w(qn,E,"TestLoadImage: abort",!1,_,R),R.ontimeout=w(qn,E,"TestLoadImage: timeout",!1,_,R),f.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else _(!1)}function li(d,_){const E=new zn,R=new AbortController,$=setTimeout(()=>{R.abort(),qn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:R.signal}).then(J=>{clearTimeout($),J.ok?qn(E,"TestPingServer: ok",!0,_):qn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout($),qn(E,"TestPingServer: error",!1,_)})}function qn(d,_,E,R,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),R(E)}catch{}}function Yr(){this.g=new Ur}function Si(d,_,E){const R=E||"";try{Al(d,function($,J){let ce=$;g($)&&(ce=ai($)),_.push(R+J+"="+encodeURIComponent(ce))})}catch($){throw _.push(R+"type="+encodeURIComponent("_badmap")),$}}function Us(d){this.l=d.Ub||null,this.j=d.eb||!1}S(Us,yl),Us.prototype.g=function(){return new rs(this.l,this.j)},Us.prototype.i=function(d){return function(){return d}}({});function rs(d,_){pt.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(rs,pt),t=rs.prototype,t.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,Ci(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||f).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ai(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ci(this)),this.g&&(this.readyState=3,Ci(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Il(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Il(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Ai(this):Ci(this),this.readyState==3&&Il(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Ai(this))},t.Qa=function(d){this.g&&(this.response=d,Ai(this))},t.ga=function(){this.g&&Ai(this)};function Ai(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Ci(d)}t.setRequestHeader=function(d,_){this.u.append(d,_)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=_.next();return d.join(`\r
`)};function Ci(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function jl(d){let _="";return H(d,function(E,R){_+=R,_+=":",_+=E,_+=`\r
`}),_}function Lt(d,_,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=jl(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):Je(d,_,E))}function Ke(d){pt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Ke,pt);var Ya=/^https?$/i,Qr=["POST","PUT"];t=Ke.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,_,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xi.g(),this.v=this.o?vl(this.o):vl(xi),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(J){Bu(this,J);return}if(d=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var $ in R)E.set($,R[$]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const J of R.keys())E.set(J,R.get(J));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(J=>J.toLowerCase()=="content-type"),$=f.FormData&&d instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Qr,_,void 0))||R||$||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ce]of E)this.g.setRequestHeader(J,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xr(this),this.u=!0,this.g.send(d),this.u=!1}catch(J){Bu(this,J)}};function Bu(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,Qa(d),Ri(d)}function Qa(d){d.A||(d.A=!0,Qe(d,"complete"),Qe(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Qe(this,"complete"),Qe(this,"abort"),Ri(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ri(this,!0)),Ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Xa(this):this.bb())},t.bb=function(){Xa(this)};function Xa(d){if(d.h&&typeof u<"u"&&(!d.v[1]||Gn(d)!=4||d.Z()!=2)){if(d.u&&Gn(d)==4)tn(d.Ea,0,d);else if(Qe(d,"readystatechange"),Gn(d)==4){d.h=!1;try{const ce=d.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var R;if(R=ce===0){var $=String(d.D).match(Hr)[1]||null;!$&&f.self&&f.self.location&&($=f.self.location.protocol.slice(0,-1)),R=!Ya.test($?$.toLowerCase():"")}E=R}if(E)Qe(d,"complete"),Qe(d,"success");else{d.m=6;try{var J=2<Gn(d)?d.g.statusText:""}catch{J=""}d.l=J+" ["+d.Z()+"]",Qa(d)}}finally{Ri(d)}}}}function Ri(d,_){if(d.g){Xr(d);const E=d.g,R=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||Qe(d,"ready");try{E.onreadystatechange=R}catch{}}}function Xr(d){d.I&&(f.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Gn(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Gn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),Ba(_)}};function zu(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function qf(d){const _={};d=(d.g&&2<=Gn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(Q(d[R]))continue;var E=U(d[R]);const $=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const J=_[$]||[];_[$]=J,J.push(E)}I(_,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wr(d,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||_}function Wa(d){this.Aa=0,this.i=[],this.j=new zn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wr("baseRetryDelayMs",5e3,d),this.cb=Wr("retryDelaySeedMs",1e4,d),this.Wa=Wr("forwardChannelMaxRetries",2,d),this.wa=Wr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new es(d&&d.concurrentRequestLimit),this.Da=new Yr,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Wa.prototype,t.la=8,t.G=1,t.connect=function(d,_,E,R){lt(0),this.W=d,this.H=_||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.I=Yu(this,null,this.W),Ja(this)};function Dl(d){if(Fu(d),d.G==3){var _=d.U++,E=Nn(d.I);if(Je(E,"SID",d.K),Je(E,"RID",_),Je(E,"TYPE","terminate"),Zr(d,E),_=new dn(d,d.j,_),_.L=2,_.v=Gr(Nn(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&f.Image&&(new Image().src=_.v,E=!0),E||(_.g=Qu(_.j,null),_.g.ea(_.v)),_.F=Date.now(),zr(_)}Ku(d)}function Za(d){d.g&&(Jr(d),d.g.cancel(),d.g=null)}function Fu(d){Za(d),d.u&&(f.clearTimeout(d.u),d.u=null),eo(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&f.clearTimeout(d.s),d.s=null)}function Ja(d){if(!Ha(d.h)&&!d.s){d.s=!0;var _=d.Ga;le||L(),fe||(le(),fe=!0),Oe.add(_,d),d.B=0}}function Gf(d,_){return qa(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=St(x(d.Ga,d,_),Pl(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const $=new dn(this,this.j,d);let J=this.o;if(this.S&&(J?(J=C(J),O(J,this.S)):J=this.S),this.m!==null||this.O||($.H=J,J=null),this.P)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,4096<_){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=Hu(this,$,_),E=Nn(this.I),Je(E,"RID",d),Je(E,"CVER",22),this.D&&Je(E,"X-HTTP-Session-Id",this.D),Zr(this,E),J&&(this.O?_="headers="+encodeURIComponent(String(jl(J)))+"&"+_:this.m&&Lt(E,this.m,J)),Ga(this.h,$),this.Ua&&Je(E,"TYPE","init"),this.P?(Je(E,"$req",_),Je(E,"SID","null"),$.T=!0,oi($,E,null)):oi($,E,_),this.G=2}}else this.G==3&&(d?kl(this,d):this.i.length==0||Ha(this.h)||kl(this))};function kl(d,_){var E;_?E=_.l:E=d.U++;const R=Nn(d.I);Je(R,"SID",d.K),Je(R,"RID",E),Je(R,"AID",d.T),Zr(d,R),d.m&&d.o&&Lt(R,d.m,d.o),E=new dn(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),_&&(d.i=_.D.concat(d.i)),_=Hu(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Ga(d.h,E),oi(E,R,_)}function Zr(d,_){d.H&&H(d.H,function(E,R){Je(_,R,E)}),d.l&&Al({},function(E,R){Je(_,R,E)})}function Hu(d,_,E){E=Math.min(d.i.length,E);var R=d.l?x(d.l.Na,d.l,d):null;e:{var $=d.i;let J=-1;for(;;){const ce=["count="+E];J==-1?0<E?(J=$[0].g,ce.push("ofs="+J)):J=0:ce.push("ofs="+J);let Ue=!0;for(let kt=0;kt<E;kt++){let Be=$[kt].g;const Ut=$[kt].map;if(Be-=J,0>Be)J=Math.max(0,$[kt].g-100),Ue=!1;else try{Si(Ut,ce,"req"+Be+"_")}catch{R&&R(Ut)}}if(Ue){R=ce.join("&");break e}}}return d=d.i.splice(0,E),_.D=d,R}function qu(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;le||L(),fe||(le(),fe=!0),Oe.add(_,d),d.v=0}}function Ml(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=St(x(d.Fa,d),Pl(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Gu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=St(x(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),Za(this),Gu(this))};function Jr(d){d.A!=null&&(f.clearTimeout(d.A),d.A=null)}function Gu(d){d.g=new dn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=Nn(d.qa);Je(_,"RID","rpc"),Je(_,"SID",d.K),Je(_,"AID",d.T),Je(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&Je(_,"TO",d.ja),Je(_,"TYPE","xmlhttp"),Zr(d,_),d.m&&d.o&&Lt(_,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=Gr(Nn(_)),E.m=null,E.P=!0,Ji(E,d)}t.Za=function(){this.C!=null&&(this.C=null,Za(this),Ml(this),lt(19))};function eo(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function $u(d,_){var E=null;if(d.g==_){eo(d),Jr(d),d.g=null;var R=2}else if(wl(d.h,_))E=_.D,fn(d.h,_),R=1;else return;if(d.G!=0){if(_.o)if(R==1){E=_.m?_.m.length:0,_=Date.now()-_.F;var $=d.B;R=ks(),Qe(R,new Dt(R,E)),Ja(d)}else qu(d);else if($=_.s,$==3||$==0&&0<_.X||!(R==1&&Gf(d,_)||R==2&&Ml(d)))switch(E&&0<E.length&&(_=d.h,_.i=_.i.concat(E)),$){case 1:as(d,5);break;case 4:as(d,10);break;case 3:as(d,6);break;default:as(d,2)}}}function Pl(d,_){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*_}function as(d,_){if(d.j.info("Error code "+_),_==2){var E=x(d.fb,d),R=d.Xa;const $=!R;R=new At(R||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||qr(R,"https"),Gr(R),$?Kr(R.toString(),E):li(R.toString(),E)}else lt(2);d.G=0,d.l&&d.l.sa(_),Ku(d),Fu(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function Ku(d){if(d.G=0,d.ka=[],d.l){const _=Sl(d.h);(_.length!=0||d.i.length!=0)&&(k(d.ka,_),k(d.ka,d.i),d.h.i.length=0,D(d.i),d.i.length=0),d.l.ra()}}function Yu(d,_,E){var R=E instanceof At?Nn(E):new At(E);if(R.g!="")_&&(R.g=_+"."+R.g),Ls(R,R.s);else{var $=f.location;R=$.protocol,_=_?_+"."+$.hostname:$.hostname,$=+$.port;var J=new At(null);R&&qr(J,R),_&&(J.g=_),$&&Ls(J,$),E&&(J.l=E),R=J}return E=d.D,_=d.ya,E&&_&&Je(R,E,_),Je(R,"VER",d.la),Zr(d,R),R}function Qu(d,_,E){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new Ke(new Us({eb:E})):new Ke(d.pa),_.Ha(d.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xu(){}t=Xu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function to(){}to.prototype.g=function(d,_){return new mn(d,_)};function mn(d,_){pt.call(this),this.g=new Wa(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!Q(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!Q(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new Ni(this)}S(mn,pt),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Dl(this.g)},mn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=ai(d),d=E);_.i.push(new Vu(_.Ya++,d)),_.G==3&&Ja(_)},mn.prototype.N=function(){this.g.l=null,delete this.j,Dl(this.g),delete this.g,mn.aa.N.call(this)};function Wu(d){Wi.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const E in _){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}S(Wu,Wi);function Zu(){Tl.call(this),this.status=1}S(Zu,Tl);function Ni(d){this.g=d}S(Ni,Xu),Ni.prototype.ua=function(){Qe(this.g,"a")},Ni.prototype.ta=function(d){Qe(this.g,new Wu(d))},Ni.prototype.sa=function(d){Qe(this.g,new Zu)},Ni.prototype.ra=function(){Qe(this.g,"b")},to.prototype.createWebChannel=to.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Vw=function(){return new to},Ow=function(){return ks()},Pw=Ti,Rg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Os.NO_ERROR=0,Os.TIMEOUT=8,Os.HTTP_ERROR=6,Td=Os,Zi.COMPLETE="complete",Mw=Zi,_l.EventType=Xi,Xi.OPEN="a",Xi.CLOSE="b",Xi.ERROR="c",Xi.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Nc=_l,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,kw=Ke}).apply(typeof td<"u"?td:typeof self<"u"?self:typeof window<"u"?window:{});const ix="@firebase/firestore",sx="4.7.15";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let al="11.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=new Ey("@firebase/firestore");function jo(){return Na.logLevel}function me(t,...e){if(Na.logLevel<=Ve.DEBUG){const n=e.map(My);Na.debug(`Firestore (${al}): ${t}`,...n)}}function Ns(t,...e){if(Na.logLevel<=Ve.ERROR){const n=e.map(My);Na.error(`Firestore (${al}): ${t}`,...n)}}function $o(t,...e){if(Na.logLevel<=Ve.WARN){const n=e.map(My);Na.warn(`Firestore (${al}): ${t}`,...n)}}function My(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Lw(t,s,n)}function Lw(t,e,n){let s=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ns(s),new Error(s)}function Ye(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||Lw(e,a,s)}function Re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Yi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(on.UNAUTHENTICATED))}shutdown(){}}class tM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class nM{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Ss;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ss,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},f=m=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ss)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string",31837,{l:s}),new Uw(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class iM{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sM{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new iM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const s=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const a=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new rx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new rx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=aM(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function je(t,e){return t<e?-1:t>e?1:0}function Ng(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=t.codePointAt(n),a=e.codePointAt(n);if(s!==a){if(s<128&&a<128)return je(s,a);{const l=Bw(),u=oM(l.encode(ax(t,n)),l.encode(ax(e,n)));return u!==0?u:je(s,a)}}n+=s>65535?2:1}return je(t.length,e.length)}function ax(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function oM(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return je(t[n],e[n]);return je(t.length,e.length)}function Ko(t,e,n){return t.length===e.length&&t.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox=-62135596800,lx=1e6;class ke{static now(){return ke.fromMillis(Date.now())}static fromDate(e){return ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*lx);return new ke(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ox)throw new de(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lx}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ox;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new ke(0,0))}static max(){return new Ce(new ke(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx="__name__";class Oi{constructor(e,n,s){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&we(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=Oi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return je(e.length,n.length)}static compareSegments(e,n){const s=Oi.isNumericId(e),a=Oi.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Oi.extractNumericId(e).compare(Oi.extractNumericId(n)):Ng(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gr.fromString(e.substring(4,e.length-2))}}class ot extends Oi{construct(e,n,s){return new ot(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(se.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new ot(n)}static emptyPath(){return new ot([])}}const lM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Oi{construct(e,n,s){return new Zt(e,n,s)}static isValidIdentifier(e){return lM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cx}static keyField(){return new Zt([cx])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new de(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new de(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new de(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(s+=f,a++):(l(),a++)}if(l(),u)throw new de(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ot.fromString(e))}static fromName(e){return new _e(ot.fromString(e).popFirst(5))}static empty(){return new _e(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ot(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=-1;function cM(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ce.fromTimestamp(s===1e9?new ke(n+1,0):new ke(n,s));return new _r(a,_e.empty(),e)}function uM(t){return new _r(t.readTime,t.key,Xc)}class _r{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new _r(Ce.min(),_e.empty(),Xc)}static max(){return new _r(Ce.max(),_e.empty(),Xc)}}function hM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ol(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==dM)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.reject(n)}static resolve(e){return new ae((n,s)=>{n(e)})}static reject(e){return new ae((n,s)=>{s(e)})}static waitFor(e){return new ae((n,s)=>{let a=0,l=0,u=!1;e.forEach(f=>{++a,f.next(()=>{++l,u&&l===a&&n()},m=>s(m))}),u=!0,l===a&&n()})}static or(e){let n=ae.resolve(!1);for(const s of e)n=n.next(a=>a?ae.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,l)=>{s.push(n.call(this,a,l))}),this.waitFor(s)}static mapArray(e,n){return new ae((s,a)=>{const l=e.length,u=new Array(l);let f=0;for(let m=0;m<l;m++){const g=m;n(e[g]).next(v=>{u[g]=v,++f,f===l&&s(u)},v=>a(v))}})}static doWhile(e,n){return new ae((s,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):s()};l()})}}function mM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ll(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}df.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py=-1;function ff(t){return t==null}function Ud(t){return t===0&&1/t==-1/0}function pM(t){return typeof t=="number"&&Number.isInteger(t)&&!Ud(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="";function gM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ux(e)),e=yM(t.get(n),e);return ux(e)}function yM(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case Fw:n+="";break;default:n+=l}}return n}function ux(t){return t+Fw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Nr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Hw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){this.comparator=e,this.root=n||Wt.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nd(this.root,e,this.comparator,!1)}getReverseIterator(){return new nd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nd(this.root,e,this.comparator,!0)}}class nd{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??Wt.RED,this.left=a??Wt.EMPTY,this.right=l??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new Wt(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Wt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new Wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dx(this.data.getIterator())}getIteratorFrom(e){return new dx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class dx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new Ln([])}unionWith(e){let n=new Vt(Zt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ko(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new qw("Invalid base64 string: "+l):l}}(e);return new en(n)}static fromUint8Array(e){const n=function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l}(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const vM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tr(t){if(Ye(!!t,39018),typeof t=="string"){let e=0;const n=vM.exec(t);if(Ye(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:bt(t.seconds),nanos:bt(t.nanos)}}function bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xr(t){return typeof t=="string"?en.fromBase64String(t):en.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="server_timestamp",$w="__type__",Kw="__previous_value__",Yw="__local_write_time__";function Oy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[$w])===null||n===void 0?void 0:n.stringValue)===Gw}function mf(t){const e=t.mapValue.fields[Kw];return Oy(e)?mf(e):e}function Wc(t){const e=Tr(t.mapValue.fields[Yw].timestampValue);return new ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e,n,s,a,l,u,f,m,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const Bd="(default)";class Zc{constructor(e,n){this.projectId=e,this.database=n||Bd}static empty(){return new Zc("","")}get isDefaultDatabase(){return this.database===Bd}isEqual(e){return e instanceof Zc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="__type__",TM="__max__",id={mapValue:{}},Xw="__vector__",zd="value";function Er(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Oy(t)?4:EM(t)?9007199254740991:xM(t)?10:11:we(28295,{value:t})}function Gi(t,e){if(t===e)return!0;const n=Er(t);if(n!==Er(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wc(t).isEqual(Wc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Tr(a.timestampValue),f=Tr(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,l){return xr(a.bytesValue).isEqual(xr(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,l){return bt(a.geoPointValue.latitude)===bt(l.geoPointValue.latitude)&&bt(a.geoPointValue.longitude)===bt(l.geoPointValue.longitude)}(t,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return bt(a.integerValue)===bt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=bt(a.doubleValue),f=bt(l.doubleValue);return u===f?Ud(u)===Ud(f):isNaN(u)&&isNaN(f)}return!1}(t,e);case 9:return Ko(t.arrayValue.values||[],e.arrayValue.values||[],Gi);case 10:case 11:return function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(hx(u)!==hx(f))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(f[m]===void 0||!Gi(u[m],f[m])))return!1;return!0}(t,e);default:return we(52216,{left:t})}}function Jc(t,e){return(t.values||[]).find(n=>Gi(n,e))!==void 0}function Yo(t,e){if(t===e)return 0;const n=Er(t),s=Er(e);if(n!==s)return je(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return function(l,u){const f=bt(l.integerValue||l.doubleValue),m=bt(u.integerValue||u.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(t,e);case 3:return fx(t.timestampValue,e.timestampValue);case 4:return fx(Wc(t),Wc(e));case 5:return Ng(t.stringValue,e.stringValue);case 6:return function(l,u){const f=xr(l),m=xr(u);return f.compareTo(m)}(t.bytesValue,e.bytesValue);case 7:return function(l,u){const f=l.split("/"),m=u.split("/");for(let g=0;g<f.length&&g<m.length;g++){const v=je(f[g],m[g]);if(v!==0)return v}return je(f.length,m.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,u){const f=je(bt(l.latitude),bt(u.latitude));return f!==0?f:je(bt(l.longitude),bt(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return mx(t.arrayValue,e.arrayValue);case 10:return function(l,u){var f,m,g,v;const T=l.fields||{},x=u.fields||{},w=(f=T[zd])===null||f===void 0?void 0:f.arrayValue,S=(m=x[zd])===null||m===void 0?void 0:m.arrayValue,D=je(((g=w==null?void 0:w.values)===null||g===void 0?void 0:g.length)||0,((v=S==null?void 0:S.values)===null||v===void 0?void 0:v.length)||0);return D!==0?D:mx(w,S)}(t.mapValue,e.mapValue);case 11:return function(l,u){if(l===id.mapValue&&u===id.mapValue)return 0;if(l===id.mapValue)return 1;if(u===id.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),g=u.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let T=0;T<m.length&&T<v.length;++T){const x=Ng(m[T],v[T]);if(x!==0)return x;const w=Yo(f[m[T]],g[v[T]]);if(w!==0)return w}return je(m.length,v.length)}(t.mapValue,e.mapValue);default:throw we(23264,{Pe:n})}}function fx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);const n=Tr(t),s=Tr(e),a=je(n.seconds,s.seconds);return a!==0?a:je(n.nanos,s.nanos)}function mx(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Yo(n[a],s[a]);if(l)return l}return je(n.length,s.length)}function Qo(t){return Ig(t)}function Ig(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=Tr(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return xr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return _e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=Ig(l);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${Ig(n.fields[u])}`;return a+"}"}(t.mapValue):we(61005,{value:t})}function xd(t){switch(Er(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mf(t);return e?16+xd(e):16;case 5:return 2*t.stringValue.length;case 6:return xr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,l)=>a+xd(l),0)}(t.arrayValue);case 10:case 11:return function(s){let a=0;return Nr(s.fields,(l,u)=>{a+=l.length+xd(u)}),a}(t.mapValue);default:throw we(13486,{value:t})}}function px(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function jg(t){return!!t&&"integerValue"in t}function Vy(t){return!!t&&"arrayValue"in t}function gx(t){return!!t&&"nullValue"in t}function yx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ed(t){return!!t&&"mapValue"in t}function xM(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Qw])===null||n===void 0?void 0:n.stringValue)===Xw}function Vc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Nr(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Vc(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function EM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===TM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ed(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vc(n)}setAll(e){let n=Zt.emptyPath(),s={},a=[];e.forEach((u,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=f.popLast()}u?s[f.lastSegment()]=Vc(u):a.push(f.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Ed(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Ed(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Nr(n,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new Sn(Vc(this.value))}}function Ww(t){const e=[];return Nr(t.fields,(n,s)=>{const a=new Zt([n]);if(Ed(s)){const l=Ww(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,n,s,a,l,u,f){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new ln(e,0,Ce.min(),Ce.min(),Ce.min(),Sn.empty(),0)}static newFoundDocument(e,n,s,a){return new ln(e,1,n,Ce.min(),s,a,0)}static newNoDocument(e,n){return new ln(e,2,n,Ce.min(),Ce.min(),Sn.empty(),0)}static newUnknownDocument(e,n){return new ln(e,3,n,Ce.min(),Ce.min(),Sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n){this.position=e,this.inclusive=n}}function vx(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?s=_e.comparator(_e.fromName(u.referenceValue),n.key):s=Yo(u,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function _x(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n="asc"){this.field=e,this.dir=n}}function bM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{}class jt extends Zw{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new SM(e,n,s):n==="array-contains"?new RM(e,s):n==="in"?new NM(e,s):n==="not-in"?new IM(e,s):n==="array-contains-any"?new jM(e,s):new jt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new AM(e,s):new CM(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Yo(n,this.value)):n!==null&&Er(this.value)===Er(n)&&this.matchesComparison(Yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gi extends Zw{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new gi(e,n)}matches(e){return Jw(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Jw(t){return t.op==="and"}function eS(t){return wM(t)&&Jw(t)}function wM(t){for(const e of t.filters)if(e instanceof gi)return!1;return!0}function Dg(t){if(t instanceof jt)return t.field.canonicalString()+t.op.toString()+Qo(t.value);if(eS(t))return t.filters.map(e=>Dg(e)).join(",");{const e=t.filters.map(n=>Dg(n)).join(",");return`${t.op}(${e})`}}function tS(t,e){return t instanceof jt?function(s,a){return a instanceof jt&&s.op===a.op&&s.field.isEqual(a.field)&&Gi(s.value,a.value)}(t,e):t instanceof gi?function(s,a){return a instanceof gi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((l,u,f)=>l&&tS(u,a.filters[f]),!0):!1}(t,e):void we(19439)}function nS(t){return t instanceof jt?function(n){return`${n.field.canonicalString()} ${n.op} ${Qo(n.value)}`}(t):t instanceof gi?function(n){return n.op.toString()+" {"+n.getFilters().map(nS).join(" ,")+"}"}(t):"Filter"}class SM extends jt{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class AM extends jt{constructor(e,n){super(e,"in",n),this.keys=iS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class CM extends jt{constructor(e,n){super(e,"not-in",n),this.keys=iS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function iS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>_e.fromName(s.referenceValue))}class RM extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Vy(n)&&Jc(n.arrayValue,this.value)}}class NM extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jc(this.value.arrayValue,n)}}class IM extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Jc(this.value.arrayValue,n)}}class jM extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Vy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Jc(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e,n=null,s=[],a=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.Ie=null}}function Tx(t,e=null,n=[],s=[],a=null,l=null,u=null){return new DM(t,e,n,s,a,l,u)}function Ly(t){const e=Re(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Dg(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),ff(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Qo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Qo(s)).join(",")),e.Ie=n}return e.Ie}function Uy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!bM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!tS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_x(t.startAt,e.startAt)&&_x(t.endAt,e.endAt)}function kg(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n=null,s=[],a=[],l=null,u="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function kM(t,e,n,s,a,l,u,f){return new cl(t,e,n,s,a,l,u,f)}function By(t){return new cl(t)}function xx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function sS(t){return t.collectionGroup!==null}function Lc(t){const e=Re(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Vt(Zt.comparator);return u.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(f=f.add(g.field))})}),f})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new eu(l,s))}),n.has(Zt.keyField().canonicalString())||e.Ee.push(new eu(Zt.keyField(),s))}return e.Ee}function Bi(t){const e=Re(t);return e.de||(e.de=MM(e,Lc(t))),e.de}function MM(t,e){if(t.limitType==="F")return Tx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new eu(a.field,l)});const n=t.endAt?new Fd(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Fd(t.startAt.position,t.startAt.inclusive):null;return Tx(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Mg(t,e){const n=t.filters.concat([e]);return new cl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Hd(t,e,n){return new cl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pf(t,e){return Uy(Bi(t),Bi(e))&&t.limitType===e.limitType}function rS(t){return`${Ly(Bi(t))}|lt:${t.limitType}`}function Do(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>nS(a)).join(", ")}]`),ff(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>Qo(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>Qo(a)).join(",")),`Target(${s})`}(Bi(t))}; limitType=${t.limitType})`}function gf(t,e){return e.isFoundDocument()&&function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):_e.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(t,e)&&function(s,a){for(const l of Lc(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(t,e)&&function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0}(t,e)&&function(s,a){return!(s.startAt&&!function(u,f,m){const g=vx(u,f,m);return u.inclusive?g<=0:g<0}(s.startAt,Lc(s),a)||s.endAt&&!function(u,f,m){const g=vx(u,f,m);return u.inclusive?g>=0:g>0}(s.endAt,Lc(s),a))}(t,e)}function PM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function aS(t){return(e,n)=>{let s=!1;for(const a of Lc(t)){const l=OM(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function OM(t,e,n){const s=t.field.isKeyField()?_e.comparator(e.key,n.key):function(l,u,f){const m=u.data.field(l),g=f.data.field(l);return m!==null&&g!==null?Yo(m,g):we(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return we(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Nr(this.inner,(n,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return Hw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM=new mt(_e.comparator);function Is(){return VM}const oS=new mt(_e.comparator);function Ic(...t){let e=oS;for(const n of t)e=e.insert(n.key,n);return e}function lS(t){let e=oS;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function va(){return Uc()}function cS(){return Uc()}function Uc(){return new Pa(t=>t.toString(),(t,e)=>t.isEqual(e))}const LM=new mt(_e.comparator),UM=new Vt(_e.comparator);function Le(...t){let e=UM;for(const n of t)e=e.add(n);return e}const BM=new Vt(je);function zM(){return BM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ud(e)?"-0":e}}function uS(t){return{integerValue:""+t}}function FM(t,e){return pM(e)?uS(e):zy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(){this._=void 0}}function HM(t,e,n){return t instanceof tu?function(a,l){const u={fields:{[$w]:{stringValue:Gw},[Yw]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Oy(l)&&(l=mf(l)),l&&(u.fields[Kw]=l),{mapValue:u}}(n,e):t instanceof nu?dS(t,e):t instanceof iu?fS(t,e):function(a,l){const u=hS(a,l),f=Ex(u)+Ex(a.Re);return jg(u)&&jg(a.Re)?uS(f):zy(a.serializer,f)}(t,e)}function qM(t,e,n){return t instanceof nu?dS(t,e):t instanceof iu?fS(t,e):n}function hS(t,e){return t instanceof qd?function(s){return jg(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class tu extends yf{}class nu extends yf{constructor(e){super(),this.elements=e}}function dS(t,e){const n=mS(e);for(const s of t.elements)n.some(a=>Gi(a,s))||n.push(s);return{arrayValue:{values:n}}}class iu extends yf{constructor(e){super(),this.elements=e}}function fS(t,e){let n=mS(e);for(const s of t.elements)n=n.filter(a=>!Gi(a,s));return{arrayValue:{values:n}}}class qd extends yf{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Ex(t){return bt(t.integerValue||t.doubleValue)}function mS(t){return Vy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e,n){this.field=e,this.transform=n}}function $M(t,e){return t.field.isEqual(e.field)&&function(s,a){return s instanceof nu&&a instanceof nu||s instanceof iu&&a instanceof iu?Ko(s.elements,a.elements,Gi):s instanceof qd&&a instanceof qd?Gi(s.Re,a.Re):s instanceof tu&&a instanceof tu}(t.transform,e.transform)}class KM{constructor(e,n){this.version=e,this.transformResults=n}}class ii{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ii}static exists(e){return new ii(void 0,e)}static updateTime(e){return new ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vf{}function pS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Fy(t.key,ii.none()):new _u(t.key,t.data,ii.none());{const n=t.data,s=Sn.empty();let a=new Vt(Zt.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new Ir(t.key,s,new Ln(a.toArray()),ii.none())}}function YM(t,e,n){t instanceof _u?function(a,l,u){const f=a.value.clone(),m=wx(a.fieldTransforms,l,u.transformResults);f.setAll(m),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(t,e,n):t instanceof Ir?function(a,l,u){if(!bd(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=wx(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(gS(a)),m.setAll(f),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(t,e,n):function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Bc(t,e,n,s){return t instanceof _u?function(l,u,f,m){if(!bd(l.precondition,u))return f;const g=l.value.clone(),v=Sx(l.fieldTransforms,m,u);return g.setAll(v),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null}(t,e,n,s):t instanceof Ir?function(l,u,f,m){if(!bd(l.precondition,u))return f;const g=Sx(l.fieldTransforms,m,u),v=u.data;return v.setAll(gS(l)),v.setAll(g),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(t,e,n,s):function(l,u,f){return bd(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(t,e,n)}function QM(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=hS(s.transform,a||null);l!=null&&(n===null&&(n=Sn.empty()),n.set(s.field,l))}return n||null}function bx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Ko(s,a,(l,u)=>$M(l,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _u extends vf{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ir extends vf{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function gS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function wx(t,e,n){const s=new Map;Ye(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,f=e.data.field(l.field);s.set(l.field,qM(u,f,n[a]))}return s}function Sx(t,e,n){const s=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);s.set(a.field,HM(l,u,e))}return s}class Fy extends vf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XM extends vf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&YM(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Bc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Bc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=cS();return this.mutations.forEach(a=>{const l=e.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=n.has(a.key)?null:f;const m=pS(u,f);m!==null&&s.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Ce.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&Ko(this.mutations,e.mutations,(n,s)=>bx(n,s))&&Ko(this.baseMutations,e.baseMutations,(n,s)=>bx(n,s))}}class Hy{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Ye(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let a=function(){return LM}();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new Hy(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,Fe;function eP(t){switch(t){case se.OK:return we(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return we(15467,{code:t})}}function yS(t){if(t===void 0)return Ns("GRPC error has no .code"),se.UNKNOWN;switch(t){case Nt.OK:return se.OK;case Nt.CANCELLED:return se.CANCELLED;case Nt.UNKNOWN:return se.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return se.INTERNAL;case Nt.UNAVAILABLE:return se.UNAVAILABLE;case Nt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Nt.NOT_FOUND:return se.NOT_FOUND;case Nt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Nt.ABORTED:return se.ABORTED;case Nt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Nt.DATA_LOSS:return se.DATA_LOSS;default:return we(39323,{code:t})}}(Fe=Nt||(Nt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=new gr([4294967295,4294967295],0);function Ax(t){const e=Bw().encode(t),n=new Dw;return n.update(e),new Uint8Array(n.digest())}function Cx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new gr([n,s],0),new gr([a,l],0)]}class qy{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new jc(`Invalid padding: ${n}`);if(s<0)throw new jc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new jc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new jc(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=gr.fromNumber(this.pe)}we(e,n,s){let a=e.add(n.multiply(gr.fromNumber(s)));return a.compare(tP)===1&&(a=new gr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=Ax(e),[s,a]=Cx(n);for(let l=0;l<this.hashCount;l++){const u=this.we(s,a,l);if(!this.Se(u))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new qy(l,a,n);return s.forEach(f=>u.insert(f)),u}insert(e){if(this.pe===0)return;const n=Ax(e),[s,a]=Cx(n);for(let l=0;l<this.hashCount;l++){const u=this.we(s,a,l);this.be(u)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class jc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Tu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new _f(Ce.min(),a,new mt(je),Is(),Le())}}class Tu{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Tu(s,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n,s,a){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=a}}class vS{constructor(e,n){this.targetId=e,this.Ce=n}}class _S{constructor(e,n,s=en.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Rx{constructor(){this.Fe=0,this.Me=Nx(),this.xe=en.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Le(),n=Le(),s=Le();return this.Me.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:we(38017,{changeType:l})}}),new Tu(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=Nx()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ye(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class nP{constructor(e){this.ze=e,this.je=new Map,this.He=Is(),this.Je=sd(),this.Ye=sd(),this.Ze=new mt(je)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:we(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,a)=>{this.it(a)&&n(a)})}ot(e){const n=e.targetId,s=e.Ce.count,a=this._t(n);if(a){const l=a.target;if(kg(l))if(s===0){const u=new _e(l.path);this.tt(n,u,ln.newNoDocument(u,Ce.min()))}else Ye(s===1,20013,{expectedCount:s});else{const u=this.ut(n);if(u!==s){const f=this.ct(e),m=f?this.lt(f,e,u):1;if(m!==0){this.st(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let u,f;try{u=xr(s).toUint8Array()}catch(m){if(m instanceof qw)return $o("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new qy(u,a,l)}catch(m){return $o(m instanceof jc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.pe===0?null:f}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let a=0;return s.forEach(l=>{const u=this.ze.Pt(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.tt(n,l,null),a++)}),a}It(e){const n=new Map;this.je.forEach((l,u)=>{const f=this._t(u);if(f){if(l.current&&kg(f.target)){const m=new _e(f.target.path);this.Et(m).has(u)||this.dt(u,m)||this.tt(u,m,ln.newNoDocument(m,e))}l.Le&&(n.set(u,l.qe()),l.Qe())}});let s=Le();this.Ye.forEach((l,u)=>{let f=!0;u.forEachWhile(m=>{const g=this._t(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(s=s.add(l))}),this.He.forEach((l,u)=>u.setReadTime(e));const a=new _f(e,n,this.Ze,this.He,s);return this.He=Is(),this.Je=sd(),this.Ye=sd(),this.Ze=new mt(je),a}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const a=this.rt(e);this.dt(e,n)?a.$e(n,1):a.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Rx,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Vt(je),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Vt(je),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Rx),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function sd(){return new mt(_e.comparator)}function Nx(){return new mt(_e.comparator)}const iP={asc:"ASCENDING",desc:"DESCENDING"},sP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rP={and:"AND",or:"OR"};class aP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pg(t,e){return t.useProto3Json||ff(e)?e:{value:e}}function Gd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function oP(t,e){return Gd(t,e.toTimestamp())}function zi(t){return Ye(!!t,49232),Ce.fromTimestamp(function(n){const s=Tr(n);return new ke(s.seconds,s.nanos)}(t))}function Gy(t,e){return Og(t,e).canonicalString()}function Og(t,e){const n=function(a){return new ot(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function xS(t){const e=ot.fromString(t);return Ye(AS(e),10190,{key:e.toString()}),e}function Vg(t,e){return Gy(t.databaseId,e.path)}function Wp(t,e){const n=xS(e);if(n.get(1)!==t.databaseId.projectId)throw new de(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(bS(n))}function ES(t,e){return Gy(t.databaseId,e)}function lP(t){const e=xS(t);return e.length===4?ot.emptyPath():bS(e)}function Lg(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bS(t){return Ye(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Ix(t,e,n){return{name:Vg(t,e),fields:n.value.mapValue.fields}}function cP(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:we(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(g,v){return g.useProto3Json?(Ye(v===void 0||typeof v=="string",58123),en.fromBase64String(v||"")):(Ye(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),en.fromUint8Array(v||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(g){const v=g.code===void 0?se.UNKNOWN:yS(g.code);return new de(v,g.message||"")}(u);n=new _S(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Wp(t,s.document.name),l=zi(s.document.updateTime),u=s.document.createTime?zi(s.document.createTime):Ce.min(),f=new Sn({mapValue:{fields:s.document.fields}}),m=ln.newFoundDocument(a,l,u,f),g=s.targetIds||[],v=s.removedTargetIds||[];n=new wd(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Wp(t,s.document),l=s.readTime?zi(s.readTime):Ce.min(),u=ln.newNoDocument(a,l),f=s.removedTargetIds||[];n=new wd([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Wp(t,s.document),l=s.removedTargetIds||[];n=new wd([],l,a,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new JM(a,l),f=s.targetId;n=new vS(f,u)}}return n}function uP(t,e){let n;if(e instanceof _u)n={update:Ix(t,e.key,e.value)};else if(e instanceof Fy)n={delete:Vg(t,e.key)};else if(e instanceof Ir)n={update:Ix(t,e.key,e.data),updateMask:_P(e.fieldMask)};else{if(!(e instanceof XM))return we(16599,{ft:e.type});n={verify:Vg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(l,u){const f=u.transform;if(f instanceof tu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof nu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof iu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof qd)return{fieldPath:u.field.canonicalString(),increment:f.Re};throw we(20930,{transform:u.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:oP(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:we(27497)}(t,e.precondition)),n}function hP(t,e){return t&&t.length>0?(Ye(e!==void 0,14353),t.map(n=>function(a,l){let u=a.updateTime?zi(a.updateTime):zi(l);return u.isEqual(Ce.min())&&(u=zi(l)),new KM(u,a.transformResults||[])}(n,e))):[]}function dP(t,e){return{documents:[ES(t,e.path)]}}function fP(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=ES(t,a);const l=function(g){if(g.length!==0)return SS(gi.create(g,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const u=function(g){if(g.length!==0)return g.map(v=>function(x){return{field:ko(x.field),direction:gP(x.dir)}}(v))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=Pg(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:n,parent:a}}function mP(t){let e=lP(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Ye(s===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=function(T){const x=wS(T);return x instanceof gi&&eS(x)?x.getFilters():[x]}(n.where));let u=[];n.orderBy&&(u=function(T){return T.map(x=>function(S){return new eu(Mo(S.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(x))}(n.orderBy));let f=null;n.limit&&(f=function(T){let x;return x=typeof T=="object"?T.value:T,ff(x)?null:x}(n.limit));let m=null;n.startAt&&(m=function(T){const x=!!T.before,w=T.values||[];return new Fd(w,x)}(n.startAt));let g=null;return n.endAt&&(g=function(T){const x=!T.before,w=T.values||[];return new Fd(w,x)}(n.endAt)),kM(e,a,u,l,f,"F",m,g)}function pP(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Mo(n.unaryFilter.field);return jt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Mo(n.unaryFilter.field);return jt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Mo(n.unaryFilter.field);return jt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Mo(n.unaryFilter.field);return jt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}}(t):t.fieldFilter!==void 0?function(n){return jt.create(Mo(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return gi.create(n.compositeFilter.filters.map(s=>wS(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return we(1026)}}(n.compositeFilter.op))}(t):we(30097,{filter:t})}function gP(t){return iP[t]}function yP(t){return sP[t]}function vP(t){return rP[t]}function ko(t){return{fieldPath:t.canonicalString()}}function Mo(t){return Zt.fromServerFormat(t.fieldPath)}function SS(t){return t instanceof jt?function(n){if(n.op==="=="){if(yx(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NAN"}};if(gx(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yx(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NOT_NAN"}};if(gx(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ko(n.field),op:yP(n.op),value:n.value}}}(t):t instanceof gi?function(n){const s=n.getFilters().map(a=>SS(a));return s.length===1?s[0]:{compositeFilter:{op:vP(n.op),filters:s}}}(t):we(54877,{filter:t})}function _P(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function AS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,n,s,a,l=Ce.min(),u=Ce.min(),f=en.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new fr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e){this.wt=e}}function xP(t){const e=mP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Hd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(){this.Cn=new bP}addToCollectionParentIndex(e,n){return this.Cn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(_r.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(_r.min())}updateCollectionGroup(e,n,s){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class bP{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Vt(ot.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Vt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CS=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(CS,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Xo(0)}static lr(){return new Xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx="LruGarbageCollector",wP=1048576;function kx([t,e],[n,s]){const a=je(t,n);return a===0?je(e,s):a}class SP{constructor(e){this.Er=e,this.buffer=new Vt(kx),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();kx(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class AP{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){me(Dx,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ll(n)?me(Dx,"Ignoring IndexedDB error during garbage collection: ",n):await ol(n)}await this.mr(3e5)})}}class CP{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(df.le);const s=new SP(n);return this.gr.forEachTarget(e,a=>s.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>s.Rr(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.gr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(jx)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jx):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let s,a,l,u,f,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,u=Date.now(),this.nthSequenceNumber(e,a))).next(T=>(s=T,f=Date.now(),this.removeTargets(e,s,n))).next(T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(g=Date.now(),jo()<=Ve.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${T} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T})))}}function RP(t,e){return new CP(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(){this.changes=new Pa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ae.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&Bc(s.mutation,a,Ln.empty(),ke.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Le()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Le()){const a=va();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(l=>{let u=Ic();return l.forEach((f,m)=>{u=u.insert(f,m.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const s=va();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Le()))}populateOverlays(e,n,s){const a=[];return s.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((u,f)=>{n.set(u,f)})})}computeViews(e,n,s,a){let l=Is();const u=Uc(),f=function(){return Uc()}();return n.forEach((m,g)=>{const v=s.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof Ir)?l=l.insert(g.key,g):v!==void 0?(u.set(g.key,v.mutation.getFieldMask()),Bc(v.mutation,g,v.mutation.getFieldMask(),ke.now())):u.set(g.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((g,v)=>u.set(g,v)),n.forEach((g,v)=>{var T;return f.set(g,new IP(v,(T=u.get(g))!==null&&T!==void 0?T:null))}),f))}recalculateAndSaveOverlays(e,n){const s=Uc();let a=new mt((u,f)=>u-f),l=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const f of u)f.keys().forEach(m=>{const g=n.get(m);if(g===null)return;let v=s.get(m)||Ln.empty();v=f.applyToLocalView(g,v),s.set(m,v);const T=(a.get(f.batchId)||Le()).add(m);a=a.insert(f.batchId,T)})}).next(()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),g=m.key,v=m.value,T=cS();v.forEach(x=>{if(!l.has(x)){const w=pS(n.get(x),s.get(x));w!==null&&T.set(x,w),l=l.add(x)}}),u.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ae.waitFor(u)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(u){return _e.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):ae.resolve(va());let f=Xc,m=l;return u.next(g=>ae.forEach(g,(v,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),l.get(v)?ae.resolve():this.remoteDocumentCache.getEntry(e,v).next(x=>{m=m.insert(v,x)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,m,g,Le())).next(v=>({batchId:f,changes:lS(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(s=>{let a=Ic();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let u=Ic();return this.indexManager.getCollectionParents(e,l).next(f=>ae.forEach(f,m=>{const g=function(T,x){return new cl(x,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,a).next(v=>{v.forEach((T,x)=>{u=u.insert(T,x)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a))).next(u=>{l.forEach((m,g)=>{const v=g.getKey();u.get(v)===null&&(u=u.insert(v,ln.newInvalidDocument(v)))});let f=Ic();return u.forEach((m,g)=>{const v=l.get(m);v!==void 0&&Bc(v.mutation,g,Ln.empty(),ke.now()),gf(n,g)&&(f=f.insert(m,g))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ae.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:zi(a.createTime)}}(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(a){return{name:a.name,query:xP(a.bundledQuery),readTime:zi(a.readTime)}}(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(){this.overlays=new mt(_e.comparator),this.Qr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const s=va();return ae.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&s.set(a,l)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,l)=>{this.bt(e,n,l)}),ae.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Qr.get(s);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(s)),ae.resolve()}getOverlaysForCollection(e,n,s){const a=va(),l=n.length+1,u=new _e(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const m=f.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new mt((g,v)=>g-v);const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=l.get(g.largestBatchId);v===null&&(v=va(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const f=va(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,v)=>f.set(g,v)),!(f.size()>=a)););return ae.resolve(f)}bt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.Qr.get(a.largestBatchId).delete(s.key);this.Qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new ZM(n,s));let l=this.Qr.get(n);l===void 0&&(l=Le(),this.Qr.set(n,l)),this.Qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(){this.$r=new Vt(Ht.Ur),this.Kr=new Vt(Ht.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const s=new Ht(e,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.zr(new Ht(e,n))}jr(e,n){e.forEach(s=>this.removeReference(s,n))}Hr(e){const n=new _e(new ot([])),s=new Ht(n,e),a=new Ht(n,e+1),l=[];return this.Kr.forEachInRange([s,a],u=>{this.zr(u),l.push(u.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new _e(new ot([])),s=new Ht(n,e),a=new Ht(n,e+1);let l=Le();return this.Kr.forEachInRange([s,a],u=>{l=l.add(u.key)}),l}containsKey(e){const n=new Ht(e,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ht{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return _e.comparator(e.key,n.key)||je(e.Zr,n.Zr)}static Wr(e,n){return je(e.Zr,n.Zr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Vt(Ht.Ur)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new WM(l,n,s,a);this.mutationQueue.push(u);for(const f of a)this.Xr=this.Xr.add(new Ht(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ae.resolve(u)}lookupMutationBatch(e,n){return ae.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ti(s),l=a<0?0:a;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Py:this.nr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ht(n,0),a=new Ht(n,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([s,a],u=>{const f=this.ei(u.Zr);l.push(f)}),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Vt(je);return n.forEach(a=>{const l=new Ht(a,0),u=new Ht(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,u],f=>{s=s.add(f.Zr)})}),ae.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;_e.isDocumentKey(l)||(l=l.child(""));const u=new Ht(new _e(l),0);let f=new Vt(je);return this.Xr.forEachWhile(m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(f=f.add(m.Zr)),!0)},u),ae.resolve(this.ni(f))}ni(e){const n=[];return e.forEach(s=>{const a=this.ei(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Ye(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return ae.forEach(n.mutations,a=>{const l=new Ht(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,n){const s=new Ht(n,0),a=this.Xr.firstAfterOrEqual(s);return ae.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e){this.ii=e,this.docs=function(){return new mt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,u=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ae.resolve(s?s.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(e,n){let s=Is();return n.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():ln.newInvalidDocument(a))}),ae.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Is();const u=n.path,f=new _e(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||hM(uM(v),s)<=0||(a.has(v.key)||gf(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,n,s,a){we(9500)}si(e,n){return ae.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new VP(this)}getSize(e){return ae.resolve(this.size)}}class VP extends NP{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.Br.addEntry(e,a)):this.Br.removeEntry(s)}),ae.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e){this.persistence=e,this.oi=new Pa(n=>Ly(n),Uy),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this._i=0,this.ai=new $y,this.targetCount=0,this.ui=Xo.cr()}forEachTarget(e,n){return this.oi.forEach((s,a)=>n(a)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),ae.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Xo(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.Tr(n),ae.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.oi.forEach((u,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.oi.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),ae.waitFor(l).next(()=>a)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const s=this.oi.get(n)||null;return ae.resolve(s)}addMatchingKeys(e,n,s){return this.ai.Gr(n,s),ae.resolve()}removeMatchingKeys(e,n,s){this.ai.jr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(u=>{l.push(a.markPotentiallyOrphaned(e,u))}),ae.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ai.Yr(n);return ae.resolve(s)}containsKey(e,n){return ae.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,n){this.ci={},this.overlays={},this.li=new df(0),this.hi=!1,this.hi=!0,this.Pi=new MP,this.referenceDelegate=e(this),this.Ti=new LP(this),this.indexManager=new EP,this.remoteDocumentCache=function(a){return new OP(a)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new TP(n),this.Ei=new DP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new kP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ci[e.toKey()];return s||(s=new PP(n,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,s){me("MemoryPersistence","Starting transaction:",e);const a=new UP(this.li.next());return this.referenceDelegate.di(),s(a).next(l=>this.referenceDelegate.Ai(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ri(e,n){return ae.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,n)))}}class UP extends fM{constructor(e){super(),this.currentSequenceNumber=e}}class Ky{constructor(e){this.persistence=e,this.Vi=new $y,this.mi=null}static fi(e){return new Ky(e)}get gi(){if(this.mi)return this.mi;throw we(60996)}addReference(e,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),ae.resolve()}removeReference(e,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(a=>this.gi.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.gi.add(l.toString()))}).next(()=>s.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.gi,s=>{const a=_e.fromPath(s);return this.pi(e,a).next(l=>{l||n.removeEntry(a,Ce.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ae.or([()=>ae.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class $d{constructor(e,n){this.persistence=e,this.yi=new Pa(s=>gM(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=RP(this,n)}static fi(e,n){return new $d(e,n)}di(){}Ai(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}Sr(e){let n=0;return this.yr(e,s=>{n++}).next(()=>n)}yr(e,n){return ae.forEach(this.yi,(s,a)=>this.Dr(e,s,a).next(l=>l?ae.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.si(e,u=>this.Dr(e,u,n).next(f=>{f||(s++,l.removeEntry(u,Ce.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ae.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=xd(e.data.value)),n}Dr(e,n,s){return ae.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.yi.get(n);return ae.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.ds=s,this.As=a}static Rs(e,n){let s=Le(),a=Le();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Yy(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return xI()?8:mM(un())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ws(e,n).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.Ss(e,n,a,s).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new BP;return this.bs(e,n,u).next(f=>{if(l.result=f,this.fs)return this.Ds(e,n,u,f.size)})}).next(()=>l.result)}Ds(e,n,s,a){return s.documentReadCount<this.gs?(jo()<=Ve.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Do(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ae.resolve()):(jo()<=Ve.DEBUG&&me("QueryEngine","Query:",Do(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ps*a?(jo()<=Ve.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Do(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bi(n))):ae.resolve())}ws(e,n){if(xx(n))return ae.resolve(null);let s=Bi(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Hd(n,null,"F"),s=Bi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const u=Le(...l);return this.ys.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,s).next(m=>{const g=this.vs(n,f);return this.Cs(n,g,u,m.readTime)?this.ws(e,Hd(n,null,"F")):this.Fs(e,g,n,m)}))})))}Ss(e,n,s,a){return xx(n)||a.isEqual(Ce.min())?ae.resolve(null):this.ys.getDocuments(e,s).next(l=>{const u=this.vs(n,l);return this.Cs(n,u,s,a)?ae.resolve(null):(jo()<=Ve.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Do(n)),this.Fs(e,u,n,cM(a,Xc)).next(f=>f))})}vs(e,n){let s=new Vt(aS(e));return n.forEach((a,l)=>{gf(e,l)&&(s=s.add(l))}),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}bs(e,n,s){return jo()<=Ve.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Do(n)),this.ys.getDocumentsMatchingQuery(e,n,_r.min(),s)}Fs(e,n,s,a){return this.ys.getDocumentsMatchingQuery(e,s,a).next(l=>(n.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="LocalStore",FP=3e8;class HP{constructor(e,n,s,a){this.persistence=e,this.Ms=n,this.serializer=a,this.xs=new mt(je),this.Os=new Pa(l=>Ly(l),Uy),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jP(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function qP(t,e,n,s){return new HP(t,e,n,s)}async function NS(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,n.Ls(e),n.mutationQueue.getAllMutationBatches(s))).next(l=>{const u=[],f=[];let m=Le();for(const g of a){u.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of l){f.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(s,m).next(g=>({ks:g,removedBatchIds:u,addedBatchIds:f}))})})}function GP(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=n.Bs.newChangeBuffer({trackRemovals:!0});return function(f,m,g,v){const T=g.batch,x=T.keys();let w=ae.resolve();return x.forEach(S=>{w=w.next(()=>v.getEntry(m,S)).next(D=>{const k=g.docVersions.get(S);Ye(k!==null,48541),D.version.compareTo(k)<0&&(T.applyToRemoteDocument(D,g),D.isValidDocument()&&(D.setReadTime(g.commitVersion),v.addEntry(D)))})}),w.next(()=>f.mutationQueue.removeMutationBatch(m,T))}(n,s,e,l).next(()=>l.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let m=Le();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(m=m.add(f.batch.mutations[g].key));return m}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function IS(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function $P(t,e){const n=Re(t),s=e.snapshotVersion;let a=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=n.Bs.newChangeBuffer({trackRemovals:!0});a=n.xs;const f=[];e.targetChanges.forEach((v,T)=>{const x=a.get(T);if(!x)return;f.push(n.Ti.removeMatchingKeys(l,v.removedDocuments,T).next(()=>n.Ti.addMatchingKeys(l,v.addedDocuments,T)));let w=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?w=w.withResumeToken(en.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):v.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(v.resumeToken,s)),a=a.insert(T,w),function(D,k,V){return D.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=FP?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(x,w,v)&&f.push(n.Ti.updateTargetData(l,w))});let m=Is(),g=Le();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))}),f.push(KP(l,u,e.documentUpdates).next(v=>{m=v.qs,g=v.Qs})),!s.isEqual(Ce.min())){const v=n.Ti.getLastRemoteSnapshotVersion(l).next(T=>n.Ti.setTargetsMetadata(l,l.currentSequenceNumber,s));f.push(v)}return ae.waitFor(f).next(()=>u.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,m,g)).next(()=>m)}).then(l=>(n.xs=a,l))}function KP(t,e,n){let s=Le(),a=Le();return n.forEach(l=>s=s.add(l)),e.getEntries(t,s).next(l=>{let u=Is();return n.forEach((f,m)=>{const g=l.get(f);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Ce.min())?(e.removeEntry(f,m.readTime),u=u.insert(f,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),u=u.insert(f,m)):me(Qy,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",m.version)}),{qs:u,Qs:a}})}function YP(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Py),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function QP(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Ti.getTargetData(s,e).next(l=>l?(a=l,ae.resolve(a)):n.Ti.allocateTargetId(s).next(u=>(a=new fr(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.xs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(e,s.targetId)),s})}async function Ug(t,e,n){const s=Re(t),a=s.xs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,u=>s.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!ll(u))throw u;me(Qy,`Failed to update sequence numbers for target ${e}: ${u}`)}s.xs=s.xs.remove(e),s.Os.delete(a.target)}function Mx(t,e,n){const s=Re(t);let a=Ce.min(),l=Le();return s.persistence.runTransaction("Execute query","readwrite",u=>function(m,g,v){const T=Re(m),x=T.Os.get(v);return x!==void 0?ae.resolve(T.xs.get(x)):T.Ti.getTargetData(g,v)}(s,u,Bi(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(u,f.targetId).next(m=>{l=m})}).next(()=>s.Ms.getDocumentsMatchingQuery(u,e,n?a:Ce.min(),n?l:Le())).next(f=>(XP(s,PM(e),f),{documents:f,$s:l})))}function XP(t,e,n){let s=t.Ns.get(e)||Ce.min();n.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),t.Ns.set(e,s)}class Px{constructor(){this.activeTargetIds=zM()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WP{constructor(){this.xo=new Px,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,s){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Px,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="ConnectivityMonitor";class Vx{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){me(Ox,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){me(Ox,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rd=null;function Bg(){return rd===null?rd=function(){return 268435456+Math.round(2147483648*Math.random())}():rd++,"0x"+rd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="RestConnection",JP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eO{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${s}/databases/${a}`,this.Go=this.databaseId.database===Bd?`project_id=${s}`:`project_id=${s}&database_id=${a}`}zo(e,n,s,a,l){const u=Bg(),f=this.jo(e,n.toUriEncodedString());me(Zp,`Sending RPC '${e}' ${u}:`,f,s);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,a,l);const{host:g}=new URL(f),v=il(g);return this.Jo(e,f,m,s,v).then(T=>(me(Zp,`Received RPC '${e}' ${u}: `,T),T),T=>{throw $o(Zp,`RPC '${e}' ${u} failed with error: `,T,"url: ",f,"request:",s),T})}Yo(e,n,s,a,l,u){return this.zo(e,n,s,a,l)}Ho(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+al}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>e[l]=a),s&&s.headers.forEach((a,l)=>e[l]=a)}jo(e,n){const s=JP[e];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class nO extends eO{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const u=Bg();return new Promise((f,m)=>{const g=new kw;g.setWithCredentials(!0),g.listenOnce(Mw.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Td.NO_ERROR:const T=g.getResponseJson();me(rn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),f(T);break;case Td.TIMEOUT:me(rn,`RPC '${e}' ${u} timed out`),m(new de(se.DEADLINE_EXCEEDED,"Request time out"));break;case Td.HTTP_ERROR:const x=g.getStatus();if(me(rn,`RPC '${e}' ${u} failed with status:`,x,"response text:",g.getResponseText()),x>0){let w=g.getResponseJson();Array.isArray(w)&&(w=w[0]);const S=w==null?void 0:w.error;if(S&&S.status&&S.message){const D=function(V){const Q=V.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(Q)>=0?Q:se.UNKNOWN}(S.status);m(new de(D,S.message))}else m(new de(se.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new de(se.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{me(rn,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(a);me(rn,`RPC '${e}' ${u} sending request:`,a),g.send(n,"POST",v,s,15)})}T_(e,n,s){const a=Bg(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Vw(),f=Ow(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const v=l.join("");me(rn,`Creating RPC '${e}' stream ${a}: ${v}`,m);const T=u.createWebChannel(v,m);let x=!1,w=!1;const S=new tO({Zo:k=>{w?me(rn,`Not sending because RPC '${e}' stream ${a} is closed:`,k):(x||(me(rn,`Opening RPC '${e}' stream ${a} transport.`),T.open(),x=!0),me(rn,`RPC '${e}' stream ${a} sending:`,k),T.send(k))},Xo:()=>T.close()}),D=(k,V,Q)=>{k.listen(V,F=>{try{Q(F)}catch(ne){setTimeout(()=>{throw ne},0)}})};return D(T,Nc.EventType.OPEN,()=>{w||(me(rn,`RPC '${e}' stream ${a} transport opened.`),S.__())}),D(T,Nc.EventType.CLOSE,()=>{w||(w=!0,me(rn,`RPC '${e}' stream ${a} transport closed`),S.u_())}),D(T,Nc.EventType.ERROR,k=>{w||(w=!0,$o(rn,`RPC '${e}' stream ${a} transport errored. Name:`,k.name,"Message:",k.message),S.u_(new de(se.UNAVAILABLE,"The operation could not be completed")))}),D(T,Nc.EventType.MESSAGE,k=>{var V;if(!w){const Q=k.data[0];Ye(!!Q,16349);const F=Q,ne=(F==null?void 0:F.error)||((V=F[0])===null||V===void 0?void 0:V.error);if(ne){me(rn,`RPC '${e}' stream ${a} received error:`,ne);const z=ne.status;let H=function(j){const O=Nt[j];if(O!==void 0)return yS(O)}(z),I=ne.message;H===void 0&&(H=se.INTERNAL,I="Unknown error status: "+z+" with message "+ne.message),w=!0,S.u_(new de(H,I)),T.close()}else me(rn,`RPC '${e}' stream ${a} received:`,Q),S.c_(Q)}}),D(f,Pw.STAT_EVENT,k=>{k.stat===Rg.PROXY?me(rn,`RPC '${e}' stream ${a} detected buffering proxy`):k.stat===Rg.NOPROXY&&me(rn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{S.a_()},0),S}}function Jp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(t){return new aP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,n,s=1e3,a=1.5,l=6e4){this.xi=e,this.timerId=n,this.I_=s,this.E_=a,this.d_=l,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),s=Math.max(0,Date.now()-this.V_),a=Math.max(0,n-s);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="PersistentStream";class DS{constructor(e,n,s,a,l,u,f,m){this.xi=e,this.y_=s,this.w_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new jS(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(Ns(n.toString()),Ns("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.S_===n&&this.K_(s,a)},s=>{e(()=>{const a=new de(se.UNKNOWN,"Fetching auth token failed: "+s.message);return this.W_(a)})})}K_(e,n){const s=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{s(()=>this.W_(a))}),this.stream.onMessage(a=>{s(()=>++this.v_==1?this.z_(a):this.onNext(a))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return me(Lx,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(me(Lx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iO extends DS{constructor(e,n,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=cP(this.serializer,e),s=function(l){if(!("targetChange"in l))return Ce.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ce.min():u.readTime?zi(u.readTime):Ce.min()}(e);return this.listener.j_(n,s)}H_(e){const n={};n.database=Lg(this.serializer),n.addTarget=function(l,u){let f;const m=u.target;if(f=kg(m)?{documents:dP(l,m)}:{query:fP(l,m).gt},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=TS(l,u.resumeToken);const g=Pg(l,u.expectedCount);g!==null&&(f.expectedCount=g)}else if(u.snapshotVersion.compareTo(Ce.min())>0){f.readTime=Gd(l,u.snapshotVersion.toTimestamp());const g=Pg(l,u.expectedCount);g!==null&&(f.expectedCount=g)}return f}(this.serializer,e);const s=pP(this.serializer,e);s&&(n.labels=s),this.L_(n)}J_(e){const n={};n.database=Lg(this.serializer),n.removeTarget=e,this.L_(n)}}class sO extends DS{constructor(e,n,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=hP(e.writeResults,e.commitTime),s=zi(e.commitTime);return this.listener.ea(s,n)}ta(){const e={};e.database=Lg(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>uP(this.serializer,s))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{}class aO extends rO{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.na=!1}ra(){if(this.na)throw new de(se.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,s,a){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.zo(e,Og(n,s),a,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(se.UNKNOWN,l.toString())})}Yo(e,n,s,a,l){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Yo(e,Og(n,s),a,u,f,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(se.UNKNOWN,u.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class oO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Ns(n),this.oa=!1):me("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="RemoteStore";class lO{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=l,this.Ea.No(u=>{s.enqueueAndForget(async()=>{Oa(this)&&(me(Ia,"Restarting streams for network reachability change."),await async function(m){const g=Re(m);g.Ta.add(4),await xu(g),g.da.set("Unknown"),g.Ta.delete(4),await xf(g)}(this))})}),this.da=new oO(s,a)}}async function xf(t){if(Oa(t))for(const e of t.Ia)await e(!0)}async function xu(t){for(const e of t.Ia)await e(!1)}function kS(t,e){const n=Re(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),Jy(n)?Zy(n):ul(n).M_()&&Wy(n,e))}function Xy(t,e){const n=Re(t),s=ul(n);n.Pa.delete(e),s.M_()&&MS(n,e),n.Pa.size===0&&(s.M_()?s.N_():Oa(n)&&n.da.set("Unknown"))}function Wy(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ul(t).H_(e)}function MS(t,e){t.Aa.Ke(e),ul(t).J_(e)}function Zy(t){t.Aa=new nP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),ul(t).start(),t.da._a()}function Jy(t){return Oa(t)&&!ul(t).F_()&&t.Pa.size>0}function Oa(t){return Re(t).Ta.size===0}function PS(t){t.Aa=void 0}async function cO(t){t.da.set("Online")}async function uO(t){t.Pa.forEach((e,n)=>{Wy(t,e)})}async function hO(t,e){PS(t),Jy(t)?(t.da.ca(e),Zy(t)):t.da.set("Unknown")}async function dO(t,e,n){if(t.da.set("Online"),e instanceof _S&&e.state===2&&e.cause)try{await async function(a,l){const u=l.cause;for(const f of l.targetIds)a.Pa.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Pa.delete(f),a.Aa.removeTarget(f))}(t,e)}catch(s){me(Ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Kd(t,s)}else if(e instanceof wd?t.Aa.Xe(e):e instanceof vS?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual(Ce.min()))try{const s=await IS(t.localStore);n.compareTo(s)>=0&&await function(l,u){const f=l.Aa.It(u);return f.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Pa.get(g);v&&l.Pa.set(g,v.withResumeToken(m.resumeToken,u))}}),f.targetMismatches.forEach((m,g)=>{const v=l.Pa.get(m);if(!v)return;l.Pa.set(m,v.withResumeToken(en.EMPTY_BYTE_STRING,v.snapshotVersion)),MS(l,m);const T=new fr(v.target,m,g,v.sequenceNumber);Wy(l,T)}),l.remoteSyncer.applyRemoteEvent(f)}(t,n)}catch(s){me(Ia,"Failed to raise snapshot:",s),await Kd(t,s)}}async function Kd(t,e,n){if(!ll(e))throw e;t.Ta.add(1),await xu(t),t.da.set("Offline"),n||(n=()=>IS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{me(Ia,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await xf(t)})}function OS(t,e){return e().catch(n=>Kd(t,n,e))}async function Ef(t){const e=Re(t),n=br(e);let s=e.ha.length>0?e.ha[e.ha.length-1].batchId:Py;for(;fO(e);)try{const a=await YP(e.localStore,s);if(a===null){e.ha.length===0&&n.N_();break}s=a.batchId,mO(e,a)}catch(a){await Kd(e,a)}VS(e)&&LS(e)}function fO(t){return Oa(t)&&t.ha.length<10}function mO(t,e){t.ha.push(e);const n=br(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function VS(t){return Oa(t)&&!br(t).F_()&&t.ha.length>0}function LS(t){br(t).start()}async function pO(t){br(t).ta()}async function gO(t){const e=br(t);for(const n of t.ha)e.Z_(n.mutations)}async function yO(t,e,n){const s=t.ha.shift(),a=Hy.from(s,e,n);await OS(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await Ef(t)}async function vO(t,e){e&&br(t).Y_&&await async function(s,a){if(function(u){return eP(u)&&u!==se.ABORTED}(a.code)){const l=s.ha.shift();br(s).O_(),await OS(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Ef(s)}}(t,e),VS(t)&&LS(t)}async function Ux(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),me(Ia,"RemoteStore received new credentials");const s=Oa(n);n.Ta.add(3),await xu(n),s&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await xf(n)}async function _O(t,e){const n=Re(t);e?(n.Ta.delete(2),await xf(n)):e||(n.Ta.add(2),await xu(n),n.da.set("Unknown"))}function ul(t){return t.Ra||(t.Ra=function(n,s,a){const l=Re(n);return l.ra(),new iO(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{e_:cO.bind(null,t),n_:uO.bind(null,t),i_:hO.bind(null,t),j_:dO.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),Jy(t)?Zy(t):t.da.set("Unknown")):(await t.Ra.stop(),PS(t))})),t.Ra}function br(t){return t.Va||(t.Va=function(n,s,a){const l=Re(n);return l.ra(),new sO(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:pO.bind(null,t),i_:vO.bind(null,t),X_:gO.bind(null,t),ea:yO.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await Ef(t)):(await t.Va.stop(),t.ha.length>0&&(me(Ia,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const u=Date.now()+s,f=new ev(e,n,u,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tv(t,e){if(Ns("AsyncQueue",`${e}: ${t}`),ll(t))return new de(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{static emptySet(e){return new qo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=Ic(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new qo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(){this.ma=new mt(_e.comparator)}track(e){const n=e.doc.key,s=this.ma.get(n);s?e.type!==0&&s.type===3?this.ma=this.ma.insert(n,e):e.type===3&&s.type!==1?this.ma=this.ma.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ma=this.ma.remove(n):e.type===1&&s.type===2?this.ma=this.ma.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):we(63341,{Vt:e,fa:s}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,s)=>{e.push(s)}),e}}class Wo{constructor(e,n,s,a,l,u,f,m,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,a,l){const u=[];return n.forEach(f=>{u.push({type:0,doc:f})}),new Wo(e,n,qo.emptySet(n),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class xO{constructor(){this.queries=zx(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,s){const a=Re(n),l=a.queries;a.queries=zx(),l.forEach((u,f)=>{for(const m of f.ya)m.onError(s)})})(this,new de(se.ABORTED,"Firestore shutting down"))}}function zx(){return new Pa(t=>rS(t),pf)}async function US(t,e){const n=Re(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.wa()&&e.Sa()&&(s=2):(l=new TO,s=e.Sa()?0:1);try{switch(s){case 0:l.pa=await n.onListen(a,!0);break;case 1:l.pa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const f=tv(u,`Initialization of query '${Do(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.ya.push(e),e.Da(n.onlineState),l.pa&&e.va(l.pa)&&nv(n)}async function BS(t,e){const n=Re(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const u=l.ya.indexOf(e);u>=0&&(l.ya.splice(u,1),l.ya.length===0?a=e.Sa()?0:1:!l.wa()&&e.Sa()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function EO(t,e){const n=Re(t);let s=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const f of u.ya)f.va(a)&&(s=!0);u.pa=a}}s&&nv(n)}function bO(t,e,n){const s=Re(t),a=s.queries.get(e);if(a)for(const l of a.ya)l.onError(n);s.queries.delete(e)}function nv(t){t.ba.forEach(e=>{e.next()})}var zg,Fx;(Fx=zg||(zg={})).Ca="default",Fx.Cache="cache";class zS{constructor(e,n,s){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=s||{}}va(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Wo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const s=n!=="Offline";return(!this.options.La||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=Wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==zg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e){this.key=e}}class HS{constructor(e){this.key=e}}class wO{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Le(),this.mutatedKeys=Le(),this.Ha=aS(e),this.Ja=new qo(this.Ha)}get Ya(){return this.Ga}Za(e,n){const s=n?n.Xa:new Bx,a=n?n.Ja:this.Ja;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((v,T)=>{const x=a.get(v),w=gf(this.query,T)?T:null,S=!!x&&this.mutatedKeys.has(x.key),D=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let k=!1;x&&w?x.data.isEqual(w.data)?S!==D&&(s.track({type:3,doc:w}),k=!0):this.eu(x,w)||(s.track({type:2,doc:w}),k=!0,(m&&this.Ha(w,m)>0||g&&this.Ha(w,g)<0)&&(f=!0)):!x&&w?(s.track({type:0,doc:w}),k=!0):x&&!w&&(s.track({type:1,doc:x}),k=!0,(m||g)&&(f=!0)),k&&(w?(u=u.add(w),l=D?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{Ja:u,Xa:s,Cs:f,mutatedKeys:l}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const u=e.Xa.ga();u.sort((v,T)=>function(w,S){const D=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:k})}};return D(w)-D(S)}(v.type,T.type)||this.Ha(v.doc,T.doc)),this.tu(s),a=a!=null&&a;const f=n&&!a?this.nu():[],m=this.ja.size===0&&this.current&&!a?1:0,g=m!==this.za;return this.za=m,u.length!==0||g?{snapshot:new Wo(this.query,e.Ja,l,u,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ru:f}:{ru:f}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new Bx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Le(),this.Ja.forEach(s=>{this.iu(s.key)&&(this.ja=this.ja.add(s.key))});const n=[];return e.forEach(s=>{this.ja.has(s)||n.push(new HS(s))}),this.ja.forEach(s=>{e.has(s)||n.push(new FS(s))}),n}su(e){this.Ga=e.$s,this.ja=Le();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return Wo.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const iv="SyncEngine";class SO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class AO{constructor(e){this.key=e,this._u=!1}}class CO{constructor(e,n,s,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.au={},this.uu=new Pa(f=>rS(f),pf),this.cu=new Map,this.lu=new Set,this.hu=new mt(_e.comparator),this.Pu=new Map,this.Tu=new $y,this.Iu={},this.Eu=new Map,this.du=Xo.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function RO(t,e,n=!0){const s=QS(t);let a;const l=s.uu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.ou()):a=await qS(s,e,n,!0),a}async function NO(t,e){const n=QS(t);await qS(n,e,!0,!1)}async function qS(t,e,n,s){const a=await QP(t.localStore,Bi(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let f;return s&&(f=await IO(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&kS(t.remoteStore,a),f}async function IO(t,e,n,s,a){t.Ru=(T,x,w)=>async function(D,k,V,Q){let F=k.view.Za(V);F.Cs&&(F=await Mx(D.localStore,k.query,!1).then(({documents:I})=>k.view.Za(I,F)));const ne=Q&&Q.targetChanges.get(k.targetId),z=Q&&Q.targetMismatches.get(k.targetId)!=null,H=k.view.applyChanges(F,D.isPrimaryClient,ne,z);return qx(D,k.targetId,H.ru),H.snapshot}(t,T,x,w);const l=await Mx(t.localStore,e,!0),u=new wO(e,l.$s),f=u.Za(l.documents),m=Tu.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),g=u.applyChanges(f,t.isPrimaryClient,m);qx(t,n,g.ru);const v=new SO(e,n,u);return t.uu.set(e,v),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),g.snapshot}async function jO(t,e,n){const s=Re(t),a=s.uu.get(e),l=s.cu.get(a.targetId);if(l.length>1)return s.cu.set(a.targetId,l.filter(u=>!pf(u,e))),void s.uu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Ug(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Xy(s.remoteStore,a.targetId),Fg(s,a.targetId)}).catch(ol)):(Fg(s,a.targetId),await Ug(s.localStore,a.targetId,!0))}async function DO(t,e){const n=Re(t),s=n.uu.get(e),a=n.cu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Xy(n.remoteStore,s.targetId))}async function kO(t,e,n){const s=BO(t);try{const a=await function(u,f){const m=Re(u),g=ke.now(),v=f.reduce((w,S)=>w.add(S.key),Le());let T,x;return m.persistence.runTransaction("Locally write mutations","readwrite",w=>{let S=Is(),D=Le();return m.Bs.getEntries(w,v).next(k=>{S=k,S.forEach((V,Q)=>{Q.isValidDocument()||(D=D.add(V))})}).next(()=>m.localDocuments.getOverlayedDocuments(w,S)).next(k=>{T=k;const V=[];for(const Q of f){const F=QM(Q,T.get(Q.key).overlayedDocument);F!=null&&V.push(new Ir(Q.key,F,Ww(F.value.mapValue),ii.exists(!0)))}return m.mutationQueue.addMutationBatch(w,g,V,f)}).next(k=>{x=k;const V=k.applyToLocalDocumentSet(T,D);return m.documentOverlayCache.saveOverlays(w,k.batchId,V)})}).then(()=>({batchId:x.batchId,changes:lS(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(u,f,m){let g=u.Iu[u.currentUser.toKey()];g||(g=new mt(je)),g=g.insert(f,m),u.Iu[u.currentUser.toKey()]=g}(s,a.batchId,n),await Eu(s,a.changes),await Ef(s.remoteStore)}catch(a){const l=tv(a,"Failed to persist write");n.reject(l)}}async function GS(t,e){const n=Re(t);try{const s=await $P(n.localStore,e);e.targetChanges.forEach((a,l)=>{const u=n.Pu.get(l);u&&(Ye(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u._u=!0:a.modifiedDocuments.size>0?Ye(u._u,14607):a.removedDocuments.size>0&&(Ye(u._u,42227),u._u=!1))}),await Eu(n,s,e)}catch(s){await ol(s)}}function Hx(t,e,n){const s=Re(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.uu.forEach((l,u)=>{const f=u.view.Da(e);f.snapshot&&a.push(f.snapshot)}),function(u,f){const m=Re(u);m.onlineState=f;let g=!1;m.queries.forEach((v,T)=>{for(const x of T.ya)x.Da(f)&&(g=!0)}),g&&nv(m)}(s.eventManager,e),a.length&&s.au.j_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function MO(t,e,n){const s=Re(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Pu.get(e),l=a&&a.key;if(l){let u=new mt(_e.comparator);u=u.insert(l,ln.newNoDocument(l,Ce.min()));const f=Le().add(l),m=new _f(Ce.min(),new Map,new mt(je),u,f);await GS(s,m),s.hu=s.hu.remove(l),s.Pu.delete(e),sv(s)}else await Ug(s.localStore,e,!1).then(()=>Fg(s,e,n)).catch(ol)}async function PO(t,e){const n=Re(t),s=e.batch.batchId;try{const a=await GP(n.localStore,e);KS(n,s,null),$S(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Eu(n,a)}catch(a){await ol(a)}}async function OO(t,e,n){const s=Re(t);try{const a=await function(u,f){const m=Re(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return m.mutationQueue.lookupMutationBatch(g,f).next(T=>(Ye(T!==null,37113),v=T.keys(),m.mutationQueue.removeMutationBatch(g,T))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,f)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>m.localDocuments.getDocuments(g,v))})}(s.localStore,e);KS(s,e,n),$S(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Eu(s,a)}catch(a){await ol(a)}}function $S(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function KS(t,e,n){const s=Re(t);let a=s.Iu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Iu[s.currentUser.toKey()]=a}}function Fg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.cu.get(e))t.uu.delete(s),n&&t.au.Vu(s,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(s=>{t.Tu.containsKey(s)||YS(t,s)})}function YS(t,e){t.lu.delete(e.path.canonicalString());const n=t.hu.get(e);n!==null&&(Xy(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),sv(t))}function qx(t,e,n){for(const s of n)s instanceof FS?(t.Tu.addReference(s.key,e),VO(t,s)):s instanceof HS?(me(iv,"Document no longer in limbo: "+s.key),t.Tu.removeReference(s.key,e),t.Tu.containsKey(s.key)||YS(t,s.key)):we(19791,{mu:s})}function VO(t,e){const n=e.key,s=n.path.canonicalString();t.hu.get(n)||t.lu.has(s)||(me(iv,"New document in limbo: "+n),t.lu.add(s),sv(t))}function sv(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const n=new _e(ot.fromString(e)),s=t.du.next();t.Pu.set(s,new AO(n)),t.hu=t.hu.insert(n,s),kS(t.remoteStore,new fr(Bi(By(n.path)),s,"TargetPurposeLimboResolution",df.le))}}async function Eu(t,e,n){const s=Re(t),a=[],l=[],u=[];s.uu.isEmpty()||(s.uu.forEach((f,m)=>{u.push(s.Ru(m,e,n).then(g=>{var v;if((g||n)&&s.isPrimaryClient){const T=g?!g.fromCache:(v=n==null?void 0:n.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(m.targetId,T?"current":"not-current")}if(g){a.push(g);const T=Yy.Rs(m.targetId,g);l.push(T)}}))}),await Promise.all(u),s.au.j_(a),await async function(m,g){const v=Re(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ae.forEach(g,x=>ae.forEach(x.ds,w=>v.persistence.referenceDelegate.addReference(T,x.targetId,w)).next(()=>ae.forEach(x.As,w=>v.persistence.referenceDelegate.removeReference(T,x.targetId,w)))))}catch(T){if(!ll(T))throw T;me(Qy,"Failed to update sequence numbers: "+T)}for(const T of g){const x=T.targetId;if(!T.fromCache){const w=v.xs.get(x),S=w.snapshotVersion,D=w.withLastLimboFreeSnapshotVersion(S);v.xs=v.xs.insert(x,D)}}}(s.localStore,l))}async function LO(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){me(iv,"User change. New user:",e.toKey());const s=await NS(n.localStore,e);n.currentUser=e,function(l,u){l.Eu.forEach(f=>{f.forEach(m=>{m.reject(new de(se.CANCELLED,u))})}),l.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Eu(n,s.ks)}}function UO(t,e){const n=Re(t),s=n.Pu.get(e);if(s&&s._u)return Le().add(s.key);{let a=Le();const l=n.cu.get(e);if(!l)return a;for(const u of l){const f=n.uu.get(u);a=a.unionWith(f.view.Ya)}return a}}function QS(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=GS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MO.bind(null,e),e.au.j_=EO.bind(null,e.eventManager),e.au.Vu=bO.bind(null,e.eventManager),e}function BO(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OO.bind(null,e),e}class Yd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tf(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return qP(this.persistence,new zP,e.initialUser,this.serializer)}yu(e){return new RS(Ky.fi,this.serializer)}pu(e){return new WP}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yd.provider={build:()=>new Yd};class zO extends Yd{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){Ye(this.persistence.referenceDelegate instanceof $d,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new AP(s,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new RS(s=>$d.fi(s,n),this.serializer)}}class Hg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Hx(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=LO.bind(null,this.syncEngine),await _O(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xO}()}createDatastore(e){const n=Tf(e.databaseInfo.databaseId),s=function(l){return new nO(l)}(e.databaseInfo);return function(l,u,f,m){return new aO(l,u,f,m)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,l,u,f){return new lO(s,a,l,u,f)}(this.localStore,this.datastore,e.asyncQueue,n=>Hx(this.syncEngine,n,0),function(){return Vx.C()?new Vx:new ZP}())}createSyncEngine(e,n){return function(a,l,u,f,m,g,v){const T=new CO(a,l,u,f,m,g);return v&&(T.Au=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const l=Re(a);me(Ia,"RemoteStore shutting down."),l.Ta.add(5),await xu(l),l.Ea.shutdown(),l.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Hg.provider={build:()=>new Hg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Ns("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="FirestoreClient";class FO{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=on.UNAUTHENTICATED,this.clientId=zw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async u=>{me(wr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(s,u=>(me(wr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=tv(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function eg(t,e){t.asyncQueue.verifyOperationInProgress(),me(wr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async a=>{s.isEqual(a)||(await NS(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Gx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await HO(t);me(wr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>Ux(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,a)=>Ux(e.remoteStore,a)),t._onlineComponents=e}async function HO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(wr,"Using user provided OfflineComponentProvider");try{await eg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;$o("Error using user provided cache. Falling back to memory cache: "+n),await eg(t,new Yd)}}else me(wr,"Using default OfflineComponentProvider"),await eg(t,new zO(void 0));return t._offlineComponents}async function WS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(wr,"Using user provided OnlineComponentProvider"),await Gx(t,t._uninitializedComponentsProvider._online)):(me(wr,"Using default OnlineComponentProvider"),await Gx(t,new Hg))),t._onlineComponents}function qO(t){return WS(t).then(e=>e.syncEngine)}async function ZS(t){const e=await WS(t),n=e.eventManager;return n.onListen=RO.bind(null,e.syncEngine),n.onUnlisten=jO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=NO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=DO.bind(null,e.syncEngine),n}function GO(t,e,n={}){const s=new Ss;return t.asyncQueue.enqueueAndForget(async()=>function(l,u,f,m,g){const v=new XS({next:x=>{v.Cu(),u.enqueueAndForget(()=>BS(l,T));const w=x.docs.has(f);!w&&x.fromCache?g.reject(new de(se.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&x.fromCache&&m&&m.source==="server"?g.reject(new de(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(x)},error:x=>g.reject(x)}),T=new zS(By(f.path),v,{includeMetadataChanges:!0,La:!0});return US(l,T)}(await ZS(t),t.asyncQueue,e,n,s)),s.promise}function $O(t,e,n={}){const s=new Ss;return t.asyncQueue.enqueueAndForget(async()=>function(l,u,f,m,g){const v=new XS({next:x=>{v.Cu(),u.enqueueAndForget(()=>BS(l,T)),x.fromCache&&m.source==="server"?g.reject(new de(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(x)},error:x=>g.reject(x)}),T=new zS(f,v,{includeMetadataChanges:!0,La:!0});return US(l,T)}(await ZS(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(t,e,n){if(!n)throw new de(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function KO(t,e,n,s){if(e===!0&&s===!0)throw new de(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Kx(t){if(!_e.isDocumentKey(t))throw new de(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Yx(t){if(_e.isDocumentKey(t))throw new de(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function bf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":we(12329,{type:typeof t})}function yi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bf(t);throw new de(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function YO(t,e){if(e<=0)throw new de(se.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="firestore.googleapis.com",Qx=!0;class Xx{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new de(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tA,this.ssl=Qx}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Qx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=CS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wP)throw new de(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JS((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new de(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new de(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new de(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wf{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new eM;switch(s.type){case"firstParty":return new sM(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,sl("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=$x.get(n);s&&(me("ComponentProvider","Removing Datastore"),$x.delete(n),s.terminate())}(this),Promise.resolve()}}function QO(t,e,n,s={}){var a;t=yi(t,wf);const l=il(e),u=t._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:t._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==tA&&u.host!==m&&$o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:m,ssl:l,emulatorOptions:s});if(!Sa(g,f)&&(t._setSettings(g),l&&(xy(`https://${m}`),sl("Firestore",!0)),s.mockUserToken)){let v,T;if(typeof s.mockUserToken=="string")v=s.mockUserToken,T=on.MOCK_USER;else{v=$b(s.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const x=s.mockUserToken.sub||s.mockUserToken.user_id;if(!x)throw new de(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new on(x)}t._authCredentials=new tM(new Uw(v,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new jr(this.firestore,e,this._query)}}class vn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class yr extends jr{constructor(e,n,s){super(e,n,By(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new _e(e))}withConverter(e){return new yr(this.firestore,e,this._path)}}function wn(t,e,...n){if(t=Jt(t),eA("collection","path",e),t instanceof wf){const s=ot.fromString(e,...n);return Yx(s),new yr(t,null,s)}{if(!(t instanceof vn||t instanceof yr))throw new de(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ot.fromString(e,...n));return Yx(s),new yr(t.firestore,null,s)}}function gn(t,e,...n){if(t=Jt(t),arguments.length===1&&(e=zw.newId()),eA("doc","path",e),t instanceof wf){const s=ot.fromString(e,...n);return Kx(s),new vn(t,null,new _e(s))}{if(!(t instanceof vn||t instanceof yr))throw new de(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ot.fromString(e,...n));return Kx(s),new vn(t.firestore,t instanceof yr?t.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="AsyncQueue";class Zx{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new jS(this,"async_queue_retry"),this.ec=()=>{const s=Jp();s&&me(Wx,"Visibility state changed to "+s.visibilityState),this.C_.p_()},this.tc=e;const n=Jp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=Jp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new Ss;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!ll(e))throw e;me(Wx,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(s=>{throw this.Ju=s,this.Yu=!1,Ns("INTERNAL UNHANDLED ERROR: ",Jx(s)),s}).then(s=>(this.Yu=!1,s))));return this.tc=n,n}enqueueAfterDelay(e,n,s){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const a=ev.createAndSchedule(this,e,n,s,l=>this.oc(l));return this.Hu.push(a),a}nc(){this.Ju&&we(47125,{_c:Jx(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function Jx(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Va extends wf{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new Zx,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Zx(e),this._firestoreClient=void 0,await e}}}function XO(t,e){const n=typeof t=="object"?t:wy(),s=typeof t=="string"?t:Bd,a=lf(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=Hb("firestore");l&&QO(a,...l)}return a}function rv(t){if(t._terminated)throw new de(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||WO(t),t._firestoreClient}function WO(t){var e,n,s;const a=t._freezeSettings(),l=function(f,m,g,v){return new _M(f,m,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,JS(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new FO(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zo(en.fromBase64String(e))}catch(n){throw new de(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zo(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=/^__.*__$/;class JO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ir(e,this.data,this.fieldMask,n,this.fieldTransforms):new _u(e,this.data,n,this.fieldTransforms)}}class nA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ir(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function iA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{hc:t})}}class lv{constructor(e,n,s,a,l,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Pc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new lv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Tc({path:s,Ec:!1});return a.dc(e),a}Ac(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Tc({path:s,Ec:!1});return a.Pc(),a}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Qd(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(iA(this.hc)&&ZO.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class eV{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Tf(e)}gc(e,n,s,a=!1){return new lv({hc:e,methodName:n,fc:s,path:Zt.emptyPath(),Ec:!1,mc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cf(t){const e=t._freezeSettings(),n=Tf(t._databaseId);return new eV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sA(t,e,n,s,a,l={}){const u=t.gc(l.merge||l.mergeFields?2:0,e,n,a);uv("Data must be an object, but it was:",u,s);const f=rA(s,u);let m,g;if(l.merge)m=new Ln(u.fieldMask),g=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const T of l.mergeFields){const x=qg(e,T,n);if(!u.contains(x))throw new de(se.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);oA(v,x)||v.push(x)}m=new Ln(v),g=u.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,g=u.fieldTransforms;return new JO(new Sn(f),m,g)}class Rf extends Af{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rf}}class cv extends Af{_toFieldTransform(e){return new GM(e.path,new tu)}isEqual(e){return e instanceof cv}}function tV(t,e,n,s){const a=t.gc(1,e,n);uv("Data must be an object, but it was:",a,s);const l=[],u=Sn.empty();Nr(s,(m,g)=>{const v=hv(e,m,n);g=Jt(g);const T=a.Ac(v);if(g instanceof Rf)l.push(v);else{const x=bu(g,T);x!=null&&(l.push(v),u.set(v,x))}});const f=new Ln(l);return new nA(u,f,a.fieldTransforms)}function nV(t,e,n,s,a,l){const u=t.gc(1,e,n),f=[qg(e,s,n)],m=[a];if(l.length%2!=0)throw new de(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<l.length;x+=2)f.push(qg(e,l[x])),m.push(l[x+1]);const g=[],v=Sn.empty();for(let x=f.length-1;x>=0;--x)if(!oA(g,f[x])){const w=f[x];let S=m[x];S=Jt(S);const D=u.Ac(w);if(S instanceof Rf)g.push(w);else{const k=bu(S,D);k!=null&&(g.push(w),v.set(w,k))}}const T=new Ln(g);return new nA(v,T,u.fieldTransforms)}function iV(t,e,n,s=!1){return bu(n,t.gc(s?4:3,e))}function bu(t,e){if(aA(t=Jt(t)))return uv("Unsupported field value:",e,t),rA(t,e);if(t instanceof Af)return function(s,a){if(!iA(a.hc))throw a.Vc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Vc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(s,a){const l=[];let u=0;for(const f of s){let m=bu(f,a.Rc(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}}(t,e)}return function(s,a){if((s=Jt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return FM(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ke.fromDate(s);return{timestampValue:Gd(a.serializer,l)}}if(s instanceof ke){const l=new ke(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Gd(a.serializer,l)}}if(s instanceof av)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Zo)return{bytesValue:TS(a.serializer,s._byteString)};if(s instanceof vn){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.Vc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Gy(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof ov)return function(u,f){return{mapValue:{fields:{[Qw]:{stringValue:Xw},[zd]:{arrayValue:{values:u.toArray().map(g=>{if(typeof g!="number")throw f.Vc("VectorValues must only contain numeric values.");return zy(f.serializer,g)})}}}}}}(s,a);throw a.Vc(`Unsupported field value: ${bf(s)}`)}(t,e)}function rA(t,e){const n={};return Hw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Nr(t,(s,a)=>{const l=bu(a,e.Ic(s));l!=null&&(n[s]=l)}),{mapValue:{fields:n}}}function aA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ke||t instanceof av||t instanceof Zo||t instanceof vn||t instanceof Af||t instanceof ov)}function uv(t,e,n){if(!aA(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=bf(n);throw s==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+s)}}function qg(t,e,n){if((e=Jt(e))instanceof Sf)return e._internalPath;if(typeof e=="string")return hv(t,e);throw Qd("Field path arguments must be of type string or ",t,!1,void 0,n)}const sV=new RegExp("[~\\*/\\[\\]]");function hv(t,e,n){if(e.search(sV)>=0)throw Qd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sf(...e.split("."))._internalPath}catch{throw Qd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qd(t,e,n,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${s}`),u&&(m+=` in document ${a}`),m+=")"),new de(se.INVALID_ARGUMENT,f+t+m)}function oA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Nf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rV extends lA{data(){return super.data()}}function Nf(t,e){return typeof e=="string"?hv(t,e):e instanceof Sf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dv{}class fv extends dv{}function ti(t,e,...n){let s=[];e instanceof dv&&s.push(e),s=s.concat(n),function(l){const u=l.filter(m=>m instanceof mv).length,f=l.filter(m=>m instanceof If).length;if(u>1||u>0&&f>0)throw new de(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)t=a._apply(t);return t}class If extends fv{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new If(e,n,s)}_apply(e){const n=this._parse(e);return cA(e._query,n),new jr(e.firestore,e.converter,Mg(e._query,n))}_parse(e){const n=Cf(e.firestore);return function(l,u,f,m,g,v,T){let x;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new de(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){tE(T,v);const S=[];for(const D of T)S.push(eE(m,l,D));x={arrayValue:{values:S}}}else x=eE(m,l,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||tE(T,v),x=iV(f,u,T,v==="in"||v==="not-in");return jt.create(g,v,x)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function xa(t,e,n){const s=e,a=Nf("where",t);return If._create(a,s,n)}class mv extends dv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new mv(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:gi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,l){let u=a;const f=l.getFlattenedFilters();for(const m of f)cA(u,m),u=Mg(u,m)}(e._query,n),new jr(e.firestore,e.converter,Mg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class pv extends fv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new pv(e,n)}_apply(e){const n=function(a,l,u){if(a.startAt!==null)throw new de(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new de(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new eu(l,u)}(e._query,this._field,this._direction);return new jr(e.firestore,e.converter,function(a,l){const u=a.explicitOrderBy.concat([l]);return new cl(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,n))}}function Xd(t,e="asc"){const n=e,s=Nf("orderBy",t);return pv._create(s,n)}class gv extends fv{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new gv(e,n,s)}_apply(e){return new jr(e.firestore,e.converter,Hd(e._query,this._limit,this._limitType))}}function Gg(t){return YO("limit",t),gv._create("limit",t,"F")}function eE(t,e,n){if(typeof(n=Jt(n))=="string"){if(n==="")throw new de(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sS(e)&&n.indexOf("/")!==-1)throw new de(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ot.fromString(n));if(!_e.isDocumentKey(s))throw new de(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return px(t,new _e(s))}if(n instanceof vn)return px(t,n._key);throw new de(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bf(n)}.`)}function tE(t,e){if(!Array.isArray(t)||t.length===0)throw new de(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cA(t,e){const n=function(a,l){for(const u of a)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new de(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class oV{convertValue(e,n="none"){switch(Er(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Nr(e,(a,l)=>{s[a]=this.convertValue(l,n)}),s}convertVectorValue(e){var n,s,a;const l=(a=(s=(n=e.fields)===null||n===void 0?void 0:n[zd].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(u=>bt(u.doubleValue));return new ov(l)}convertGeoPoint(e){return new av(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=mf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Wc(e));default:return null}}convertTimestamp(e){const n=Tr(e);return new ke(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ot.fromString(e);Ye(AS(s),9688,{name:e});const a=new Zc(s.get(1),s.get(3)),l=new _e(s.popFirst(5));return a.isEqual(n)||Ns(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hA extends lA{constructor(e,n,s,a,l,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Nf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Sd extends hA{data(e={}){return super.data(e)}}class lV{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Dc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Sd(this._firestore,this._userDataWriter,s.key,s,new Dc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(f=>{const m=new Sd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Dc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const m=new Sd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Dc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return f.type!==0&&(g=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),v=u.indexOf(f.doc.key)),{type:cV(f.type),doc:m,oldIndex:g,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function cV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(t){t=yi(t,vn);const e=yi(t.firestore,Va);return GO(rv(e),t._key).then(n=>hV(e,t,n))}class dA extends oV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,n)}}function ni(t){t=yi(t,jr);const e=yi(t.firestore,Va),n=rv(e),s=new dA(e);return aV(t._query),$O(n,t._query).then(a=>new lV(e,s,t,a))}function Ea(t,e,n){t=yi(t,vn);const s=yi(t.firestore,Va),a=uA(t.converter,e,n);return jf(s,[sA(Cf(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,ii.none())])}function $g(t,e,n,...s){t=yi(t,vn);const a=yi(t.firestore,Va),l=Cf(a);let u;return u=typeof(e=Jt(e))=="string"||e instanceof Sf?nV(l,"updateDoc",t._key,e,n,s):tV(l,"updateDoc",t._key,e),jf(a,[u.toMutation(t._key,ii.exists(!0))])}function uV(t){return jf(yi(t.firestore,Va),[new Fy(t._key,ii.none())])}function fA(t,e){const n=yi(t.firestore,Va),s=gn(t),a=uA(t.converter,e);return jf(n,[sA(Cf(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,ii.exists(!1))]).then(()=>s)}function jf(t,e){return function(s,a){const l=new Ss;return s.asyncQueue.enqueueAndForget(async()=>kO(await qO(s),a,l)),l.promise}(rv(t),e)}function hV(t,e,n){const s=n.docs.get(e._key),a=new dA(t);return new hA(t,a,e._key,s,new Dc(n.hasPendingWrites,n.fromCache),e.converter)}function mA(){return new cv("serverTimestamp")}(function(e,n=!0){(function(a){al=a})(ka),Aa(new vr("firestore",(s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),f=new Va(new nM(s.getProvider("auth-internal")),new rM(u,s.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new de(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zc(g.options.projectId,v)}(u,a),u);return l=Object.assign({useFetchStreams:n},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Vi(ix,sx,e),Vi(ix,sx,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="firebasestorage.googleapis.com",dV="storageBucket",fV=2*60*1e3,mV=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Yi{constructor(e,n,s=0){super(tg(e),`Firebase Storage: ${n} (${tg(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return tg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var $i;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})($i||($i={}));function tg(t){return"storage/"+t}function pV(){const t="An unknown error occurred, please check the error payload for server response.";return new Qi($i.UNKNOWN,t)}function gV(){return new Qi($i.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function yV(){return new Qi($i.CANCELED,"User canceled the upload/download.")}function vV(t){return new Qi($i.INVALID_URL,"Invalid URL '"+t+"'.")}function _V(t){return new Qi($i.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function nE(t){return new Qi($i.INVALID_ARGUMENT,t)}function gA(){return new Qi($i.APP_DELETED,"The Firebase app was deleted.")}function TV(t){return new Qi($i.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=mi.makeFromUrl(e,n)}catch{return new mi(e,"")}if(s.path==="")return s;throw _V(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(ne){ne.path.charAt(ne.path.length-1)==="/"&&(ne.path_=ne.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+a+u,"i"),m={bucket:1,path:3};function g(ne){ne.path_=decodeURIComponent(ne.path)}const v="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",w=new RegExp(`^https?://${T}/${v}/b/${a}/o${x}`,"i"),S={bucket:1,path:3},D=n===pA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",V=new RegExp(`^https?://${D}/${a}/${k}`,"i"),F=[{regex:f,indices:m,postModify:l},{regex:w,indices:S,postModify:g},{regex:V,indices:{bucket:1,path:2},postModify:g}];for(let ne=0;ne<F.length;ne++){const z=F[ne],H=z.regex.exec(e);if(H){const I=H[z.indices.bucket];let C=H[z.indices.path];C||(C=""),s=new mi(I,C),z.postModify(s);break}}if(s==null)throw vV(e);return s}}class xV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(t,e,n){let s=1,a=null,l=null,u=!1,f=0;function m(){return f===2}let g=!1;function v(...k){g||(g=!0,e.apply(null,k))}function T(k){a=setTimeout(()=>{a=null,t(w,m())},k)}function x(){l&&clearTimeout(l)}function w(k,...V){if(g){x();return}if(k){x(),v.call(null,k,...V);return}if(m()||u){x(),v.call(null,k,...V);return}s<64&&(s*=2);let F;f===1?(f=2,F=0):F=(s+Math.random())*1e3,T(F)}let S=!1;function D(k){S||(S=!0,x(),!g&&(a!==null?(k||(f=2),clearTimeout(a),T(0)):k||(f=1)))}return T(0),l=setTimeout(()=>{u=!0,D(!0)},n),D}function bV(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(t){return t!==void 0}function iE(t,e,n,s){if(s<e)throw nE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw nE(`Invalid value for '${t}'. Expected ${n} or less.`)}function SV(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var Wd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Wd||(Wd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AV(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e,n,s,a,l,u,f,m,g,v,T,x=!0,w=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=T,this.retry=x,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,D)=>{this.resolve_=S,this.reject_=D,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new ad(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=f=>{const m=f.loaded,g=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const f=l.getErrorCode()===Wd.NO_ERROR,m=l.getStatus();if(!f||AV(m,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Wd.ABORT;s(!1,new ad(!1,null,v));return}const g=this.successCodes_.indexOf(m)!==-1;s(!0,new ad(g,l))})},n=(s,a)=>{const l=this.resolve_,u=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());wV(m)?l(m):l()}catch(m){u(m)}else if(f!==null){const m=pV();m.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,m)):u(m)}else if(a.canceled){const m=this.appDelete_?gA():yV();u(m)}else{const m=gV();u(m)}};this.canceled_?n(!1,new ad(!1,null,!0)):this.backoffId_=EV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&bV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ad{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function RV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function NV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function IV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function jV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function DV(t,e,n,s,a,l,u=!0,f=!1){const m=SV(t.urlParams),g=t.url+m,v=Object.assign({},t.headers);return IV(v,e),RV(v,n),NV(v,l),jV(v,s),new CV(g,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function MV(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n){this._service=e,n instanceof mi?this._location=n:this._location=mi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Zd(e,n)}get root(){const e=new mi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return MV(this._location.path)}get storage(){return this._service}get parent(){const e=kV(this._location.path);if(e===null)return null;const n=new mi(this._location.bucket,e);return new Zd(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw TV(e)}}function sE(t,e){const n=e==null?void 0:e[dV];return n==null?null:mi.makeFromBucketSpec(n,t)}function PV(t,e,n,s={}){t.host=`${e}:${n}`;const a=il(e);a&&(xy(`https://${t.host}`),sl("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:$b(l,t.app.options.projectId))}class OV{constructor(e,n,s,a,l,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=pA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=fV,this._maxUploadRetryTime=mV,this._requests=new Set,a!=null?this._bucket=mi.makeFromBucketSpec(a,this._host):this._bucket=sE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=mi.makeFromBucketSpec(this._url,e):this._bucket=sE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){iE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){iE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Zd(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new xV(gA());{const u=DV(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const rE="@firebase/storage",aE="0.13.11";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="storage";function VV(t=wy(),e){t=Jt(t),sl("Storage",!1);const s=lf(t,yA).getImmediate({identifier:e}),a=Hb("storage");return a&&LV(s,...a),s}function LV(t,e,n,s={}){PV(t,e,n,s)}function UV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new OV(n,s,a,e,ka)}function BV(){Aa(new vr(yA,UV,"PUBLIC").setMultipleInstances(!0)),Vi(rE,aE,""),Vi(rE,aE,"esm2017")}BV();const zV={apiKey:"AIzaSyALOlJat7fxD5MpAaftT_e3KhTkDoWuxZw",authDomain:"fitness-planner-d6cf0.firebaseapp.com",projectId:"fitness-planner-d6cf0",storageBucket:"fitness-planner-d6cf0.appspot.com",messagingSenderId:"968893369273",appId:"1:968893369273:web:cf83a0d67ce62e557cc468"},vv=Qb(zV),vA=Zk(vv),it=XO(vv);VV(vv);const FV="dd458df7e7be1cfa4a6c9f57a909237f";async function HV({email:t,ip:e,userAgent:n,page:s}){try{await fA(wn(it,"visit_logs"),{email:t||null,ip:e||null,userAgent:n||null,page:s||null,timestamp:mA()})}catch{}}async function Go({email:t,type:e,desc:n}){try{await fA(wn(it,"user_activity"),{email:t||null,type:e||null,desc:n||null,timestamp:mA()})}catch{}}async function qV(t){if(!t)return console.log("Не могу получить аватар: email не указан"),null;try{console.log(`Получаем аватар для пользователя: ${t}`);const e=gn(it,"users",t),n=await yv(e);if(n.exists()){const s=n.data();if(s.avatar)return console.log(`Аватар найден: ${s.avatar.substring(0,30)}...`),s.avatar;console.log("Документ пользователя существует, но аватар не найден")}else console.log("Документ пользователя не найден");return null}catch(e){return console.error("Ошибка при получении аватара:",e),null}}async function GV(t,e){var n;if(!t||!e)throw console.error("Ошибка загрузки аватара: нет email или файла"),new Error("Нет email или файла");try{const s=g=>new Promise((v,T)=>{const x=new FileReader;x.readAsDataURL(g),x.onload=()=>{try{const w=x.result.split(",")[1];v(w)}catch{T(new Error("Ошибка при чтении файла как base64"))}},x.onerror=w=>T(w)});console.log("Начинаем чтение файла как base64...");const a=await s(e);console.log("Файл успешно прочитан как base64");const l=new FormData;l.append("key",FV),l.append("image",a),console.log("Отправляем запрос на ImgBB...");const u=await fetch("https://api.imgbb.com/1/upload",{method:"POST",body:l});if(!u.ok)throw new Error(`Ошибка HTTP: ${u.status} ${u.statusText}`);const f=await u.json();if(console.log("Получен ответ от ImgBB:",f.success?"успешно":"ошибка"),!f.success)throw new Error(`Ошибка загрузки на ImgBB: ${((n=f.error)==null?void 0:n.message)||"Неизвестная ошибка"}`);const m=f.data.display_url||f.data.url;return console.log("URL изображения:",m),console.log("Сохраняем URL в Firestore..."),await Ea(gn(it,"users",t),{avatar:m},{merge:!0}),console.log("URL успешно сохранен в Firestore"),m}catch(s){throw console.error("Ошибка при загрузке аватара на ImgBB:",s),s}}const ng=[{name:"gender",label:"Пол",type:"select",options:["Мужской","Женский"]},{name:"age",label:"Возраст",type:"number",min:10,max:100},{name:"weight",label:"Вес (кг)",type:"number",min:30,max:250},{name:"height",label:"Рост (см)",type:"number",min:120,max:230},{name:"activity",label:"Уровень активности",type:"select",options:["Сидячий","Умеренный","Высокий"]},{name:"goal",label:"Цель",type:"select",options:["Похудение","Поддержание веса","Набор массы","Тонус","Выносливость"]}],oE=[{name:"diet",label:"Тип диеты",type:"select",options:["Обычная","Веган","Кето","Палео","Другое"]},{name:"allergies",label:"Аллергии/непереносимости",type:"text"},{name:"dislikes",label:"Нелюбимые продукты",type:"text"},{name:"budget",label:"Бюджет на еду",type:"select",options:["Эконом","Стандарт","Премиум"]},{name:"cooktime",label:"Время на готовку (минут в день)",type:"number",min:10,max:180}],lE=[{name:"experience",label:"Опыт тренировок",type:"select",options:["Новичок","Средний","Продвинутый"]},{name:"equipment",label:"Доступный инвентарь",type:"select",options:["Только тело","Гантели","Тренажёры"]},{name:"preference",label:"Предпочтения",type:"select",options:["Силовые","Кардио","Йога","Функционалка"]},{name:"days",label:"Тренировок в неделю",type:"number",min:1,max:7},{name:"injuries",label:"Травмы/ограничения",type:"text"}];function $V(t){return t==="food"?[...ng,...oE]:t==="workout"?[...ng,...lE]:[...ng,...oE,...lE]}function KV(){const t=Un(),{search:e}=_i(),n=new URLSearchParams(e).get("type")||"combo",s=N.useMemo(()=>$V(n),[n]),[a,l]=N.useState(0),[u,f]=N.useState({}),m=s[a],g=a===s.length-1,v=S=>{f({...u,[m.name]:S.target.value})},T=()=>{!u[m.name]&&m.type!=="text"||l(S=>S+1)},x=()=>{l(S=>Math.max(0,S-1))},w=async S=>{S.preventDefault(),localStorage.setItem("fitgenius_selected_type",n),localStorage.setItem("fitgenius_questionnaire_answers",JSON.stringify(u));const D=localStorage.getItem("fitgenius_user")||"";await Go({email:D,type:"Опрос",desc:`Пройден опрос: ${n}`}),t("/pay")};return h.jsx("div",{className:"questionnaire-bg",children:h.jsxs("div",{className:"questionnaire-center",children:[h.jsxs("h2",{style:{textAlign:"center",marginBottom:24},children:["Анкета: ",n==="food"?"Питание":n==="workout"?"Тренировки":"Комбо"]}),h.jsxs("div",{style:{marginBottom:16,textAlign:"center"},children:[h.jsx("progress",{value:a+1,max:s.length,style:{width:"80%"}}),h.jsxs("div",{style:{fontSize:14,color:"#888",marginTop:4},children:["Шаг ",a+1," из ",s.length]})]}),h.jsxs("form",{onSubmit:w,children:[h.jsxs("div",{style:{marginBottom:24},children:[h.jsx("label",{style:{fontWeight:600,display:"block",marginBottom:8},children:m.label}),m.type==="select"&&h.jsxs("select",{value:u[m.name]||"",onChange:v,required:!0,style:{width:"100%",padding:12,borderRadius:8,border:"1px solid #ccc",fontSize:18},children:[h.jsx("option",{value:"",disabled:!0,children:"Выберите..."}),m.options.map(S=>h.jsx("option",{value:S,children:S},S))]}),m.type==="number"&&h.jsx("input",{type:"number",min:m.min,max:m.max,value:u[m.name]||"",onChange:v,required:!0,style:{width:"100%",padding:12,borderRadius:8,border:"1px solid #ccc",fontSize:18}}),m.type==="text"&&h.jsx("input",{type:"text",value:u[m.name]||"",onChange:v,placeholder:"Введите...",style:{width:"100%",padding:12,borderRadius:8,border:"1px solid #ccc",fontSize:18}})]}),h.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[h.jsx("button",{type:"button",onClick:x,disabled:a===0,style:{padding:"12px 28px",borderRadius:10,border:"none",background:"#eee",color:"#333",fontWeight:500,fontSize:16,cursor:a===0?"not-allowed":"pointer"},children:"Назад"}),!g&&h.jsx("button",{type:"button",onClick:T,style:{padding:"12px 28px",borderRadius:10,border:"none",background:"#4fd165",color:"#fff",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Далее"}),g&&h.jsx("button",{type:"submit",style:{padding:"12px 28px",borderRadius:10,border:"none",background:"#1a3a2b",color:"#fff",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Сгенерировать программу"})]})]})]})})}const _v=N.createContext({});function Tv(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const xv=typeof window<"u",_A=xv?N.useLayoutEffect:N.useEffect,Df=N.createContext(null);function Ev(t,e){t.indexOf(e)===-1&&t.push(e)}function bv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const js=(t,e,n)=>n>e?e:n<t?t:n;let wv=()=>{};const Ds={},TA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function xA(t){return typeof t=="object"&&t!==null}const EA=t=>/^0[^.\s]+$/u.test(t);function Sv(t){let e;return()=>(e===void 0&&(e=t()),e)}const si=t=>t,YV=(t,e)=>n=>e(t(n)),wu=(...t)=>t.reduce(YV),su=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Av{constructor(){this.subscriptions=[]}add(e){return Ev(this.subscriptions,e),()=>bv(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Fi=t=>t*1e3,Hi=t=>t/1e3;function bA(t,e){return e?t*(1e3/e):0}const wA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,QV=1e-7,XV=12;function WV(t,e,n,s,a){let l,u,f=0;do u=e+(n-e)/2,l=wA(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>QV&&++f<XV);return u}function Su(t,e,n,s){if(t===e&&n===s)return si;const a=l=>WV(l,0,1,t,n);return l=>l===0||l===1?l:wA(a(l),e,s)}const SA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,AA=t=>e=>1-t(1-e),CA=Su(.33,1.53,.69,.99),Cv=AA(CA),RA=SA(Cv),NA=t=>(t*=2)<1?.5*Cv(t):.5*(2-Math.pow(2,-10*(t-1))),Rv=t=>1-Math.sin(Math.acos(t)),IA=AA(Rv),jA=SA(Rv),ZV=Su(.42,0,1,1),JV=Su(0,0,.58,1),DA=Su(.42,0,.58,1),e4=t=>Array.isArray(t)&&typeof t[0]!="number",kA=t=>Array.isArray(t)&&typeof t[0]=="number",t4={linear:si,easeIn:ZV,easeInOut:DA,easeOut:JV,circIn:Rv,circInOut:jA,circOut:IA,backIn:Cv,backInOut:RA,backOut:CA,anticipate:NA},n4=t=>typeof t=="string",cE=t=>{if(kA(t)){wv(t.length===4);const[e,n,s,a]=t;return Su(e,n,s,a)}else if(n4(t))return t4[t];return t},od=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],uE={value:null};function i4(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1},m=0;function g(T){u.has(T)&&(v.schedule(T),t()),m++,T(f)}const v={schedule:(T,x=!1,w=!1)=>{const D=w&&a?n:s;return x&&u.add(T),D.has(T)||D.add(T),T},cancel:T=>{s.delete(T),u.delete(T)},process:T=>{if(f=T,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(g),e&&uE.value&&uE.value.frameloop[e].push(m),m=0,n.clear(),a=!1,l&&(l=!1,v.process(T))}};return v}const s4=40;function MA(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=od.reduce((F,ne)=>(F[ne]=i4(l,e?ne:void 0),F),{}),{setup:f,read:m,resolveKeyframes:g,preUpdate:v,update:T,preRender:x,render:w,postRender:S}=u,D=()=>{const F=Ds.useManualTiming?a.timestamp:performance.now();n=!1,Ds.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(F-a.timestamp,s4),1)),a.timestamp=F,a.isProcessing=!0,f.process(a),m.process(a),g.process(a),v.process(a),T.process(a),x.process(a),w.process(a),S.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(D))},k=()=>{n=!0,s=!0,a.isProcessing||t(D)};return{schedule:od.reduce((F,ne)=>{const z=u[ne];return F[ne]=(H,I=!1,C=!1)=>(n||k(),z.schedule(H,I,C)),F},{}),cancel:F=>{for(let ne=0;ne<od.length;ne++)u[od[ne]].cancel(F)},state:a,steps:u}}const{schedule:ft,cancel:Sr,state:Xt,steps:ig}=MA(typeof requestAnimationFrame<"u"?requestAnimationFrame:si,!0);let Ad;function r4(){Ad=void 0}const An={now:()=>(Ad===void 0&&An.set(Xt.isProcessing||Ds.useManualTiming?Xt.timestamp:performance.now()),Ad),set:t=>{Ad=t,queueMicrotask(r4)}},PA=t=>e=>typeof e=="string"&&e.startsWith(t),Nv=PA("--"),a4=PA("var(--"),Iv=t=>a4(t)?o4.test(t.split("/*")[0].trim()):!1,o4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,hl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ru={...hl,transform:t=>js(0,1,t)},ld={...hl,default:1},zc=t=>Math.round(t*1e5)/1e5,jv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function l4(t){return t==null}const c4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Dv=(t,e)=>n=>!!(typeof n=="string"&&c4.test(n)&&n.startsWith(t)||e&&!l4(n)&&Object.prototype.hasOwnProperty.call(n,e)),OA=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,f]=s.match(jv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},u4=t=>js(0,255,t),sg={...hl,transform:t=>Math.round(u4(t))},_a={test:Dv("rgb","red"),parse:OA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+sg.transform(t)+", "+sg.transform(e)+", "+sg.transform(n)+", "+zc(ru.transform(s))+")"};function h4(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Kg={test:Dv("#"),parse:h4,transform:_a.transform},Au=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),lr=Au("deg"),qi=Au("%"),Ae=Au("px"),d4=Au("vh"),f4=Au("vw"),hE={...qi,parse:t=>qi.parse(t)/100,transform:t=>qi.transform(t*100)},Oo={test:Dv("hsl","hue"),parse:OA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+qi.transform(zc(e))+", "+qi.transform(zc(n))+", "+zc(ru.transform(s))+")"},an={test:t=>_a.test(t)||Kg.test(t)||Oo.test(t),parse:t=>_a.test(t)?_a.parse(t):Oo.test(t)?Oo.parse(t):Kg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?_a.transform(t):Oo.transform(t)},m4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function p4(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(jv))==null?void 0:e.length)||0)+(((n=t.match(m4))==null?void 0:n.length)||0)>0}const VA="number",LA="color",g4="var",y4="var(",dE="${}",v4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function au(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(v4,m=>(an.test(m)?(s.color.push(l),a.push(LA),n.push(an.parse(m))):m.startsWith(y4)?(s.var.push(l),a.push(g4),n.push(m)):(s.number.push(l),a.push(VA),n.push(parseFloat(m))),++l,dE)).split(dE);return{values:n,split:f,indexes:s,types:a}}function UA(t){return au(t).values}function BA(t){const{split:e,types:n}=au(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const f=n[u];f===VA?l+=zc(a[u]):f===LA?l+=an.transform(a[u]):l+=a[u]}return l}}const _4=t=>typeof t=="number"?0:t;function T4(t){const e=UA(t);return BA(t)(e.map(_4))}const Ar={test:p4,parse:UA,createTransformer:BA,getAnimatableNone:T4};function rg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function x4({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const f=n<.5?n*(1+e):n+e-n*e,m=2*n-f;a=rg(m,f,t+1/3),l=rg(m,f,t),u=rg(m,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function Jd(t,e){return n=>n>0?e:t}const dt=(t,e,n)=>t+(e-t)*n,ag=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},E4=[Kg,_a,Oo],b4=t=>E4.find(e=>e.test(t));function fE(t){const e=b4(t);if(!e)return!1;let n=e.parse(t);return e===Oo&&(n=x4(n)),n}const mE=(t,e)=>{const n=fE(t),s=fE(e);if(!n||!s)return Jd(t,e);const a={...n};return l=>(a.red=ag(n.red,s.red,l),a.green=ag(n.green,s.green,l),a.blue=ag(n.blue,s.blue,l),a.alpha=dt(n.alpha,s.alpha,l),_a.transform(a))},Yg=new Set(["none","hidden"]);function w4(t,e){return Yg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function S4(t,e){return n=>dt(t,e,n)}function kv(t){return typeof t=="number"?S4:typeof t=="string"?Iv(t)?Jd:an.test(t)?mE:R4:Array.isArray(t)?zA:typeof t=="object"?an.test(t)?mE:A4:Jd}function zA(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>kv(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function A4(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=kv(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function C4(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][s[l]],f=t.values[u]??0;n[a]=f,s[l]++}return n}const R4=(t,e)=>{const n=Ar.createTransformer(e),s=au(t),a=au(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Yg.has(t)&&!a.values.length||Yg.has(e)&&!s.values.length?w4(t,e):wu(zA(C4(s,a),a.values),n):Jd(t,e)};function FA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?dt(t,e,n):kv(t)(t,e)}const N4=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ft.update(e,n),stop:()=>Sr(e),now:()=>Xt.isProcessing?Xt.timestamp:An.now()}},HA=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=t(l/(a-1))+", ";return`linear(${s.substring(0,s.length-2)})`},ef=2e4;function Mv(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<ef;)e+=n,s=t.next(e);return e>=ef?1/0:e}function I4(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(Mv(s),ef);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:Hi(a)}}const j4=5;function qA(t,e,n){const s=Math.max(e-j4,0);return bA(n-t(s),e-s)}const vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},pE=.001;function D4({duration:t=vt.duration,bounce:e=vt.bounce,velocity:n=vt.velocity,mass:s=vt.mass}){let a,l,u=1-e;u=js(vt.minDamping,vt.maxDamping,u),t=js(vt.minDuration,vt.maxDuration,Hi(t)),u<1?(a=g=>{const v=g*u,T=v*t,x=v-n,w=Qg(g,u),S=Math.exp(-T);return pE-x/w*S},l=g=>{const T=g*u*t,x=T*n+n,w=Math.pow(u,2)*Math.pow(g,2)*t,S=Math.exp(-T),D=Qg(Math.pow(g,2),u);return(-a(g)+pE>0?-1:1)*((x-w)*S)/D}):(a=g=>{const v=Math.exp(-g*t),T=(g-n)*t+1;return-.001+v*T},l=g=>{const v=Math.exp(-g*t),T=(n-g)*(t*t);return v*T});const f=5/t,m=M4(a,l,f);if(t=Fi(t),isNaN(m))return{stiffness:vt.stiffness,damping:vt.damping,duration:t};{const g=Math.pow(m,2)*s;return{stiffness:g,damping:u*2*Math.sqrt(s*g),duration:t}}}const k4=12;function M4(t,e,n){let s=n;for(let a=1;a<k4;a++)s=s-t(s)/e(s);return s}function Qg(t,e){return t*Math.sqrt(1-e*e)}const P4=["duration","bounce"],O4=["stiffness","damping","mass"];function gE(t,e){return e.some(n=>t[n]!==void 0)}function V4(t){let e={velocity:vt.velocity,stiffness:vt.stiffness,damping:vt.damping,mass:vt.mass,isResolvedFromDuration:!1,...t};if(!gE(t,O4)&&gE(t,P4))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*js(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:vt.mass,stiffness:a,damping:l}}else{const n=D4(t);e={...e,...n,mass:vt.mass},e.isResolvedFromDuration=!0}return e}function tf(t=vt.visualDuration,e=vt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:g,mass:v,duration:T,velocity:x,isResolvedFromDuration:w}=V4({...n,velocity:-Hi(n.velocity||0)}),S=x||0,D=g/(2*Math.sqrt(m*v)),k=u-l,V=Hi(Math.sqrt(m/v)),Q=Math.abs(k)<5;s||(s=Q?vt.restSpeed.granular:vt.restSpeed.default),a||(a=Q?vt.restDelta.granular:vt.restDelta.default);let F;if(D<1){const z=Qg(V,D);F=H=>{const I=Math.exp(-D*V*H);return u-I*((S+D*V*k)/z*Math.sin(z*H)+k*Math.cos(z*H))}}else if(D===1)F=z=>u-Math.exp(-V*z)*(k+(S+V*k)*z);else{const z=V*Math.sqrt(D*D-1);F=H=>{const I=Math.exp(-D*V*H),C=Math.min(z*H,300);return u-I*((S+D*V*k)*Math.sinh(C)+z*k*Math.cosh(C))/z}}const ne={calculatedDuration:w&&T||null,next:z=>{const H=F(z);if(w)f.done=z>=T;else{let I=z===0?S:0;D<1&&(I=z===0?Fi(S):qA(F,z,H));const C=Math.abs(I)<=s,j=Math.abs(u-H)<=a;f.done=C&&j}return f.value=f.done?u:H,f},toString:()=>{const z=Math.min(Mv(ne),ef),H=HA(I=>ne.next(z*I).value,z,30);return z+"ms "+H},toTransition:()=>{}};return ne}tf.applyToOptions=t=>{const e=I4(t,100,tf);return t.ease=e.ease,t.duration=Fi(e.duration),t.type="keyframes",t};function Xg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:m,restDelta:g=.5,restSpeed:v}){const T=t[0],x={done:!1,value:T},w=C=>f!==void 0&&C<f||m!==void 0&&C>m,S=C=>f===void 0?m:m===void 0||Math.abs(f-C)<Math.abs(m-C)?f:m;let D=n*e;const k=T+D,V=u===void 0?k:u(k);V!==k&&(D=V-T);const Q=C=>-D*Math.exp(-C/s),F=C=>V+Q(C),ne=C=>{const j=Q(C),O=F(C);x.done=Math.abs(j)<=g,x.value=x.done?V:O};let z,H;const I=C=>{w(x.value)&&(z=C,H=tf({keyframes:[x.value,S(x.value)],velocity:qA(F,C,x.value),damping:a,stiffness:l,restDelta:g,restSpeed:v}))};return I(0),{calculatedDuration:null,next:C=>{let j=!1;return!H&&z===void 0&&(j=!0,ne(C),I(C)),z!==void 0&&C>=z?H.next(C-z):(!j&&ne(C),x)}}}function L4(t,e,n){const s=[],a=n||Ds.mix||FA,l=t.length-1;for(let u=0;u<l;u++){let f=a(t[u],t[u+1]);if(e){const m=Array.isArray(e)?e[u]||si:e;f=wu(m,f)}s.push(f)}return s}function U4(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(wv(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=L4(e,s,a),m=f.length,g=v=>{if(u&&v<t[0])return e[0];let T=0;if(m>1)for(;T<t.length-2&&!(v<t[T+1]);T++);const x=su(t[T],t[T+1],v);return f[T](x)};return n?v=>g(js(t[0],t[l-1],v)):g}function B4(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=su(0,e,s);t.push(dt(n,1,a))}}function z4(t){const e=[0];return B4(e,t.length-1),e}function F4(t,e){return t.map(n=>n*e)}function H4(t,e){return t.map(()=>e||DA).splice(0,t.length-1)}function Fc({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=e4(s)?s.map(cE):cE(s),l={done:!1,value:e[0]},u=F4(n&&n.length===e.length?n:z4(e),t),f=U4(u,e,{ease:Array.isArray(a)?a:H4(e,a)});return{calculatedDuration:t,next:m=>(l.value=f(m),l.done=m>=t,l)}}const q4=t=>t!==null;function Pv(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(q4),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||s===void 0?l[f]:s}const G4={decay:Xg,inertia:Xg,tween:Fc,keyframes:Fc,spring:tf};function GA(t){typeof t.type=="string"&&(t.type=G4[t.type])}class Ov{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const $4=t=>t/100;class Vv extends Ov{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,a;const{motionValue:n}=this.options;n&&n.updatedAt!==An.now()&&this.tick(An.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(s=this.options).onStop)==null||a.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;GA(e);const{type:n=Fc,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:f}=e;const m=n||Fc;m!==Fc&&typeof f[0]!="number"&&(this.mixKeyframes=wu($4,FA(f[0],f[1])),f=[0,100]);const g=m({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...f].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=Mv(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=g}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:v,repeat:T,repeatType:x,repeatDelay:w,type:S,onUpdate:D,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const V=this.currentTime-g*(this.playbackSpeed>=0?1:-1),Q=this.playbackSpeed>=0?V<0:V>a;this.currentTime=Math.max(V,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let F=this.currentTime,ne=s;if(T){const C=Math.min(this.currentTime,a)/f;let j=Math.floor(C),O=C%1;!O&&C>=1&&(O=1),O===1&&j--,j=Math.min(j,T+1),!!(j%2)&&(x==="reverse"?(O=1-O,w&&(O-=w/f)):x==="mirror"&&(ne=u)),F=js(0,1,O)*f}const z=Q?{done:!1,value:v[0]}:ne.next(F);l&&(z.value=l(z.value));let{done:H}=z;!Q&&m!==null&&(H=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&H);return I&&S!==Xg&&(z.value=Pv(v,this.options,k,this.speed)),D&&D(z.value),I&&this.finish(),z}then(e,n){return this.finished.then(e,n)}get duration(){return Hi(this.calculatedDuration)}get time(){return Hi(this.currentTime)}set time(e){var n;e=Fi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(An.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Hi(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:e=N4,startTime:n}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),(l=(a=this.options).onPlay)==null||l.call(a);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(An.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function K4(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ta=t=>t*180/Math.PI,Wg=t=>{const e=Ta(Math.atan2(t[1],t[0]));return Zg(e)},Y4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Wg,rotateZ:Wg,skewX:t=>Ta(Math.atan(t[1])),skewY:t=>Ta(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Zg=t=>(t=t%360,t<0&&(t+=360),t),yE=Wg,vE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),_E=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Q4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:vE,scaleY:_E,scale:t=>(vE(t)+_E(t))/2,rotateX:t=>Zg(Ta(Math.atan2(t[6],t[5]))),rotateY:t=>Zg(Ta(Math.atan2(-t[2],t[0]))),rotateZ:yE,rotate:yE,skewX:t=>Ta(Math.atan(t[4])),skewY:t=>Ta(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Jg(t){return t.includes("scale")?1:0}function ey(t,e){if(!t||t==="none")return Jg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=Q4,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=Y4,a=f}if(!a)return Jg(e);const l=s[e],u=a[1].split(",").map(W4);return typeof l=="function"?l(u):u[l]}const X4=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ey(n,e)};function W4(t){return parseFloat(t.trim())}const dl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fl=new Set(dl),TE=t=>t===hl||t===Ae,Z4=new Set(["x","y","z"]),J4=dl.filter(t=>!Z4.has(t));function e5(t){const e=[];return J4.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const ba={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ey(e,"x"),y:(t,{transform:e})=>ey(e,"y")};ba.translateX=ba.x;ba.translateY=ba.y;const wa=new Set;let ty=!1,ny=!1,iy=!1;function $A(){if(ny){const t=Array.from(wa).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=e5(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{var f;(f=s.getValue(l))==null||f.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}ny=!1,ty=!1,wa.forEach(t=>t.complete(iy)),wa.clear()}function KA(){wa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ny=!0)})}function t5(){iy=!0,KA(),$A(),iy=!1}class Lv{constructor(e,n,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(wa.add(this),ty||(ty=!0,ft.read(KA),ft.resolveKeyframes($A))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a==null?void 0:a.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const f=s.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}K4(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),wa.delete(this)}cancel(){this.state==="scheduled"&&(wa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const n5=t=>t.startsWith("--");function i5(t,e,n){n5(e)?t.style.setProperty(e,n):t.style[e]=n}const s5=Sv(()=>window.ScrollTimeline!==void 0),r5={};function a5(t,e){const n=Sv(t);return()=>r5[e]??n()}const YA=a5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),kc=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,xE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:kc([0,.65,.55,1]),circOut:kc([.55,0,1,.45]),backIn:kc([.31,.01,.66,-.59]),backOut:kc([.33,1.53,.69,.99])};function QA(t,e){if(t)return typeof t=="function"?YA()?HA(t,e):"ease-out":kA(t)?kc(t):Array.isArray(t)?t.map(n=>QA(n,e)||xE.easeOut):xE[t]}function o5(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:f="easeOut",times:m}={},g=void 0){const v={[e]:n};m&&(v.offset=m);const T=QA(f,a);Array.isArray(T)&&(v.easing=T);const x={delay:s,duration:a,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return g&&(x.pseudoElement=g),t.animate(v,x)}function XA(t){return typeof t=="function"&&"applyToOptions"in t}function l5({type:t,...e}){return XA(t)&&YA()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class c5 extends Ov{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:f,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,wv(typeof e.type!="string");const g=l5(e);this.animation=o5(n,s,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=Pv(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(v):i5(n,s,v),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return Hi(Number(e))}get time(){return Hi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Fi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&s5()?(this.animation.timeline=e,si):n(this)}}const WA={anticipate:NA,backInOut:RA,circInOut:jA};function u5(t){return t in WA}function h5(t){typeof t.ease=="string"&&u5(t.ease)&&(t.ease=WA[t.ease])}const EE=10;class d5 extends c5{constructor(e){h5(e),GA(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new Vv({...u,autoplay:!1}),m=Fi(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-EE).value,f.sample(m).value,EE),f.stop()}}const bE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ar.test(t)||t==="0")&&!t.startsWith("url("));function f5(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function m5(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=bE(a,e),f=bE(l,e);return!u||!f?!1:f5(t)||(n==="spring"||XA(n))&&s}function Uv(t){return xA(t)&&"offsetHeight"in t}const p5=new Set(["opacity","clipPath","filter","transform"]),g5=Sv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function y5(t){var g;const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:u}=t;if(!Uv((g=e==null?void 0:e.owner)==null?void 0:g.current))return!1;const{onUpdate:f,transformTemplate:m}=e.owner.getProps();return g5()&&n&&p5.has(n)&&(n!=="transform"||!m)&&!f&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const v5=40;class _5 extends Ov{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:f,name:m,motionValue:g,element:v,...T}){var S;super(),this.stop=()=>{var D,k;this._animation&&(this._animation.stop(),(D=this.stopTimeline)==null||D.call(this)),(k=this.keyframeResolver)==null||k.cancel()},this.createdAt=An.now();const x={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,name:m,motionValue:g,element:v,...T},w=(v==null?void 0:v.KeyframeResolver)||Lv;this.keyframeResolver=new w(f,(D,k,V)=>this.onKeyframesResolved(D,k,x,!V),m,g,v),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:f,delay:m,isHandoff:g,onUpdate:v}=s;this.resolvedAt=An.now(),m5(e,l,u,f)||((Ds.instantAnimations||!m)&&(v==null||v(Pv(e,s,n))),e[0]=e[e.length-1],s.duration=0,s.repeat=0);const x={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>v5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},w=!g&&y5(x)?new d5({...x,element:x.motionValue.owner.current}):new Vv(x);w.finished.then(()=>this.notifyFinished()).catch(si),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),t5()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const T5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function x5(t){const e=T5.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function ZA(t,e,n=1){const[s,a]=x5(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return TA(u)?parseFloat(u):u}return Iv(a)?ZA(a,e,n+1):a}function Bv(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const JA=new Set(["width","height","top","left","right","bottom",...dl]),E5={test:t=>t==="auto",parse:t=>t},eC=t=>e=>e.test(t),tC=[hl,Ae,qi,lr,f4,d4,E5],wE=t=>tC.find(eC(t));function b5(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||EA(t):!0}const w5=new Set(["brightness","contrast","saturate","opacity"]);function S5(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(jv)||[];if(!s)return t;const a=n.replace(s,"");let l=w5.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const A5=/\b([a-z-]*)\(.*?\)/gu,sy={...Ar,getAnimatableNone:t=>{const e=t.match(A5);return e?e.map(S5).join(" "):t}},SE={...hl,transform:Math.round},C5={rotate:lr,rotateX:lr,rotateY:lr,rotateZ:lr,scale:ld,scaleX:ld,scaleY:ld,scaleZ:ld,skew:lr,skewX:lr,skewY:lr,distance:Ae,translateX:Ae,translateY:Ae,translateZ:Ae,x:Ae,y:Ae,z:Ae,perspective:Ae,transformPerspective:Ae,opacity:ru,originX:hE,originY:hE,originZ:Ae},zv={borderWidth:Ae,borderTopWidth:Ae,borderRightWidth:Ae,borderBottomWidth:Ae,borderLeftWidth:Ae,borderRadius:Ae,radius:Ae,borderTopLeftRadius:Ae,borderTopRightRadius:Ae,borderBottomRightRadius:Ae,borderBottomLeftRadius:Ae,width:Ae,maxWidth:Ae,height:Ae,maxHeight:Ae,top:Ae,right:Ae,bottom:Ae,left:Ae,padding:Ae,paddingTop:Ae,paddingRight:Ae,paddingBottom:Ae,paddingLeft:Ae,margin:Ae,marginTop:Ae,marginRight:Ae,marginBottom:Ae,marginLeft:Ae,backgroundPositionX:Ae,backgroundPositionY:Ae,...C5,zIndex:SE,fillOpacity:ru,strokeOpacity:ru,numOctaves:SE},R5={...zv,color:an,backgroundColor:an,outlineColor:an,fill:an,stroke:an,borderColor:an,borderTopColor:an,borderRightColor:an,borderBottomColor:an,borderLeftColor:an,filter:sy,WebkitFilter:sy},nC=t=>R5[t];function iC(t,e){let n=nC(t);return n!==sy&&(n=Ar),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const N5=new Set(["auto","none","0"]);function I5(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!N5.has(l)&&au(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=iC(n,a)}class j5 extends Lv{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let g=e[m];if(typeof g=="string"&&(g=g.trim(),Iv(g))){const v=ZA(g,n.current);v!==void 0&&(e[m]=v),m===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!JA.has(s)||e.length!==2)return;const[a,l]=e,u=wE(a),f=wE(l);if(u!==f)if(TE(u)&&TE(f))for(let m=0;m<e.length;m++){const g=e[m];typeof g=="string"&&(e[m]=parseFloat(g))}else ba[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||b5(e[a]))&&s.push(a);s.length&&I5(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ba[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){var f;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=ba[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([m,g])=>{e.getValue(m).set(g)}),this.resolveNoneKeyframes()}}const AE=30,D5=t=>!isNaN(parseFloat(t));class k5{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,a=!0)=>{var u,f;const l=An.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const m of this.dependents)m.dirty();a&&((f=this.events.renderRequest)==null||f.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=An.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=D5(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Av);const s=this.events[e].add(n);return e==="change"?()=>{s(),ft.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=An.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>AE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,AE);return bA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Jo(t,e){return new k5(t,e)}function M5(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=(n==null?void 0:n[t])??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const sC=(t,e)=>e&&typeof t=="number"?e.transform(t):t,{schedule:Fv}=MA(queueMicrotask,!1),di={x:!1,y:!1};function rC(){return di.x||di.y}function P5(t){return t==="x"||t==="y"?di[t]?null:(di[t]=!0,()=>{di[t]=!1}):di.x||di.y?null:(di.x=di.y=!0,()=>{di.x=di.y=!1})}function aC(t,e){const n=M5(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function CE(t){return!(t.pointerType==="touch"||rC())}function O5(t,e,n={}){const[s,a,l]=aC(t,n),u=f=>{if(!CE(f))return;const{target:m}=f,g=e(m,f);if(typeof g!="function"||!m)return;const v=T=>{CE(T)&&(g(T),m.removeEventListener("pointerleave",v))};m.addEventListener("pointerleave",v,a)};return s.forEach(f=>{f.addEventListener("pointerenter",u,a)}),l}const oC=(t,e)=>e?t===e?!0:oC(t,e.parentElement):!1,Hv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,V5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function L5(t){return V5.has(t.tagName)||t.tabIndex!==-1}const Cd=new WeakSet;function RE(t){return e=>{e.key==="Enter"&&t(e)}}function og(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const U5=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=RE(()=>{if(Cd.has(n))return;og(n,"down");const a=RE(()=>{og(n,"up")}),l=()=>og(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function NE(t){return Hv(t)&&!rC()}function B5(t,e,n={}){const[s,a,l]=aC(t,n),u=f=>{const m=f.currentTarget;if(!NE(f))return;Cd.add(m);const g=e(m,f),v=(w,S)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",x),Cd.has(m)&&Cd.delete(m),NE(w)&&typeof g=="function"&&g(w,{success:S})},T=w=>{v(w,m===window||m===document||n.useGlobalTarget||oC(m,w.target))},x=w=>{v(w,!1)};window.addEventListener("pointerup",T,a),window.addEventListener("pointercancel",x,a)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,a),Uv(f)&&(f.addEventListener("focus",g=>U5(g,a)),!L5(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function lC(t){return xA(t)&&"ownerSVGElement"in t}function z5(t){return lC(t)&&t.tagName==="svg"}const cn=t=>!!(t&&t.getVelocity),F5=[...tC,an,Ar],H5=t=>F5.find(eC(t)),qv=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class q5 extends N.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=Uv(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function G5({children:t,isPresent:e,anchorX:n}){const s=N.useId(),a=N.useRef(null),l=N.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=N.useContext(qv);return N.useInsertionEffect(()=>{const{width:f,height:m,top:g,left:v,right:T}=l.current;if(e||!a.current||!f||!m)return;const x=n==="left"?`left: ${v}`:`right: ${T}`;a.current.dataset.motionPopId=s;const w=document.createElement("style");return u&&(w.nonce=u),document.head.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${m}px !important;
            ${x}px !important;
            top: ${g}px !important;
          }
        `),()=>{document.head.contains(w)&&document.head.removeChild(w)}},[e]),h.jsx(q5,{isPresent:e,childRef:a,sizeRef:l,children:N.cloneElement(t,{ref:a})})}const $5=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:f})=>{const m=Tv(K5),g=N.useId();let v=!0,T=N.useMemo(()=>(v=!1,{id:g,initial:e,isPresent:n,custom:a,onExitComplete:x=>{m.set(x,!0);for(const w of m.values())if(!w)return;s&&s()},register:x=>(m.set(x,!1),()=>m.delete(x))}),[n,m,s]);return l&&v&&(T={...T}),N.useMemo(()=>{m.forEach((x,w)=>m.set(w,!1))},[n]),N.useEffect(()=>{!n&&!m.size&&s&&s()},[n]),u==="popLayout"&&(t=h.jsx(G5,{isPresent:n,anchorX:f,children:t})),h.jsx(Df.Provider,{value:T,children:t})};function K5(){return new Map}function cC(t=!0){const e=N.useContext(Df);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=N.useId();N.useEffect(()=>{if(t)return a(l)},[t]);const u=N.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const cd=t=>t.key||"";function IE(t){const e=[];return N.Children.forEach(t,n=>{N.isValidElement(n)&&e.push(n)}),e}const Cu=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:f="left"})=>{const[m,g]=cC(u),v=N.useMemo(()=>IE(t),[t]),T=u&&!m?[]:v.map(cd),x=N.useRef(!0),w=N.useRef(v),S=Tv(()=>new Map),[D,k]=N.useState(v),[V,Q]=N.useState(v);_A(()=>{x.current=!1,w.current=v;for(let z=0;z<V.length;z++){const H=cd(V[z]);T.includes(H)?S.delete(H):S.get(H)!==!0&&S.set(H,!1)}},[V,T.length,T.join("-")]);const F=[];if(v!==D){let z=[...v];for(let H=0;H<V.length;H++){const I=V[H],C=cd(I);T.includes(C)||(z.splice(H,0,I),F.push(I))}return l==="wait"&&F.length&&(z=F),Q(IE(z)),k(v),null}const{forceRender:ne}=N.useContext(_v);return h.jsx(h.Fragment,{children:V.map(z=>{const H=cd(z),I=u&&!m?!1:v===V||T.includes(H),C=()=>{if(S.has(H))S.set(H,!0);else return;let j=!0;S.forEach(O=>{O||(j=!1)}),j&&(ne==null||ne(),Q(w.current),u&&(g==null||g()),s&&s())};return h.jsx($5,{isPresent:I,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,onExitComplete:I?void 0:C,anchorX:f,children:z},H)})})},uC=N.createContext({strict:!1}),jE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},el={};for(const t in jE)el[t]={isEnabled:e=>jE[t].some(n=>!!e[n])};function Y5(t){for(const e in t)el[e]={...el[e],...t[e]}}const Q5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Q5.has(t)}let hC=t=>!nf(t);function X5(t){t&&(hC=e=>e.startsWith("on")?!nf(e):t(e))}try{X5(require("@emotion/is-prop-valid").default)}catch{}function W5(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(hC(a)||n===!0&&nf(a)||!e&&!nf(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}function Z5(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const kf=N.createContext({});function Mf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ou(t){return typeof t=="string"||Array.isArray(t)}const Gv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$v=["initial",...Gv];function Pf(t){return Mf(t.animate)||$v.some(e=>ou(t[e]))}function dC(t){return!!(Pf(t)||t.variants)}function J5(t,e){if(Pf(t)){const{initial:n,animate:s}=t;return{initial:n===!1||ou(n)?n:void 0,animate:ou(s)?s:void 0}}return t.inherit!==!1?e:{}}function e3(t){const{initial:e,animate:n}=J5(t,N.useContext(kf));return N.useMemo(()=>({initial:e,animate:n}),[DE(e),DE(n)])}function DE(t){return Array.isArray(t)?t.join(" "):t}const t3=Symbol.for("motionComponentSymbol");function Vo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function n3(t,e,n){return N.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Vo(n)&&(n.current=s))},[e])}const Kv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),i3="framerAppearId",fC="data-"+Kv(i3),mC=N.createContext({});function s3(t,e,n,s,a){var D,k;const{visualElement:l}=N.useContext(kf),u=N.useContext(uC),f=N.useContext(Df),m=N.useContext(qv).reducedMotion,g=N.useRef(null);s=s||u.renderer,!g.current&&s&&(g.current=s(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const v=g.current,T=N.useContext(mC);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&r3(g.current,n,a,T);const x=N.useRef(!1);N.useInsertionEffect(()=>{v&&x.current&&v.update(n,f)});const w=n[fC],S=N.useRef(!!w&&!((D=window.MotionHandoffIsComplete)!=null&&D.call(window,w))&&((k=window.MotionHasOptimisedAnimation)==null?void 0:k.call(window,w)));return _A(()=>{v&&(x.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),Fv.render(v.render),S.current&&v.animationState&&v.animationState.animateChanges())}),N.useEffect(()=>{v&&(!S.current&&v.animationState&&v.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var V;(V=window.MotionHandoffMarkAsComplete)==null||V.call(window,w)}),S.current=!1))}),v}function r3(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:f,layoutScroll:m,layoutRoot:g,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:pC(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||f&&Vo(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:m,layoutRoot:g})}function pC(t){if(t)return t.options.allowProjection!==!1?t.projection:pC(t.parent)}function a3({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:a}){t&&Y5(t);function l(f,m){let g;const v={...N.useContext(qv),...f,layoutId:o3(f)},{isStatic:T}=v,x=e3(f),w=s(f,T);if(!T&&xv){l3();const S=c3(v);g=S.MeasureLayout,x.visualElement=s3(a,w,v,e,S.ProjectionNode)}return h.jsxs(kf.Provider,{value:x,children:[g&&x.visualElement?h.jsx(g,{visualElement:x.visualElement,...v}):null,n(a,f,n3(w,x.visualElement,m),w,T,x.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const u=N.forwardRef(l);return u[t3]=a,u}function o3({layoutId:t}){const e=N.useContext(_v).id;return e&&t!==void 0?e+"-"+t:t}function l3(t,e){N.useContext(uC).strict}function c3(t){const{drag:e,layout:n}=el;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const lu={};function u3(t){for(const e in t)lu[e]=t[e],Nv(e)&&(lu[e].isCSSVariable=!0)}function gC(t,{layout:e,layoutId:n}){return fl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!lu[t]||t==="opacity")}const h3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},d3=dl.length;function f3(t,e,n){let s="",a=!0;for(let l=0;l<d3;l++){const u=dl[l],f=t[u];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(u.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const g=sC(f,zv[u]);if(!m){a=!1;const v=h3[u]||u;s+=`${v}(${g}) `}n&&(e[u]=g)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function Yv(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,f=!1;for(const m in e){const g=e[m];if(fl.has(m)){u=!0;continue}else if(Nv(m)){a[m]=g;continue}else{const v=sC(g,zv[m]);m.startsWith("origin")?(f=!0,l[m]=v):s[m]=v}}if(e.transform||(u||n?s.transform=f3(e,t.transform,n):s.transform&&(s.transform="none")),f){const{originX:m="50%",originY:g="50%",originZ:v=0}=l;s.transformOrigin=`${m} ${g} ${v}`}}const Qv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function yC(t,e,n){for(const s in e)!cn(e[s])&&!gC(s,n)&&(t[s]=e[s])}function m3({transformTemplate:t},e){return N.useMemo(()=>{const n=Qv();return Yv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function p3(t,e){const n=t.style||{},s={};return yC(s,n,t),Object.assign(s,m3(t,e)),s}function g3(t,e){const n={},s=p3(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const y3={offset:"stroke-dashoffset",array:"stroke-dasharray"},v3={offset:"strokeDashoffset",array:"strokeDasharray"};function _3(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?y3:v3;t[l.offset]=Ae.transform(-s);const u=Ae.transform(e),f=Ae.transform(n);t[l.array]=`${u} ${f}`}function vC(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...f},m,g,v){if(Yv(t,f,g),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:T,style:x}=t;T.transform&&(x.transform=T.transform,delete T.transform),(x.transform||T.transformOrigin)&&(x.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),x.transform&&(x.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete T.transformBox),e!==void 0&&(T.x=e),n!==void 0&&(T.y=n),s!==void 0&&(T.scale=s),a!==void 0&&_3(T,a,l,u,!1)}const _C=()=>({...Qv(),attrs:{}}),TC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function T3(t,e,n,s){const a=N.useMemo(()=>{const l=_C();return vC(l,e,TC(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};yC(l,t.style,t),a.style={...l,...a.style}}return a}const x3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Xv(t){return typeof t!="string"||t.includes("-")?!1:!!(x3.indexOf(t)>-1||/[A-Z]/u.test(t))}function E3(t=!1){return(n,s,a,{latestValues:l},u)=>{const m=(Xv(n)?T3:g3)(s,l,u,n),g=W5(s,typeof n=="string",t),v=n!==N.Fragment?{...g,...m,ref:a}:{},{children:T}=s,x=N.useMemo(()=>cn(T)?T.get():T,[T]);return N.createElement(n,{...v,children:x})}}function kE(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Wv(t,e,n,s){if(typeof e=="function"){const[a,l]=kE(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=kE(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Rd(t){return cn(t)?t.get():t}function b3({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:w3(n,s,a,t),renderState:e()}}const xC=t=>(e,n)=>{const s=N.useContext(kf),a=N.useContext(Df),l=()=>b3(t,e,s,a);return n?l():Tv(l)};function w3(t,e,n,s){const a={},l=s(t,{});for(const x in l)a[x]=Rd(l[x]);let{initial:u,animate:f}=t;const m=Pf(t),g=dC(t);e&&g&&!m&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let v=n?n.initial===!1:!1;v=v||u===!1;const T=v?f:u;if(T&&typeof T!="boolean"&&!Mf(T)){const x=Array.isArray(T)?T:[T];for(let w=0;w<x.length;w++){const S=Wv(t,x[w]);if(S){const{transitionEnd:D,transition:k,...V}=S;for(const Q in V){let F=V[Q];if(Array.isArray(F)){const ne=v?F.length-1:0;F=F[ne]}F!==null&&(a[Q]=F)}for(const Q in D)a[Q]=D[Q]}}}return a}function Zv(t,e,n){var l;const{style:s}=t,a={};for(const u in s)(cn(s[u])||e.style&&cn(e.style[u])||gC(u,t)||((l=n==null?void 0:n.getValue(u))==null?void 0:l.liveStyle)!==void 0)&&(a[u]=s[u]);return a}const S3={useVisualState:xC({scrapeMotionValuesFromProps:Zv,createRenderState:Qv})};function EC(t,e,n){const s=Zv(t,e,n);for(const a in t)if(cn(t[a])||cn(e[a])){const l=dl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const A3={useVisualState:xC({scrapeMotionValuesFromProps:EC,createRenderState:_C})};function C3(t,e){return function(s,{forwardMotionProps:a}={forwardMotionProps:!1}){const u={...Xv(s)?A3:S3,preloadedFeatures:t,useRender:E3(a),createVisualElement:e,Component:s};return a3(u)}}function cu(t,e,n){const s=t.getProps();return Wv(s,e,n!==void 0?n:s.custom,t)}const ry=t=>Array.isArray(t);function R3(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Jo(n))}function N3(t){return ry(t)?t[t.length-1]||0:t}function I3(t,e){const n=cu(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const f=N3(l[u]);R3(t,u,f)}}function j3(t){return!!(cn(t)&&t.add)}function ay(t,e){const n=t.getValue("willChange");if(j3(n))return n.add(e);if(!n&&Ds.WillChange){const s=new Ds.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function bC(t){return t.props[fC]}const D3=t=>t!==null;function k3(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(D3),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const M3={type:"spring",stiffness:500,damping:25,restSpeed:10},P3=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),O3={type:"keyframes",duration:.8},V3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},L3=(t,{keyframes:e})=>e.length>2?O3:fl.has(t)?t.startsWith("scale")?P3(e[1]):M3:V3;function U3({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:f,from:m,elapsed:g,...v}){return!!Object.keys(v).length}const Jv=(t,e,n,s={},a,l)=>u=>{const f=Bv(s,t)||{},m=f.delay||s.delay||0;let{elapsed:g=0}=s;g=g-Fi(m);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-g,onUpdate:x=>{e.set(x),f.onUpdate&&f.onUpdate(x)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};U3(f)||Object.assign(v,L3(t,v)),v.duration&&(v.duration=Fi(v.duration)),v.repeatDelay&&(v.repeatDelay=Fi(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let T=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(T=!0)),(Ds.instantAnimations||Ds.skipAnimations)&&(T=!0,v.duration=0,v.delay=0),v.allowFlatten=!f.type&&!f.ease,T&&!l&&e.get()!==void 0){const x=k3(v.keyframes,f);if(x!==void 0){ft.update(()=>{v.onUpdate(x),v.onComplete()});return}}return f.isSync?new Vv(v):new _5(v)};function B3({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function wC(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...f}=e;s&&(l=s);const m=[],g=a&&t.animationState&&t.animationState.getState()[a];for(const v in f){const T=t.getValue(v,t.latestValues[v]??null),x=f[v];if(x===void 0||g&&B3(g,v))continue;const w={delay:n,...Bv(l||{},v)},S=T.get();if(S!==void 0&&!T.isAnimating&&!Array.isArray(x)&&x===S&&!w.velocity)continue;let D=!1;if(window.MotionHandoffAnimation){const V=bC(t);if(V){const Q=window.MotionHandoffAnimation(V,v,ft);Q!==null&&(w.startTime=Q,D=!0)}}ay(t,v),T.start(Jv(v,T,x,t.shouldReduceMotion&&JA.has(v)?{type:!1}:w,t,D));const k=T.animation;k&&m.push(k)}return u&&Promise.all(m).then(()=>{ft.update(()=>{u&&I3(t,u)})}),m}function oy(t,e,n={}){var m;const s=cu(t,e,n.type==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(wC(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(g=0)=>{const{delayChildren:v=0,staggerChildren:T,staggerDirection:x}=a;return z3(t,e,v+g,T,x,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[g,v]=f==="beforeChildren"?[l,u]:[u,l];return g().then(()=>v())}else return Promise.all([l(),u(n.delay)])}function z3(t,e,n=0,s=0,a=1,l){const u=[],f=(t.variantChildren.size-1)*s,m=a===1?(g=0)=>g*s:(g=0)=>f-g*s;return Array.from(t.variantChildren).sort(F3).forEach((g,v)=>{g.notify("AnimationStart",e),u.push(oy(g,e,{...l,delay:n+m(v)}).then(()=>g.notify("AnimationComplete",e)))}),Promise.all(u)}function F3(t,e){return t.sortNodePosition(e)}function H3(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>oy(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=oy(t,e,n);else{const a=typeof e=="function"?cu(t,e,n.custom):e;s=Promise.all(wC(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function SC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const q3=$v.length;function AC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?AC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<q3;n++){const s=$v[n],a=t.props[s];(ou(a)||a===!1)&&(e[s]=a)}return e}const G3=[...Gv].reverse(),$3=Gv.length;function K3(t){return e=>Promise.all(e.map(({animation:n,options:s})=>H3(t,n,s)))}function Y3(t){let e=K3(t),n=ME(),s=!0;const a=m=>(g,v)=>{var x;const T=cu(t,v,m==="exit"?(x=t.presenceContext)==null?void 0:x.custom:void 0);if(T){const{transition:w,transitionEnd:S,...D}=T;g={...g,...D,...S}}return g};function l(m){e=m(t)}function u(m){const{props:g}=t,v=AC(t.parent)||{},T=[],x=new Set;let w={},S=1/0;for(let k=0;k<$3;k++){const V=G3[k],Q=n[V],F=g[V]!==void 0?g[V]:v[V],ne=ou(F),z=V===m?Q.isActive:null;z===!1&&(S=k);let H=F===v[V]&&F!==g[V]&&ne;if(H&&s&&t.manuallyAnimateOnMount&&(H=!1),Q.protectedKeys={...w},!Q.isActive&&z===null||!F&&!Q.prevProp||Mf(F)||typeof F=="boolean")continue;const I=Q3(Q.prevProp,F);let C=I||V===m&&Q.isActive&&!H&&ne||k>S&&ne,j=!1;const O=Array.isArray(F)?F:[F];let U=O.reduce(a(V),{});z===!1&&(U={});const{prevResolvedValues:q={}}=Q,M={...q,...U},st=le=>{C=!0,x.has(le)&&(j=!0,x.delete(le)),Q.needsAnimating[le]=!0;const fe=t.getValue(le);fe&&(fe.liveStyle=!1)};for(const le in M){const fe=U[le],Oe=q[le];if(w.hasOwnProperty(le))continue;let L=!1;ry(fe)&&ry(Oe)?L=!SC(fe,Oe):L=fe!==Oe,L?fe!=null?st(le):x.add(le):fe!==void 0&&x.has(le)?st(le):Q.protectedKeys[le]=!0}Q.prevProp=F,Q.prevResolvedValues=U,Q.isActive&&(w={...w,...U}),s&&t.blockInitialAnimation&&(C=!1),C&&(!(H&&I)||j)&&T.push(...O.map(le=>({animation:le,options:{type:V}})))}if(x.size){const k={};if(typeof g.initial!="boolean"){const V=cu(t,Array.isArray(g.initial)?g.initial[0]:g.initial);V&&V.transition&&(k.transition=V.transition)}x.forEach(V=>{const Q=t.getBaseTarget(V),F=t.getValue(V);F&&(F.liveStyle=!0),k[V]=Q??null}),T.push({animation:k})}let D=!!T.length;return s&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(D=!1),s=!1,D?e(T):Promise.resolve()}function f(m,g){var T;if(n[m].isActive===g)return Promise.resolve();(T=t.variantChildren)==null||T.forEach(x=>{var w;return(w=x.animationState)==null?void 0:w.setActive(m,g)}),n[m].isActive=g;const v=u(m);for(const x in n)n[x].protectedKeys={};return v}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=ME(),s=!0}}}function Q3(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!SC(e,t):!1}function pa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ME(){return{animate:pa(!0),whileInView:pa(),whileHover:pa(),whileTap:pa(),whileDrag:pa(),whileFocus:pa(),exit:pa()}}class Dr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class X3 extends Dr{constructor(e){super(e),e.animationState||(e.animationState=Y3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Mf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let W3=0;class Z3 extends Dr{constructor(){super(...arguments),this.id=W3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const J3={animation:{Feature:X3},exit:{Feature:Z3}};function uu(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Ru(t){return{point:{x:t.pageX,y:t.pageY}}}const eL=t=>e=>Hv(e)&&t(e,Ru(e));function Hc(t,e,n,s){return uu(t,e,eL(n),s)}function CC({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function tL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function nL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}const RC=1e-4,iL=1-RC,sL=1+RC,NC=.01,rL=0-NC,aL=0+NC;function yn(t){return t.max-t.min}function oL(t,e,n){return Math.abs(t-e)<=n}function PE(t,e,n,s=.5){t.origin=s,t.originPoint=dt(e.min,e.max,t.origin),t.scale=yn(n)/yn(e),t.translate=dt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=iL&&t.scale<=sL||isNaN(t.scale))&&(t.scale=1),(t.translate>=rL&&t.translate<=aL||isNaN(t.translate))&&(t.translate=0)}function qc(t,e,n,s){PE(t.x,e.x,n.x,s?s.originX:void 0),PE(t.y,e.y,n.y,s?s.originY:void 0)}function OE(t,e,n){t.min=n.min+e.min,t.max=t.min+yn(e)}function lL(t,e,n){OE(t.x,e.x,n.x),OE(t.y,e.y,n.y)}function VE(t,e,n){t.min=e.min-n.min,t.max=t.min+yn(e)}function Gc(t,e,n){VE(t.x,e.x,n.x),VE(t.y,e.y,n.y)}const LE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Lo=()=>({x:LE(),y:LE()}),UE=()=>({min:0,max:0}),Et=()=>({x:UE(),y:UE()});function ei(t){return[t("x"),t("y")]}function lg(t){return t===void 0||t===1}function ly({scale:t,scaleX:e,scaleY:n}){return!lg(t)||!lg(e)||!lg(n)}function ya(t){return ly(t)||IC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function IC(t){return BE(t.x)||BE(t.y)}function BE(t){return t&&t!=="0%"}function sf(t,e,n){const s=t-n,a=e*s;return n+a}function zE(t,e,n,s,a){return a!==void 0&&(t=sf(t,a,s)),sf(t,n,s)+e}function cy(t,e=0,n=1,s,a){t.min=zE(t.min,e,n,s,a),t.max=zE(t.max,e,n,s,a)}function jC(t,{x:e,y:n}){cy(t.x,e.translate,e.scale,e.originPoint),cy(t.y,n.translate,n.scale,n.originPoint)}const FE=.999999999999,HE=1.0000000000001;function cL(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let f=0;f<a;f++){l=n[f],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Bo(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,jC(t,u)),s&&ya(l.latestValues)&&Bo(t,l.latestValues))}e.x<HE&&e.x>FE&&(e.x=1),e.y<HE&&e.y>FE&&(e.y=1)}function Uo(t,e){t.min=t.min+e,t.max=t.max+e}function qE(t,e,n,s,a=.5){const l=dt(t.min,t.max,a);cy(t,e,n,l,s)}function Bo(t,e){qE(t.x,e.x,e.scaleX,e.scale,e.originX),qE(t.y,e.y,e.scaleY,e.scale,e.originY)}function DC(t,e){return CC(nL(t.getBoundingClientRect(),e))}function uL(t,e,n){const s=DC(t,n),{scroll:a}=e;return a&&(Uo(s.x,a.offset.x),Uo(s.y,a.offset.y)),s}const kC=({current:t})=>t?t.ownerDocument.defaultView:null,GE=(t,e)=>Math.abs(t-e);function hL(t,e){const n=GE(t.x,e.x),s=GE(t.y,e.y);return Math.sqrt(n**2+s**2)}class MC{constructor(e,n,{transformPagePoint:s,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=ug(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,w=hL(T.offset,{x:0,y:0})>=3;if(!x&&!w)return;const{point:S}=T,{timestamp:D}=Xt;this.history.push({...S,timestamp:D});const{onStart:k,onMove:V}=this.handlers;x||(k&&k(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),V&&V(this.lastMoveEvent,T)},this.handlePointerMove=(T,x)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=cg(x,this.transformPagePoint),ft.update(this.updatePoint,!0)},this.handlePointerUp=(T,x)=>{this.end();const{onEnd:w,onSessionEnd:S,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=ug(T.type==="pointercancel"?this.lastMoveEventInfo:cg(x,this.transformPagePoint),this.history);this.startEvent&&w&&w(T,k),S&&S(T,k)},!Hv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.contextWindow=a||window;const u=Ru(e),f=cg(u,this.transformPagePoint),{point:m}=f,{timestamp:g}=Xt;this.history=[{...m,timestamp:g}];const{onSessionStart:v}=n;v&&v(e,ug(f,this.history)),this.removeListeners=wu(Hc(this.contextWindow,"pointermove",this.handlePointerMove),Hc(this.contextWindow,"pointerup",this.handlePointerUp),Hc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Sr(this.updatePoint)}}function cg(t,e){return e?{point:e(t.point)}:t}function $E(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ug({point:t},e){return{point:t,delta:$E(t,PC(e)),offset:$E(t,dL(e)),velocity:fL(e,.1)}}function dL(t){return t[0]}function PC(t){return t[t.length-1]}function fL(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=PC(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>Fi(e)));)n--;if(!s)return{x:0,y:0};const l=Hi(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function mL(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?dt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?dt(n,t,s.max):Math.min(t,n)),t}function KE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function pL(t,{top:e,left:n,bottom:s,right:a}){return{x:KE(t.x,n,a),y:KE(t.y,e,s)}}function YE(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function gL(t,e){return{x:YE(t.x,e.x),y:YE(t.y,e.y)}}function yL(t,e){let n=.5;const s=yn(t),a=yn(e);return a>s?n=su(e.min,e.max-s,t.min):s>a&&(n=su(t.min,t.max-a,e.min)),js(0,1,n)}function vL(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const uy=.35;function _L(t=uy){return t===!1?t=0:t===!0&&(t=uy),{x:QE(t,"left","right"),y:QE(t,"top","bottom")}}function QE(t,e,n){return{min:XE(t,e),max:XE(t,n)}}function XE(t,e){return typeof t=="number"?t:t[e]||0}const TL=new WeakMap;class xL{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Et(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=v=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ru(v).point)},l=(v,T)=>{const{drag:x,dragPropagation:w,onDragStart:S}=this.getProps();if(x&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=P5(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ei(k=>{let V=this.getAxisMotionValue(k).get()||0;if(qi.test(V)){const{projection:Q}=this.visualElement;if(Q&&Q.layout){const F=Q.layout.layoutBox[k];F&&(V=yn(F)*(parseFloat(V)/100))}}this.originPoint[k]=V}),S&&ft.postRender(()=>S(v,T)),ay(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},u=(v,T)=>{const{dragPropagation:x,dragDirectionLock:w,onDirectionLock:S,onDrag:D}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:k}=T;if(w&&this.currentDirection===null){this.currentDirection=EL(k),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",T.point,k),this.updateAxis("y",T.point,k),this.visualElement.render(),D&&D(v,T)},f=(v,T)=>this.stop(v,T),m=()=>ei(v=>{var T;return this.getAnimationState(v)==="paused"&&((T=this.getAxisMotionValue(v).animation)==null?void 0:T.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new MC(e,{onSessionStart:a,onStart:l,onMove:u,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,contextWindow:kC(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&ft.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!ud(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=mL(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&Vo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=pL(s.layoutBox,e):this.constraints=!1,this.elastic=_L(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ei(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=vL(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Vo(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=uL(s,a.root,this.visualElement.getTransformPagePoint());let u=gL(a.layout.layoutBox,l);if(n){const f=n(tL(u));this.hasMutatedConstraints=!!f,f&&(u=CC(f))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},g=ei(v=>{if(!ud(v,n,this.currentDirection))return;let T=m&&m[v]||{};u&&(T={min:0,max:0});const x=a?200:1e6,w=a?40:1e7,S={type:"inertia",velocity:s?e[v]:0,bounceStiffness:x,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...l,...T};return this.startAxisValueAnimation(v,S)});return Promise.all(g).then(f)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return ay(this.visualElement,e),s.start(Jv(e,s,0,n,this.visualElement,!1))}stopAnimation(){ei(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ei(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){ei(n=>{const{drag:s}=this.getProps();if(!ud(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:f}=a.layout.layoutBox[n];l.set(e[n]-dt(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Vo(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ei(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const m=f.get();a[u]=yL({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ei(u=>{if(!ud(u,e,null))return;const f=this.getAxisMotionValue(u),{min:m,max:g}=this.constraints[u];f.set(dt(m,g,a[u]))})}addListeners(){if(!this.visualElement.current)return;TL.set(this.visualElement,this);const e=this.visualElement.current,n=Hc(e,"pointerdown",m=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();Vo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ft.read(s);const u=uu(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(ei(v=>{const T=this.getAxisMotionValue(v);T&&(this.originPoint[v]+=m[v].translate,T.set(T.get()+m[v].translate))}),this.visualElement.render())});return()=>{u(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=uy,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function ud(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function EL(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class bL extends Dr{constructor(e){super(e),this.removeGroupControls=si,this.removeListeners=si,this.controls=new xL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||si}unmount(){this.removeGroupControls(),this.removeListeners()}}const WE=t=>(e,n)=>{t&&ft.postRender(()=>t(e,n))};class wL extends Dr{constructor(){super(...arguments),this.removePointerDownListener=si}onPointerDown(e){this.session=new MC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:kC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:WE(e),onStart:WE(n),onMove:s,onEnd:(l,u)=>{delete this.session,a&&ft.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Hc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Nd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ZE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ac={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ae.test(t))t=parseFloat(t);else return t;const n=ZE(t,e.target.x),s=ZE(t,e.target.y);return`${n}% ${s}%`}},SL={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Ar.parse(t);if(a.length>5)return s;const l=Ar.createTransformer(t),u=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,m=n.y.scale*e.y;a[0+u]/=f,a[1+u]/=m;const g=dt(f,m,.5);return typeof a[2+u]=="number"&&(a[2+u]/=g),typeof a[3+u]=="number"&&(a[3+u]/=g),l(a)}};class AL extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;u3(CL),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Nd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||ft.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Fv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function OC(t){const[e,n]=cC(),s=N.useContext(_v);return h.jsx(AL,{...t,layoutGroup:s,switchLayoutGroup:N.useContext(mC),isPresent:e,safeToRemove:n})}const CL={borderRadius:{...Ac,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ac,borderTopRightRadius:Ac,borderBottomLeftRadius:Ac,borderBottomRightRadius:Ac,boxShadow:SL};function RL(t,e,n){const s=cn(t)?t:Jo(t);return s.start(Jv("",s,e,n)),s.animation}const NL=(t,e)=>t.depth-e.depth;class IL{constructor(){this.children=[],this.isDirty=!1}add(e){Ev(this.children,e),this.isDirty=!0}remove(e){bv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(NL),this.isDirty=!1,this.children.forEach(e)}}function jL(t,e){const n=An.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Sr(s),t(l-e))};return ft.setup(s,!0),()=>Sr(s)}const VC=["TopLeft","TopRight","BottomLeft","BottomRight"],DL=VC.length,JE=t=>typeof t=="string"?parseFloat(t):t,eb=t=>typeof t=="number"||Ae.test(t);function kL(t,e,n,s,a,l){a?(t.opacity=dt(0,n.opacity??1,ML(s)),t.opacityExit=dt(e.opacity??1,0,PL(s))):l&&(t.opacity=dt(e.opacity??1,n.opacity??1,s));for(let u=0;u<DL;u++){const f=`border${VC[u]}Radius`;let m=tb(e,f),g=tb(n,f);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||eb(m)===eb(g)?(t[f]=Math.max(dt(JE(m),JE(g),s),0),(qi.test(g)||qi.test(m))&&(t[f]+="%")):t[f]=g}(e.rotate||n.rotate)&&(t.rotate=dt(e.rotate||0,n.rotate||0,s))}function tb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const ML=LC(0,.5,IA),PL=LC(.5,.95,si);function LC(t,e,n){return s=>s<t?0:s>e?1:n(su(t,e,s))}function nb(t,e){t.min=e.min,t.max=e.max}function Jn(t,e){nb(t.x,e.x),nb(t.y,e.y)}function ib(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function sb(t,e,n,s,a){return t-=e,t=sf(t,1/n,s),a!==void 0&&(t=sf(t,1/a,s)),t}function OL(t,e=0,n=1,s=.5,a,l=t,u=t){if(qi.test(e)&&(e=parseFloat(e),e=dt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=dt(l.min,l.max,s);t===l&&(f-=e),t.min=sb(t.min,e,n,f,a),t.max=sb(t.max,e,n,f,a)}function rb(t,e,[n,s,a],l,u){OL(t,e[n],e[s],e[a],e.scale,l,u)}const VL=["x","scaleX","originX"],LL=["y","scaleY","originY"];function ab(t,e,n,s){rb(t.x,e,VL,n?n.x:void 0,s?s.x:void 0),rb(t.y,e,LL,n?n.y:void 0,s?s.y:void 0)}function ob(t){return t.translate===0&&t.scale===1}function UC(t){return ob(t.x)&&ob(t.y)}function lb(t,e){return t.min===e.min&&t.max===e.max}function UL(t,e){return lb(t.x,e.x)&&lb(t.y,e.y)}function cb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function BC(t,e){return cb(t.x,e.x)&&cb(t.y,e.y)}function ub(t){return yn(t.x)/yn(t.y)}function hb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class BL{constructor(){this.members=[]}add(e){Ev(this.members,e),e.scheduleRender()}remove(e){if(bv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function zL(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:g,rotate:v,rotateX:T,rotateY:x,skewX:w,skewY:S}=n;g&&(s=`perspective(${g}px) ${s}`),v&&(s+=`rotate(${v}deg) `),T&&(s+=`rotateX(${T}deg) `),x&&(s+=`rotateY(${x}deg) `),w&&(s+=`skewX(${w}deg) `),S&&(s+=`skewY(${S}deg) `)}const f=t.x.scale*e.x,m=t.y.scale*e.y;return(f!==1||m!==1)&&(s+=`scale(${f}, ${m})`),s||"none"}const hg=["","X","Y","Z"],FL={visibility:"hidden"},HL=1e3;let qL=0;function dg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function zC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=bC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ft,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&zC(s)}function FC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},f=e==null?void 0:e()){this.id=qL++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(KL),this.nodes.forEach(ZL),this.nodes.forEach(JL),this.nodes.forEach(YL)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new IL)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Av),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const m=this.eventHandlers.get(u);m&&m.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=lC(u)&&!z5(u),this.instance=u;const{layoutId:f,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),t){let v;const T=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=jL(T,250),Nd.hasAnimatedSinceResize&&(Nd.hasAnimatedSinceResize=!1,this.nodes.forEach(fb))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:T,hasRelativeLayoutChanged:x,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||g.getDefaultTransition()||s9,{onLayoutAnimationStart:D,onLayoutAnimationComplete:k}=g.getProps(),V=!this.targetLayout||!BC(this.targetLayout,w),Q=!T&&x;if(this.options.layoutRoot||this.resumeFrom||Q||T&&(V||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...Bv(S,"layout"),onPlay:D,onComplete:k};(g.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(v,Q)}else T||fb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Sr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(e9),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const T=this.path[v];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(db);return}this.isUpdating||this.nodes.forEach(XL),this.isUpdating=!1,this.nodes.forEach(WL),this.nodes.forEach(GL),this.nodes.forEach($L),this.clearAllSnapshots();const f=An.now();Xt.delta=js(0,1e3/60,f-Xt.timestamp),Xt.timestamp=f,Xt.isProcessing=!0,ig.update.process(Xt),ig.preRender.process(Xt),ig.render.process(Xt),Xt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Fv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(QL),this.sharedNodes.forEach(t9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!yn(this.snapshot.measuredBox.x)&&!yn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!UC(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;u&&this.instance&&(f||ya(this.latestValues)||v)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return u&&(m=this.removeTransform(m)),r9(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var g;const{visualElement:u}=this.options;if(!u)return Et();const f=u.measureViewportBox();if(!(((g=this.scroll)==null?void 0:g.wasRoot)||this.path.some(a9))){const{scroll:v}=this.root;v&&(Uo(f.x,v.offset.x),Uo(f.y,v.offset.y))}return f}removeElementScroll(u){var m;const f=Et();if(Jn(f,u),(m=this.scroll)!=null&&m.wasRoot)return f;for(let g=0;g<this.path.length;g++){const v=this.path[g],{scroll:T,options:x}=v;v!==this.root&&T&&x.layoutScroll&&(T.wasRoot&&Jn(f,u),Uo(f.x,T.offset.x),Uo(f.y,T.offset.y))}return f}applyTransform(u,f=!1){const m=Et();Jn(m,u);for(let g=0;g<this.path.length;g++){const v=this.path[g];!f&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Bo(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),ya(v.latestValues)&&Bo(m,v.latestValues)}return ya(this.latestValues)&&Bo(m,this.latestValues),m}removeTransform(u){const f=Et();Jn(f,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!ya(g.latestValues))continue;ly(g.latestValues)&&g.updateSnapshot();const v=Et(),T=g.measurePageBox();Jn(v,T),ab(f,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return ya(this.latestValues)&&ab(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var x;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:T}=this.options;if(!(!this.layout||!(v||T))){if(this.resolvedRelativeTargetAt=Xt.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),Gc(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Jn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Et(),this.targetWithTransforms=Et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),lL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Jn(this.target,this.layout.layoutBox),jC(this.target,this.targetDelta)):Jn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),Gc(this.relativeTargetOrigin,this.target,w.target),Jn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ly(this.parent.latestValues)||IC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var S;const u=this.getLead(),f=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Xt.timestamp&&(m=!1),m)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Jn(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,x=this.treeScale.y;cL(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Et());const{target:w}=u;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ib(this.prevProjectionDelta.x,this.projectionDelta.x),ib(this.prevProjectionDelta.y,this.projectionDelta.y)),qc(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==x||!hb(this.projectionDelta.x,this.prevProjectionDelta.x)||!hb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),u){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Lo(),this.projectionDelta=Lo(),this.projectionDeltaWithTransform=Lo()}setAnimationOrigin(u,f=!1){const m=this.snapshot,g=m?m.latestValues:{},v={...this.latestValues},T=Lo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const x=Et(),w=m?m.source:void 0,S=this.layout?this.layout.source:void 0,D=w!==S,k=this.getStack(),V=!k||k.members.length<=1,Q=!!(D&&!V&&this.options.crossfade===!0&&!this.path.some(i9));this.animationProgress=0;let F;this.mixTargetDelta=ne=>{const z=ne/1e3;mb(T.x,u.x,z),mb(T.y,u.y,z),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Gc(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),n9(this.relativeTarget,this.relativeTargetOrigin,x,z),F&&UL(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Et()),Jn(F,this.relativeTarget)),D&&(this.animationValues=v,kL(v,g,this.latestValues,z,Q,V)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var f,m,g;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(g=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||g.stop(),this.pendingAnimation&&(Sr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ft.update(()=>{Nd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Jo(0)),this.currentAnimation=RL(this.motionValue,[0,1e3],{...u,isSync:!0,onUpdate:v=>{this.mixTargetDelta(v),u.onUpdate&&u.onUpdate(v)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(HL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:m,layout:g,latestValues:v}=u;if(!(!f||!m||!g)){if(this!==u&&this.layout&&g&&HC(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||Et();const T=yn(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+T;const x=yn(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+x}Jn(f,m),Bo(f,v),qc(this.projectionDeltaWithTransform,this.layoutCorrected,f,v)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new BL),this.sharedNodes.get(u).add(f);const g=f.options.initialPromotionConfig;f.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var f;const{layoutId:u}=this.options;return u?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:u}=this.options;return u?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const g={};m.z&&dg("z",u,g,this.animationValues);for(let v=0;v<hg.length;v++)dg(`rotate${hg[v]}`,u,g,this.animationValues),dg(`skew${hg[v]}`,u,g,this.animationValues);u.render();for(const v in g)u.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);u.scheduleRender()}getProjectionStyles(u){if(!this.instance||this.isSVG)return;if(!this.isVisible)return FL;const f={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=Rd(u==null?void 0:u.pointerEvents)||"",f.transform=m?m(this.latestValues,""):"none",f;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Rd(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!ya(this.latestValues)&&(w.transform=m?m({},""):"none",this.hasProjected=!1),w}const v=g.animationValues||g.latestValues;this.applyTransformsToTarget(),f.transform=zL(this.projectionDeltaWithTransform,this.treeScale,v),m&&(f.transform=m(v,f.transform));const{x:T,y:x}=this.projectionDelta;f.transformOrigin=`${T.origin*100}% ${x.origin*100}% 0`,g.animationValues?f.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:f.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const w in lu){if(v[w]===void 0)continue;const{correct:S,applyTo:D,isCSSVariable:k}=lu[w],V=f.transform==="none"?v[w]:S(v[w],g);if(D){const Q=D.length;for(let F=0;F<Q;F++)f[D[F]]=V}else k?this.options.visualElement.renderState.vars[w]=V:f[w]=V}return this.options.layoutId&&(f.pointerEvents=g===this?Rd(u==null?void 0:u.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var f;return(f=u.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(db),this.root.sharedNodes.clear()}}}function GL(t){t.updateLayout()}function $L(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=t.layout,{animationType:l}=t.options,u=e.source!==t.layout.source;l==="size"?ei(T=>{const x=u?e.measuredBox[T]:e.layoutBox[T],w=yn(x);x.min=s[T].min,x.max=x.min+w}):HC(l,e.layoutBox,s)&&ei(T=>{const x=u?e.measuredBox[T]:e.layoutBox[T],w=yn(s[T]);x.max=x.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[T].max=t.relativeTarget[T].min+w)});const f=Lo();qc(f,s,e.layoutBox);const m=Lo();u?qc(m,t.applyTransform(a,!0),e.measuredBox):qc(m,s,e.layoutBox);const g=!UC(f);let v=!1;if(!t.resumeFrom){const T=t.getClosestProjectingParent();if(T&&!T.resumeFrom){const{snapshot:x,layout:w}=T;if(x&&w){const S=Et();Gc(S,e.layoutBox,x.layoutBox);const D=Et();Gc(D,s,w.layoutBox),BC(S,D)||(v=!0),T.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=S,t.relativeParent=T)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:m,layoutDelta:f,hasLayoutChanged:g,hasRelativeLayoutChanged:v})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function KL(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function YL(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function QL(t){t.clearSnapshot()}function db(t){t.clearMeasurements()}function XL(t){t.isLayoutDirty=!1}function WL(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function fb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ZL(t){t.resolveTargetDelta()}function JL(t){t.calcProjection()}function e9(t){t.resetSkewAndRotation()}function t9(t){t.removeLeadSnapshot()}function mb(t,e,n){t.translate=dt(e.translate,0,n),t.scale=dt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function pb(t,e,n,s){t.min=dt(e.min,n.min,s),t.max=dt(e.max,n.max,s)}function n9(t,e,n,s){pb(t.x,e.x,n.x,s),pb(t.y,e.y,n.y,s)}function i9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const s9={duration:.45,ease:[.4,0,.1,1]},gb=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),yb=gb("applewebkit/")&&!gb("chrome/")?Math.round:si;function vb(t){t.min=yb(t.min),t.max=yb(t.max)}function r9(t){vb(t.x),vb(t.y)}function HC(t,e,n){return t==="position"||t==="preserve-aspect"&&!oL(ub(e),ub(n),.2)}function a9(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const o9=FC({attachResizeListener:(t,e)=>uu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),fg={current:void 0},qC=FC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!fg.current){const t=new o9({});t.mount(window),t.setOptions({layoutScroll:!0}),fg.current=t}return fg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),l9={pan:{Feature:wL},drag:{Feature:bL,ProjectionNode:qC,MeasureLayout:OC}};function _b(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&ft.postRender(()=>l(e,Ru(e)))}class c9 extends Dr{mount(){const{current:e}=this.node;e&&(this.unmount=O5(e,(n,s)=>(_b(this.node,s,"Start"),a=>_b(this.node,a,"End"))))}unmount(){}}class u9 extends Dr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wu(uu(this.node.current,"focus",()=>this.onFocus()),uu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Tb(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&ft.postRender(()=>l(e,Ru(e)))}class h9 extends Dr{mount(){const{current:e}=this.node;e&&(this.unmount=B5(e,(n,s)=>(Tb(this.node,s,"Start"),(a,{success:l})=>Tb(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const hy=new WeakMap,mg=new WeakMap,d9=t=>{const e=hy.get(t.target);e&&e(t)},f9=t=>{t.forEach(d9)};function m9({root:t,...e}){const n=t||document;mg.has(n)||mg.set(n,{});const s=mg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(f9,{root:t,...e})),s[a]}function p9(t,e,n){const s=m9(e);return hy.set(t,n),s.observe(t),()=>{hy.delete(t),s.unobserve(t)}}const g9={some:0,all:1};class y9 extends Dr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:g9[a]},f=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:T}=this.node.getProps(),x=g?v:T;x&&x(m)};return p9(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(v9(e,n))&&this.startObserver()}unmount(){}}function v9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const _9={inView:{Feature:y9},tap:{Feature:h9},focus:{Feature:u9},hover:{Feature:c9}},T9={layout:{ProjectionNode:qC,MeasureLayout:OC}},dy={current:null},GC={current:!1};function x9(){if(GC.current=!0,!!xv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>dy.current=t.matches;t.addListener(e),e()}else dy.current=!1}const E9=new WeakMap;function b9(t,e,n){for(const s in e){const a=e[s],l=n[s];if(cn(a))t.addValue(s,a);else if(cn(l))t.addValue(s,Jo(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,Jo(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const xb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class w9{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Lv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=An.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,ft.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=g,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Pf(n),this.isVariantNode=dC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...T}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in T){const w=T[x];m[x]!==void 0&&cn(w)&&w.set(m[x],!1)}}mount(e){this.current=e,E9.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),GC.current||x9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:dy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Sr(this.notifyUpdate),Sr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=fl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",f=>{this.latestValues[e]=f,this.props.onUpdate&&ft.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in el){const n=el[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Et()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<xb.length;s++){const a=xb[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=b9(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Jo(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(TA(s)||EA(s))?s=parseFloat(s):!H5(s)&&Ar.test(n)&&(s=iC(e,n)),this.setBaseTarget(e,cn(s)?s.get():s)),cn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const u=Wv(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);u&&(s=u[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!cn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Av),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class $C extends w9{constructor(){super(...arguments),this.KeyframeResolver=j5}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;cn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function KC(t,{style:e,vars:n},s,a){Object.assign(t.style,e,a&&a.getProjectionStyles(s));for(const l in n)t.style.setProperty(l,n[l])}function S9(t){return window.getComputedStyle(t)}class A9 extends $C{constructor(){super(...arguments),this.type="html",this.renderInstance=KC}readValueFromInstance(e,n){var s;if(fl.has(n))return(s=this.projection)!=null&&s.isProjecting?Jg(n):X4(e,n);{const a=S9(e),l=(Nv(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return DC(e,n)}build(e,n,s){Yv(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Zv(e,n,s)}}const YC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function C9(t,e,n,s){KC(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(YC.has(a)?a:Kv(a),e.attrs[a])}class R9 extends $C{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Et}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(fl.has(n)){const s=nC(n);return s&&s.default||0}return n=YC.has(n)?n:Kv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return EC(e,n,s)}build(e,n,s){vC(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){C9(e,n,s,a)}mount(e){this.isSVGTag=TC(e.tagName),super.mount(e)}}const N9=(t,e)=>Xv(t)?new R9(e):new A9(e,{allowProjection:t!==N.Fragment}),I9=C3({...J3,..._9,...l9,...T9},N9),pe=Z5(I9),Eb=[{type:"food",title:"Питание на неделю",price:20,desc:"Персональное меню на 7 дней, список покупок, рекомендации по питанию.",features:["Индивидуальный расчет калорий","Учет пищевых предпочтений","Список продуктов для закупки","Рецепты и инструкции на 7 дней"],icon:"🥗"},{type:"workout",title:"Тренировки на неделю",price:30,desc:"План тренировок на 7 дней, упражнения, видео и советы.",features:["Персональный план тренировок","Видео-инструкции к упражнениям","Отслеживание прогресса на неделю","Адаптация под ваш уровень"],icon:"💪"},{type:"combo",title:"Комбо: питание + тренировки на неделю",price:40,oldPrice:50,desc:"Всё включено: рацион и тренировки на 7 дней для максимального результата.",features:["Синхронизированные планы на неделю","Максимальная эффективность","Приоритетная поддержка","Доступ к премиум-контенту","Выгоднее, чем покупать по отдельности"],highlight:!0,icon:"🔥",savingInfo:"Экономия 10 руб. по сравнению с покупкой по отдельности"}],j9=()=>h.jsx("div",{className:"animated-background",children:[...Array(20)].map((t,e)=>h.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${5+Math.random()*10}s`,width:`${10+Math.random()*30}px`,height:`${10+Math.random()*30}px`,opacity:.1+Math.random()*.2}},e))}),D9=({features:t})=>h.jsx("ul",{className:"tariff-features",children:t.map((e,n)=>h.jsxs(pe.li,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:n*.1},className:"tariff-feature",children:[h.jsx("span",{className:"feature-check",children:"✓"})," ",e]},n))}),k9=()=>h.jsxs("div",{className:"payment-methods",children:[h.jsx("h3",{children:"Способы оплаты"}),h.jsxs("div",{className:"payment-icons",children:[h.jsx("div",{className:"payment-icon visa"}),h.jsx("div",{className:"payment-icon mastercard"}),h.jsx("div",{className:"payment-icon mir"}),h.jsx("div",{className:"payment-icon applepay"}),h.jsx("div",{className:"payment-icon googlepay"})]})]});function M9(){const[t,e]=N.useState("combo"),[n,s]=N.useState(!1),a=Un(),l=Eb.find(f=>f.type===t),u=()=>{s(!0),localStorage.setItem("fitgenius_paid_type",t),setTimeout(()=>a("/dashboard"),2e3)};return h.jsxs("div",{className:"pay-bg",children:[h.jsx(j9,{}),h.jsxs(pe.div,{className:"pay-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[h.jsx(pe.h1,{className:"pay-heading",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},children:"Выберите подходящий тариф"}),h.jsx(pe.p,{className:"pay-subheading",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.5},children:"Инвестируйте в своё здоровье и достигайте целей с FitGenius"}),h.jsx("div",{className:"pay-tariffs",children:Eb.map((f,m)=>h.jsxs(pe.div,{className:`pay-tariff ${t===f.type?"selected":""} ${f.highlight?"highlight":""}`,onClick:()=>e(f.type),initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2+m*.1,duration:.5},whileHover:{y:-5,boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)"},children:[f.highlight&&h.jsx("div",{className:"pay-badge",children:h.jsx("span",{children:"Выгодно! Экономия 20%"})}),h.jsx("div",{className:"tariff-icon",children:f.icon}),h.jsx("h3",{className:"pay-title",children:f.title}),h.jsx("p",{className:"pay-desc",children:f.desc}),h.jsxs("div",{className:"pay-price",children:[f.oldPrice&&h.jsxs("span",{className:"old-price",children:[f.oldPrice," руб."]}),h.jsxs("span",{className:"current-price",children:[f.price," руб."]}),f.savingInfo&&h.jsx("div",{className:"saving-info",children:f.savingInfo})]}),h.jsx(D9,{features:f.features}),h.jsx(pe.button,{className:`tariff-select-btn ${t===f.type?"selected":""} ${f.highlight?"highlight-btn":""}`,whileHover:{scale:1.05,boxShadow:f.highlight?"0 10px 25px rgba(79, 209, 101, 0.4)":"0 5px 15px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},onClick:g=>{g.stopPropagation(),e(f.type)},initial:f.highlight?{y:[0,-5,0],transition:{repeat:3,duration:.6}}:{},animate:f.highlight?{boxShadow:["0 5px 15px rgba(79, 209, 101, 0.2)","0 8px 25px rgba(79, 209, 101, 0.4)","0 5px 15px rgba(79, 209, 101, 0.2)"],transition:{repeat:1/0,duration:2,repeatType:"reverse"}}:{},children:t===f.type?"Выбрано":f.highlight?"Выбрать выгодно!":"Выбрать"})]},f.type))}),h.jsxs(pe.div,{className:"pay-summary",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6,duration:.5},children:[h.jsxs("div",{className:"summary-details",children:[h.jsx("h3",{children:"Ваш выбор:"}),h.jsxs("div",{className:"selected-tariff",children:[h.jsx("span",{className:"selected-icon",children:l.icon}),h.jsx("span",{className:"selected-title",children:l.title}),h.jsxs("span",{className:"selected-price",children:[l.price," руб."]})]})]}),h.jsxs(pe.button,{className:"pay-button highlight-main-btn",onClick:u,whileHover:{scale:1.05,boxShadow:"0 10px 30px rgba(79, 209, 101, 0.5)"},whileTap:{scale:.95},initial:{y:0},animate:{y:[0,-5,0],boxShadow:["0 5px 15px rgba(79, 209, 101, 0.3)","0 10px 30px rgba(79, 209, 101, 0.5)","0 5px 15px rgba(79, 209, 101, 0.3)"],transition:{repeat:1/0,duration:2,repeatType:"reverse"}},children:[h.jsx("span",{className:"btn-icon",children:"✨"})," Оплатить выгодный тариф ",h.jsx("span",{className:"btn-icon",children:"✨"})]})]}),h.jsx(k9,{}),h.jsxs(pe.div,{className:"pay-guarantee",initial:{opacity:0},animate:{opacity:1},transition:{delay:.7,duration:.5},children:[h.jsxs("div",{className:"guarantee-item",children:[h.jsx("span",{className:"guarantee-icon",children:"🔒"}),h.jsx("span",{children:"Безопасная оплата"})]}),h.jsxs("div",{className:"guarantee-item",children:[h.jsx("span",{className:"guarantee-icon",children:"💸"}),h.jsx("span",{children:"Гарантия возврата в течение 7 дней"})]}),h.jsxs("div",{className:"guarantee-item",children:[h.jsx("span",{className:"guarantee-icon",children:"🛠"}),h.jsx("span",{children:"Техническая поддержка 24/7"})]})]}),h.jsxs("div",{className:"pay-support",children:["Остались вопросы? ",h.jsx("a",{href:"mailto:support@fitgenius.ru",children:"support@fitgenius.ru"})]})]}),n&&h.jsx("div",{className:"confetti-container",children:[...Array(100)].map((f,m)=>h.jsx("div",{className:"confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*.5}s`,backgroundColor:`hsl(${Math.random()*360}, 80%, 60%)`}},m))})]})}const P9=[{day:"Понедельник",meals:[{type:"Завтрак",text:"Овсянка с ягодами и орехами"},{type:"Обед",text:"Куриная грудка, гречка, овощи"},{type:"Ужин",text:"Творог с фруктами"},{type:"Перекус",text:"Яблоко, миндаль"}]},{day:"Вторник",meals:[{type:"Завтрак",text:"Яичница, цельнозерновой хлеб"},{type:"Обед",text:"Рыба, картофель, салат"},{type:"Ужин",text:"Овощное рагу"},{type:"Перекус",text:"Греческий йогурт"}]},{day:"Среда",meals:[{type:"Завтрак",text:"Творожная запеканка с ягодами"},{type:"Обед",text:"Индейка, киноа, овощи"},{type:"Ужин",text:"Омлет с овощами"},{type:"Перекус",text:"Банан, орехи"}]},{day:"Четверг",meals:[{type:"Завтрак",text:"Смузи с протеином и фруктами"},{type:"Обед",text:"Говядина, бурый рис, овощи"},{type:"Ужин",text:"Рыбный салат"},{type:"Перекус",text:"Протеиновый батончик"}]},{day:"Пятница",meals:[{type:"Завтрак",text:"Гречневая каша с яйцом"},{type:"Обед",text:"Куриный суп, хлеб"},{type:"Ужин",text:"Тушеные овощи с тофу"},{type:"Перекус",text:"Творог с медом"}]},{day:"Суббота",meals:[{type:"Завтрак",text:"Овсяноблин с творогом и ягодами"},{type:"Обед",text:"Паста с морепродуктами"},{type:"Ужин",text:"Куриный салат"},{type:"Перекус",text:"Фруктовый салат"}]},{day:"Воскресенье",meals:[{type:"Завтрак",text:"Блины с творогом"},{type:"Обед",text:"Запеченная курица с овощами"},{type:"Ужин",text:"Творог с фруктами"},{type:"Перекус",text:"Орехи, сухофрукты"}]}],O9=["Овсянка","Ягоды","Орехи","Куриная грудка","Гречка","Овощи","Творог","Фрукты","Яблоко","Миндаль","Яйца","Хлеб","Рыба","Картофель","Салат","Йогурт","Индейка","Киноа","Банан","Протеин","Говядина","Бурый рис","Протеиновый батончик","Мед","Тофу","Паста","Морепродукты","Блины","Сухофрукты"],V9=[{day:"Понедельник",workout:"Силовая: приседания 3x15, отжимания 3x12, планка 3x60 сек"},{day:"Вторник",workout:"Кардио: бег 30 мин, скакалка 10 мин, велотренажер 15 мин"},{day:"Среда",workout:"Отдых или йога для восстановления 30 мин"},{day:"Четверг",workout:"Силовая: выпады 3x12, подтягивания 3x8, пресс 3x20"},{day:"Пятница",workout:"Кардио: велотренажёр 20 мин, прыжки 10 мин, эллипс 15 мин"},{day:"Суббота",workout:"Функционалка: бурпи 3x10, выпрыгивания 3x15, планка боковая 3x30 сек"},{day:"Воскресенье",workout:"Отдых и восстановление"}],L9=()=>h.jsx("div",{className:"dashboard-bg",children:[...Array(20)].map((t,e)=>h.jsx(pe.div,{className:"dashboard-particle",style:{top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,width:`${Math.random()*100+50}px`,height:`${Math.random()*100+50}px`,opacity:Math.random()*.5+.1},animate:{x:[0,Math.random()*100-50,0],y:[0,Math.random()*100-50,0]},transition:{duration:Math.random()*20+15,repeat:1/0,ease:"easeInOut"}},e))});function bb(t,e="plan.pdf"){const n=window.open("","","width=800,height=600");n.document.write('<pre style="font-family:inherit;font-size:16px;white-space:pre-wrap;">'+t+"</pre>"),n.document.close(),n.print()}function U9(t){if(!t||!t.toDate)return"Неизвестно";const e=t.toDate();return new Intl.DateTimeFormat("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(e)}function B9(t){switch(t){case"login":return"🔐";case"purchase":return"💰";case"survey":return"📝";case"profile_update":return"👤";case"plan_view":return"📊";default:return"📌"}}function z9(){const[t,e]=N.useState("food"),[n,s]=N.useState(null),[a,l]=N.useState(""),[u,f]=N.useState(""),[m,g]=N.useState({email:"",name:""}),[v,T]=N.useState(!1),[x,w]=N.useState(""),[S,D]=N.useState(!1),[k,V]=N.useState([]),[Q,F]=N.useState(!1),[ne,z]=N.useState(""),[H,I]=N.useState(!1),[C,j]=N.useState(""),[O,U]=N.useState({}),q=Un();N.useEffect(()=>{s(localStorage.getItem("fitgenius_paid_type")),l(localStorage.getItem("fitgenius_meal_plan")||""),f(localStorage.getItem("fitgenius_workout_plan")||"");let Z="",he=localStorage.getItem("fitgenius_user");if(console.log("Полученные данные пользователя из localStorage:",he),he)try{if(he.startsWith("{")){const $e=JSON.parse(he);$e.email&&(Z=$e.email)}else he.includes("@")&&(Z=he)}catch($e){console.error("Ошибка при парсинге данных пользователя:",$e),Z=he}console.log("Очищенный email пользователя:",Z);const ye=Z;async function xe(){let $e=localStorage.getItem("fitgenius_name")||"Пользователь";if(ye){D(!0);try{const hn=gn(it,"users",ye),_n=await yv(hn);_n.exists()&&_n.data().name&&($e=_n.data().name,localStorage.setItem("fitgenius_name",$e))}catch(hn){console.error("Ошибка при загрузке имени:",hn)}D(!1)}g({email:ye,name:$e}),w($e)}async function wt(){if(ye){F(!0);try{const $e=ti(wn(it,"user_activity"),xa("email","==",ye),Xd("timestamp","desc")),hn=await ni($e);V(hn.docs.map(_n=>({id:_n.id,..._n.data()})))}catch($e){console.error("Ошибка при загрузке активности:",$e)}F(!1)}}async function Ze(){if(ye){I(!0),j("");try{console.log("Загрузка аватара для:",ye);const $e=await qV(ye);console.log("Полученный URL аватара:",$e),$e&&z($e)}catch($e){console.error("Ошибка загрузки аватара:",$e),j("Ошибка загрузки аватара")}I(!1)}}const Cn=localStorage.getItem("fitgenius_shopping_list");if(Cn)try{U(JSON.parse(Cn))}catch($e){console.error("Ошибка при загрузке списка покупок:",$e),U({})}xe(),wt(),Ze(),ye&&Go({email:ye,type:"login",desc:"Вход в личный кабинет"})},[]);const M=async()=>{if(x.trim()){if(D(!0),localStorage.setItem("fitgenius_name",x),g(Z=>({...Z,name:x})),T(!1),m.email)try{await Ea(gn(it,"users",m.email),{name:x},{merge:!0}),await Go({email:m.email,type:"profile_update",desc:"Обновление имени пользователя"})}catch(Z){console.error("Ошибка при сохранении имени:",Z)}D(!1)}},st=async Z=>{const he=Z.target.files[0];if(he){if(!he.type.startsWith("image/")){j("Можно загружать только изображения");return}if(he.size>2*1024*1024){j("Размер файла не должен превышать 2 МБ");return}I(!0),j("");try{console.log("Загрузка аватара для пользователя:",m.email);const ye=await GV(m.email,he);console.log("Полученный URL аватара:",ye),z(ye),await Go({email:m.email,type:"profile_update",desc:"Обновление аватара пользователя"})}catch(ye){console.error("Ошибка загрузки аватара:",ye),j("Ошибка загрузки аватара. Пожалуйста, попробуйте еще раз.")}I(!1)}},Ge=Z=>{const he={...O,[Z]:!O[Z]};U(he),localStorage.setItem("fitgenius_shopping_list",JSON.stringify(he))},ee=()=>{t==="food"&&a?bb(a,"meal-plan.pdf"):t==="workout"&&u&&bb(u,"workout-plan.pdf")},le=n==="food"||n==="combo",fe=n==="workout"||n==="combo",L=(()=>{if(!m.email)return!1;for(const Z of ja)if(m.email.toLowerCase()===Z.toLowerCase())return!0;return!1})();console.log("Проверка админа:",m.email,ja,L);const oe=()=>{q("/admin")},ue=()=>{localStorage.removeItem("fitgenius_user"),localStorage.removeItem("fitgenius_name"),localStorage.removeItem("fitgenius_paid_type"),window.location.href="/"};return h.jsxs("div",{className:"dashboard-container",children:[h.jsx(L9,{}),h.jsxs(pe.div,{className:"dashboard-content",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[h.jsxs("div",{className:"user-profile",children:[h.jsx("div",{className:"profile-decoration"}),h.jsx("div",{className:"profile-decoration"}),h.jsxs("div",{className:"avatar-container",children:[h.jsx("div",{className:"avatar-wrapper",children:H?h.jsx("div",{className:"avatar-spinner",children:"⏳"}):h.jsx(h.Fragment,{children:h.jsxs("div",{className:"avatar-image-container",children:[ne?h.jsx("img",{src:ne,alt:"Аватар",className:"avatar-image"}):h.jsx("div",{className:"avatar-placeholder",children:"👤"}),h.jsx("div",{className:"avatar-overlay",children:h.jsxs("label",{htmlFor:"avatar-upload",className:"avatar-edit-overlay",children:[h.jsx("span",{className:"avatar-edit-text",children:"Изменить фото"}),h.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",style:{display:"none"},onChange:st,disabled:H})]})})]})})}),C&&h.jsx("div",{style:{color:"#ff6b6b",marginTop:"0.5rem",fontSize:"0.9rem",textAlign:"center"},children:C})]}),h.jsxs("div",{className:"user-info",children:[v?h.jsxs("div",{className:"name-edit-form",children:[h.jsx("input",{type:"text",className:"name-input",value:x,onChange:Z=>w(Z.target.value),maxLength:32,disabled:S,placeholder:"Ваше имя"}),h.jsx("button",{className:"name-save-btn",onClick:M,disabled:S||!x.trim(),children:"Сохранить"}),h.jsx("button",{className:"name-cancel-btn",onClick:()=>{T(!1),w(m.name)},disabled:S,children:"Отмена"})]}):h.jsxs("div",{className:"user-name",children:[m.name,h.jsx("button",{className:"edit-name-btn",onClick:()=>T(!0),title:"Редактировать имя",children:"✏️"}),S&&h.jsx("span",{style:{fontSize:"0.9rem",opacity:.7},children:"Сохранение..."})]}),h.jsx("div",{className:"user-email",children:m.email?m.email:"—"}),h.jsxs("div",{className:"user-actions",children:[L&&h.jsxs("button",{className:"btn btn-admin",onClick:oe,style:{background:"#ff9800",color:"white",fontWeight:"bold",padding:"8px 16px",borderRadius:"8px",border:"none",boxShadow:"0 4px 8px rgba(255, 152, 0, 0.3)",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.3s ease"},onMouseEnter:Z=>{Z.currentTarget.style.transform="translateY(-3px)",Z.currentTarget.style.boxShadow="0 6px 12px rgba(255, 152, 0, 0.4)"},onMouseLeave:Z=>{Z.currentTarget.style.transform="translateY(0)",Z.currentTarget.style.boxShadow="0 4px 8px rgba(255, 152, 0, 0.3)"},children:[h.jsx("span",{style:{fontSize:"1.2rem"},children:"👑"})," Админ-панель"]}),h.jsxs("button",{className:"btn btn-logout",onClick:ue,children:[h.jsx("span",{children:"🚪"})," Выйти"]})]})]})]}),h.jsxs("div",{className:"tabs-container",children:[h.jsx("div",{className:`tab ${t==="food"?"active":""}`,onClick:()=>e("food"),children:"🍽️ План питания"}),h.jsx("div",{className:`tab ${t==="workout"?"active":""}`,onClick:()=>e("workout"),children:"💪 План тренировок"}),h.jsx("div",{className:`tab ${t==="shopping"?"active":""}`,onClick:()=>e("shopping"),children:"🛒 Список покупок"}),h.jsx("div",{className:`tab ${t==="activity"?"active":""}`,onClick:()=>e("activity"),children:"📊 Активность"})]}),h.jsx(Cu,{mode:"wait",children:h.jsxs(pe.div,{className:"tab-content",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:[t==="food"&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[h.jsx("h2",{children:"План питания"}),le&&a&&h.jsxs("button",{className:"btn btn-primary",onClick:ee,children:[h.jsx("span",{children:"📥"})," Экспорт в PDF"]})]}),le?h.jsx("div",{className:"meal-plan",children:P9.map((Z,he)=>h.jsxs(pe.div,{className:"day-card fade-in",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:he*.1},children:[h.jsx("div",{className:"day-header",children:Z.day}),h.jsx("div",{className:"day-content",children:Z.meals.map((ye,xe)=>h.jsxs("div",{className:"meal-item",children:[h.jsx("div",{className:"meal-type",children:ye.type}),h.jsx("div",{className:"meal-text",children:ye.text})]},xe))})]},Z.day))}):h.jsxs("div",{style:{textAlign:"center",padding:"3rem 1rem"},children:[h.jsx("h3",{style:{marginBottom:"1.5rem",color:"#666"},children:"Для доступа к плану питания необходимо приобрести подписку"}),h.jsx("button",{className:"btn btn-primary",onClick:()=>q("/pricing"),style:{margin:"0 auto"},children:"Перейти к тарифам"})]})]}),t==="workout"&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[h.jsx("h2",{children:"План тренировок"}),fe&&u&&h.jsxs("button",{className:"btn btn-primary",onClick:ee,children:[h.jsx("span",{children:"📥"})," Экспорт в PDF"]})]}),fe?h.jsx("div",{className:"workout-plan",children:V9.map((Z,he)=>h.jsxs(pe.div,{className:"workout-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:he*.1},children:[h.jsx("div",{className:"workout-header",children:Z.day}),h.jsx("div",{className:"workout-content",children:h.jsx("div",{className:"workout-text",children:Z.workout})})]},Z.day))}):h.jsxs("div",{style:{textAlign:"center",padding:"3rem 1rem"},children:[h.jsx("h3",{style:{marginBottom:"1.5rem",color:"#666"},children:"Для доступа к плану тренировок необходимо приобрести подписку"}),h.jsx("button",{className:"btn btn-primary",onClick:()=>q("/pricing"),style:{margin:"0 auto"},children:"Перейти к тарифам"})]})]}),t==="shopping"&&h.jsxs(h.Fragment,{children:[h.jsx("h2",{children:"Список покупок"}),le?h.jsx("div",{className:"shopping-list",children:h.jsx("div",{className:"shopping-items",children:O9.map((Z,he)=>h.jsxs(pe.div,{className:"shopping-item",initial:{opacity:0},animate:{opacity:1},transition:{duration:.2,delay:he*.03},children:[h.jsx("div",{className:`shopping-item-checkbox ${O[Z]?"checked":""}`,onClick:()=>Ge(Z),children:O[Z]&&"✓"}),h.jsx("div",{className:`shopping-item-text ${O[Z]?"checked":""}`,onClick:()=>Ge(Z),children:Z})]},Z))})}):h.jsxs("div",{style:{textAlign:"center",padding:"3rem 1rem"},children:[h.jsx("h3",{style:{marginBottom:"1.5rem",color:"#666"},children:"Для доступа к списку покупок необходимо приобрести подписку на план питания"}),h.jsx("button",{className:"btn btn-primary",onClick:()=>q("/pricing"),style:{margin:"0 auto"},children:"Перейти к тарифам"})]})]}),t==="activity"&&h.jsxs(h.Fragment,{children:[h.jsx("h2",{children:"История активности"}),h.jsx("div",{className:"activity-list",children:Q?h.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:"Загрузка активности..."}):k.length>0?k.map((Z,he)=>h.jsxs(pe.div,{className:"activity-item",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:he*.05},children:[h.jsx("div",{className:"activity-icon",children:B9(Z.type)}),h.jsxs("div",{className:"activity-details",children:[h.jsxs("div",{className:"activity-type",children:[Z.type==="login"&&"Вход в систему",Z.type==="purchase"&&"Покупка",Z.type==="survey"&&"Опрос",Z.type==="profile_update"&&"Обновление профиля",Z.type==="plan_view"&&"Просмотр плана",!["login","purchase","survey","profile_update","plan_view"].includes(Z.type)&&"Действие"]}),h.jsx("div",{className:"activity-desc",children:Z.desc||"Без описания"}),h.jsx("div",{className:"activity-time",children:U9(Z.timestamp)})]})]},Z.id)):h.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"#666"},children:"История активности пуста"})})]})]},t)})]})]})}function F9(){return h.jsx("div",{className:"about-bg"})}const H9=()=>h.jsx("div",{className:"animated-background",children:[...Array(20)].map((t,e)=>h.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${5+Math.random()*10}s`,width:`${10+Math.random()*30}px`,height:`${10+Math.random()*30}px`,opacity:.1+Math.random()*.2}},e))}),q9=({review:t,index:e})=>{const n=t.rating||5,s=Math.floor(n),a=n%1>=.5;return h.jsxs(pe.div,{className:"review-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.1,duration:.5},whileHover:{y:-5,boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)"},children:[h.jsxs("div",{className:"review-header",children:[h.jsx("div",{className:"review-avatar",children:t.name.charAt(0).toUpperCase()}),h.jsxs("div",{className:"review-info",children:[h.jsx("span",{className:"review-name",children:t.name}),h.jsx("div",{className:"review-rating",children:[...Array(5)].map((l,u)=>h.jsx("span",{className:"star",style:{fontSize:"1.2rem",color:"#ffb400"},children:u<s?"★":u===s&&a?"⯪":"☆"},u))})]}),h.jsx("span",{className:"review-date",children:t.date})]}),h.jsx("div",{className:"review-text",children:t.text}),h.jsx("div",{className:"review-footer",children:h.jsxs("div",{className:"review-likes",children:[h.jsx("span",{className:"like-icon",children:"👍"}),h.jsx("span",{className:"like-count",children:Math.floor(Math.random()*20)})]})})]})};function G9(){const[t,e]=N.useState([]),[n,s]=N.useState({name:"",text:"",rating:5}),[a,l]=N.useState(!1),[u,f]=N.useState(""),[m,g]=N.useState(1),[v,T]=N.useState(!1),x=6,w=[{name:"Анна М.",text:"Программа питания отлично подошла мне! За месяц -4 кг и гораздо больше энергии. Рекомендую!",date:"15.05.2025",rating:5},{name:"Иван К.",text:"Очень удобное приложение, все понятно и просто. Тренировки составлены грамотно, чувствую прогресс уже через 2 недели.",date:"10.05.2025",rating:4.5},{name:"Мария С.",text:"Выбрала комбо-тариф, это действительно выгодно! Питание и тренировки отлично дополняют друг друга. Сервис на высоте.",date:"05.05.2025",rating:5},{name:"Дмитрий В.",text:"Пользуюсь уже 3 месяца, результаты превзошли ожидания. Особенно нравится, что программа адаптируется под мой прогресс.",date:"28.04.2025",rating:4.5},{name:"Елена Т.",text:"Отличное соотношение цены и качества. Персональный план питания работает, минус 6 кг за 2 месяца!",date:"20.04.2025",rating:5},{name:"Алексей П.",text:"Очень доволен программой тренировок. Упражнения подобраны с учетом моего уровня, нагрузка увеличивается постепенно. Рекомендую!",date:"15.04.2025",rating:4},{name:"Ольга Н.",text:"FitGenius помог мне изменить отношение к питанию. Теперь я знаю, как правильно составлять рацион. Спасибо!",date:"10.04.2025",rating:5},{name:"Сергей М.",text:"Занимаюсь по программе уже 2 месяца. Результаты есть, но хотелось бы больше вариативности в упражнениях.",date:"05.04.2025",rating:4}];N.useEffect(()=>{let H=JSON.parse(localStorage.getItem("fitgenius_reviews_published")||"[]");H.length===0&&(H=w,localStorage.setItem("fitgenius_reviews_published",JSON.stringify(w))),e(H)},[]);const S=H=>{s({...n,[H.target.name]:H.target.value})},D=H=>{s({...n,rating:H})},k=H=>{if(H.preventDefault(),!n.name||!n.text){f("Пожалуйста, заполните все поля");return}f("");const I=JSON.parse(localStorage.getItem("fitgenius_reviews_pending")||"[]");I.push({...n,date:new Date().toLocaleString()}),localStorage.setItem("fitgenius_reviews_pending",JSON.stringify(I)),l(!0),T(!0),setTimeout(()=>{l(!1),T(!1)},4e3),s({name:"",text:"",rating:5})},V=Math.ceil(t.length/x),Q=t.slice((m-1)*x,m*x),F=H=>g(H),ne=t.reduce((H,I)=>H+(I.rating||5),0)/t.length,z=t.filter(H=>Math.round(H.rating||5)===5).length/t.length*100;return h.jsxs("div",{className:"reviews-bg",children:[h.jsx(H9,{}),h.jsxs(pe.div,{className:"reviews-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[h.jsx(pe.h1,{className:"reviews-heading",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},children:"Отзывы наших клиентов"}),h.jsx(pe.p,{className:"reviews-subheading",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.5},children:"Узнайте, что говорят пользователи о наших программах питания и тренировок"}),h.jsxs("div",{className:"reviews-stats",children:[h.jsxs(pe.div,{className:"stat-card",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4,duration:.5},children:[h.jsx("div",{className:"stat-value",children:ne.toFixed(1)}),h.jsx("div",{className:"stat-rating",children:[...Array(5)].map((H,I)=>h.jsx("span",{className:"star",style:{fontSize:"1.5rem",color:"#ffb400"},children:I<Math.floor(ne)?"★":I===Math.floor(ne)&&ne%1>=.5?"⯪":"☆"},I))}),h.jsx("div",{className:"stat-label",children:"Средняя оценка"})]}),h.jsxs(pe.div,{className:"stat-card",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.5,duration:.5},children:[h.jsx("div",{className:"stat-value",children:t.length}),h.jsx("div",{className:"stat-label",children:"Всего отзывов"})]}),h.jsxs(pe.div,{className:"stat-card",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.6,duration:.5},children:[h.jsxs("div",{className:"stat-value",children:[z.toFixed(0),"%"]}),h.jsx("div",{className:"stat-label",children:"5-звездочных отзывов"})]})]}),h.jsx(pe.div,{className:"reviews-list",initial:{opacity:0},animate:{opacity:1},transition:{delay:.7,duration:.5},children:t.length===0?h.jsx("div",{className:"reviews-empty",children:"Пока нет опубликованных отзывов."}):Q.map((H,I)=>h.jsx(q9,{review:H,index:I},I))}),V>1&&h.jsx(pe.div,{className:"reviews-pagination",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.5},children:Array.from({length:V},(H,I)=>h.jsx(pe.button,{className:`reviews-page-btn${m===I+1?" active":""}`,onClick:()=>F(I+1),disabled:m===I+1,whileHover:{scale:1.1},whileTap:{scale:.95},children:I+1},I))}),h.jsxs(pe.div,{className:"review-form-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9,duration:.5},children:[h.jsx("h2",{className:"form-heading",children:"Поделитесь своим опытом"}),h.jsx("p",{className:"form-subheading",children:"Ваш отзыв поможет нам стать лучше и поможет другим пользователям сделать выбор"}),h.jsxs("form",{className:"review-form",onSubmit:k,children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"name",className:"form-label",children:"Ваше имя"}),h.jsx("input",{type:"text",id:"name",name:"name",placeholder:"Введите ваше имя",value:n.name,onChange:S,className:"review-input",required:!0})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"rating",className:"form-label",children:"Ваша оценка"}),h.jsx("div",{className:"rating-selector",children:[1,2,3,4,5].map(H=>h.jsx("span",{className:`rating-star ${H<=n.rating?"active":""}`,onClick:()=>D(H),children:"★"},H))})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"text",className:"form-label",children:"Ваш отзыв"}),h.jsx("textarea",{id:"text",name:"text",placeholder:"Расскажите о вашем опыте использования FitGenius...",value:n.text,onChange:S,className:"review-textarea",required:!0})]}),h.jsxs(Cu,{children:[u&&h.jsxs(pe.div,{className:"review-error",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[h.jsx("span",{className:"error-icon",children:"⚠️"})," ",u]}),a&&h.jsxs(pe.div,{className:"review-success",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[h.jsx("span",{className:"success-icon",children:"✓"})," Спасибо! Ваш отзыв отправлен на модерацию."]})]}),h.jsx(pe.button,{type:"submit",className:"review-btn",whileHover:{scale:1.05,boxShadow:"0 8px 20px rgba(79, 209, 101, 0.3)"},whileTap:{scale:.95},children:"Отправить отзыв"})]})]})]}),v&&h.jsx("div",{className:"confetti-container",children:[...Array(100)].map((H,I)=>h.jsx("div",{className:"confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*.5}s`,width:`${5+Math.random()*10}px`,height:`${5+Math.random()*10}px`,transform:`rotate(${Math.random()*360}deg)`,backgroundColor:I%3===0?"#4fd165":I%3===1?"#36b14e":"#8aeea0"}},I))})]})}function $9(){return h.jsx("div",{className:"blog-bg",children:"Блог"})}const K9=()=>h.jsx("div",{className:"animated-background",children:[...Array(20)].map((t,e)=>h.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${5+Math.random()*10}s`,width:`${10+Math.random()*30}px`,height:`${10+Math.random()*30}px`,opacity:.1+Math.random()*.2}},e))}),Y9=({question:t,answer:e,index:n})=>{const[s,a]=N.useState(!1),l=()=>{a(!s)};return h.jsxs(pe.div,{className:"faq-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.1,duration:.5},whileHover:{scale:1.01},children:[h.jsxs("div",{className:"faq-question",onClick:l,children:[h.jsx("div",{className:"faq-question-text",children:t}),h.jsx("div",{className:`faq-icon ${s?"open":""}`,children:"+"})]}),h.jsx("div",{className:`faq-answer ${s?"open":""}`,children:typeof e=="string"?h.jsx("p",{children:e}):e})]})};function Q9(){const[t,e]=N.useState({name:"",email:"",message:""}),[n,s]=N.useState(!1),[a,l]=N.useState(""),u=[{question:"Что такое FitGenius?",answer:"FitGenius — это онлайн-сервис, который за считанные минуты подберёт для вас индивидуальную программу питания и тренировок, полностью под ваши цели, параметры и образ жизни."},{question:"В чём польза сайта?",answer:h.jsx(h.Fragment,{children:h.jsxs("ul",{children:[h.jsxs("li",{children:[h.jsx("b",{children:"Экономия времени:"})," не нужно часами искать диеты и тренировки — всё подбирается автоматически."]}),h.jsxs("li",{children:[h.jsx("b",{children:"Персонализация:"})," учитываются ваши цели, предпочтения, аллергии, бюджет, опыт и даже доступный инвентарь."]}),h.jsxs("li",{children:[h.jsx("b",{children:"Научный подход:"})," алгоритмы основаны на современных принципах нутрициологии и спортивной физиологии."]}),h.jsxs("li",{children:[h.jsx("b",{children:"Гибкость:"})," можно скорректировать программу после получения, попробовать разные варианты."]}),h.jsxs("li",{children:[h.jsx("b",{children:"Всё в одном месте:"})," меню, список покупок, тренировки, заметки, экспорт в PDF, подписка на обновления."]})]})})},{question:"Для кого этот сервис?",answer:h.jsx(h.Fragment,{children:h.jsxs("ul",{children:[h.jsx("li",{children:"Для тех, кто хочет похудеть, набрать массу или просто быть в тонусе."}),h.jsx("li",{children:"Для занятых людей, которым важно быстро получать готовые решения."}),h.jsx("li",{children:"Для новичков и опытных — вопросы и планы адаптируются под ваш уровень."}),h.jsx("li",{children:"Для всех, кто ценит здоровье и хочет получать результат с удовольствием!"})]})})},{question:"Как это работает?",answer:h.jsx(h.Fragment,{children:h.jsxs("ol",{children:[h.jsx("li",{children:"Вы отвечаете на короткий опрос."}),h.jsx("li",{children:"Выбираете нужную услугу (питание, тренировки или комбо)."}),h.jsx("li",{children:"Оплачиваете — и сразу получаете доступ к личному кабинету с индивидуальным планом."}),h.jsx("li",{children:"Пользуетесь, корректируете, экспортируете, делитесь с друзьями!"})]})})},{question:"Почему стоит доверять FitGenius?",answer:h.jsx(h.Fragment,{children:h.jsxs("ul",{children:[h.jsx("li",{children:"Гарантия возврата денег, если программа не подойдёт."}),h.jsx("li",{children:"Возможность бесплатной корректировки параметров."}),h.jsx("li",{children:"Постоянная поддержка и обновления."}),h.jsx("li",{children:"Партнёрские скидки и бонусы для постоянных клиентов."})]})})},{question:"Какие программы питания предлагает FitGenius?",answer:"FitGenius предлагает разнообразные программы питания, адаптированные под ваши цели: для похудения, набора мышечной массы, поддержания веса, вегетарианские, безглютеновые и многие другие. Все программы учитывают ваши предпочтения, аллергии и доступный бюджет."},{question:"Как часто обновляются тренировочные программы?",answer:"Тренировочные программы обновляются каждые 4-6 недель, чтобы обеспечить постоянный прогресс и избежать эффекта плато. Вы также можете запросить обновление программы в любое время, если чувствуете, что готовы к новым вызовам."}],f=g=>{e({...t,[g.target.name]:g.target.value})},m=g=>{if(g.preventDefault(),!t.name||!t.email||!t.message){l("Пожалуйста, заполните все поля");return}if(!/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(t.email)){l("Введите корректный email");return}l("");const v=JSON.parse(localStorage.getItem("fitgenius_feedback")||"[]");v.push({...t,date:new Date().toLocaleString()}),localStorage.setItem("fitgenius_feedback",JSON.stringify(v)),s(!0),setTimeout(()=>s(!1),4e3),e({name:"",email:"",message:""})};return h.jsxs("div",{className:"faq-bg",children:[h.jsx(K9,{}),h.jsxs(pe.div,{className:"faq-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[h.jsx(pe.h1,{className:"faq-heading",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},children:"Часто задаваемые вопросы"}),h.jsx(pe.p,{className:"faq-subheading",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.5},children:"Узнайте больше о том, как FitGenius поможет вам достичь ваших целей в фитнесе и правильном питании"}),h.jsx("div",{className:"faq-accordion",children:u.map((g,v)=>h.jsx(Y9,{question:g.question,answer:g.answer,index:v},v))}),h.jsxs(pe.div,{className:"feedback-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.5},children:[h.jsx("h2",{className:"feedback-heading",children:"Остались вопросы?"}),h.jsx("p",{className:"feedback-subheading",children:"Напишите нам, и мы с радостью ответим на все ваши вопросы"}),h.jsxs("form",{className:"feedback-form",onSubmit:m,children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"name",className:"form-label",children:"Ваше имя"}),h.jsx("input",{type:"text",id:"name",name:"name",placeholder:"Введите ваше имя",value:t.name,onChange:f,className:"feedback-input",required:!0})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"email",className:"form-label",children:"Email для ответа"}),h.jsx("input",{type:"email",id:"email",name:"email",placeholder:"Введите ваш email",value:t.email,onChange:f,className:"feedback-input",required:!0})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"message",className:"form-label",children:"Ваш вопрос или сообщение"}),h.jsx("textarea",{id:"message",name:"message",placeholder:"Опишите ваш вопрос или сообщение...",value:t.message,onChange:f,className:"feedback-textarea",required:!0})]}),h.jsxs(Cu,{children:[a&&h.jsxs(pe.div,{className:"feedback-error",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[h.jsx("span",{className:"error-icon",children:"⚠️"})," ",a]}),n&&h.jsxs(pe.div,{className:"feedback-success",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[h.jsx("span",{className:"success-icon",children:"✓"})," Спасибо! Ваше сообщение отправлено."]})]}),h.jsx(pe.button,{type:"submit",className:"feedback-btn",whileHover:{scale:1.05,boxShadow:"0 8px 20px rgba(79, 209, 101, 0.3)"},whileTap:{scale:.95},children:"Отправить сообщение"})]})]})]})]})}function X9(){return h.jsx("div",{children:"Контакты"})}function W9(){const[t,e]=N.useState(""),[n,s]=N.useState(""),[a,l]=N.useState(""),[u,f]=N.useState(!1),m=Un(),g=async v=>{v.preventDefault(),f(!0),l("");try{await UD(vA,t,n),localStorage.setItem("fitgenius_user",t),l(""),await Go({email:t,type:"Вход",desc:"Пользователь вошёл в аккаунт"}),m("/dashboard")}catch{l("Неверный email или пароль")}f(!1)};return h.jsx("div",{className:"login-bg",children:h.jsxs("div",{className:"login-center",children:[h.jsx("h2",{style:{textAlign:"center",marginBottom:24},children:"Вход"}),h.jsxs("form",{onSubmit:g,children:[h.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:v=>e(v.target.value),required:!0,className:"login-input"}),h.jsx("input",{type:"password",placeholder:"Пароль",value:n,onChange:v=>s(v.target.value),required:!0,className:"login-input"}),a&&h.jsx("div",{style:{color:"red",marginBottom:12},children:a}),h.jsx("button",{type:"submit",className:"login-btn",disabled:u,children:u?"Вход...":"Войти"})]}),h.jsxs("div",{style:{marginTop:18,textAlign:"center",fontSize:15},children:["Нет аккаунта? ",h.jsx(It,{to:"/register",children:"Зарегистрироваться"})]})]})})}function Z9(){const[t,e]=N.useState(""),[n,s]=N.useState(""),[a,l]=N.useState(""),[u,f]=N.useState(!1),m=Un(),g=async v=>{v.preventDefault(),f(!0),l("");try{await LD(vA,t,n),m("/login")}catch(T){l(T.message.replace("Firebase: ",""))}f(!1)};return h.jsx("div",{className:"login-bg",children:h.jsxs("div",{className:"login-center",children:[h.jsx("h2",{style:{textAlign:"center",marginBottom:24},children:"Регистрация"}),h.jsxs("form",{onSubmit:g,children:[h.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:v=>e(v.target.value),required:!0,className:"login-input"}),h.jsx("input",{type:"password",placeholder:"Пароль",value:n,onChange:v=>s(v.target.value),required:!0,className:"login-input"}),a&&h.jsx("div",{style:{color:"red",marginBottom:12},children:a}),h.jsx("button",{type:"submit",className:"login-btn",disabled:u,children:u?"Регистрация...":"Зарегистрироваться"})]}),h.jsxs("div",{style:{marginTop:18,textAlign:"center",fontSize:15},children:["Уже есть аккаунт? ",h.jsx(It,{to:"/login",children:"Войти"})]})]})})}function J9(){const[t,e]=N.useState([]);N.useEffect(()=>{const a=JSON.parse(localStorage.getItem("fitgenius_reviews_pending")||"[]");e(a)},[]);const n=a=>{const l=t[a],u=JSON.parse(localStorage.getItem("fitgenius_reviews_published")||"[]");u.unshift(l),localStorage.setItem("fitgenius_reviews_published",JSON.stringify(u));const f=t.filter((m,g)=>g!==a);e(f),localStorage.setItem("fitgenius_reviews_pending",JSON.stringify(f))},s=a=>{const l=t.filter((u,f)=>f!==a);e(l),localStorage.setItem("fitgenius_reviews_pending",JSON.stringify(l))};return h.jsxs("div",{className:"admin-reviews-root",children:[h.jsx("h1",{children:"Модерация отзывов"}),t.length===0?h.jsx("div",{className:"admin-reviews-empty",children:"Нет отзывов на модерацию."}):h.jsx("div",{className:"admin-reviews-list",children:t.map((a,l)=>h.jsxs("div",{className:"admin-review-card",children:[h.jsxs("div",{className:"admin-review-header",children:[h.jsx("span",{className:"admin-review-name",children:a.name}),h.jsx("span",{className:"admin-review-date",children:a.date})]}),h.jsx("div",{className:"admin-review-text",children:a.text}),h.jsx("button",{className:"admin-review-btn",onClick:()=>n(l),children:"Опубликовать"}),h.jsx("button",{className:"admin-review-btn reject",onClick:()=>s(l),children:"Отклонить"})]},l))})]})}function e6(){const[t,e]=N.useState([]);N.useEffect(()=>{const s=JSON.parse(localStorage.getItem("fitgenius_feedback")||"[]");e(s.reverse())},[]);const n=s=>{const a=t.filter((l,u)=>u!==s);e(a),localStorage.setItem("fitgenius_feedback",JSON.stringify([...a].reverse()))};return h.jsxs("div",{className:"admin-feedback-root",children:[h.jsx("h1",{children:"Обращения с формы обратной связи"}),t.length===0?h.jsx("div",{className:"admin-feedback-empty",children:"Пока нет ни одного обращения."}):h.jsxs("table",{className:"admin-feedback-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Дата"}),h.jsx("th",{children:"Имя"}),h.jsx("th",{children:"Email"}),h.jsx("th",{children:"Сообщение"}),h.jsx("th",{children:"Действие"})]})}),h.jsx("tbody",{children:t.map((s,a)=>h.jsxs("tr",{children:[h.jsx("td",{children:s.date}),h.jsx("td",{children:s.name}),h.jsx("td",{children:h.jsx("a",{href:`mailto:${s.email}`,children:s.email})}),h.jsx("td",{children:s.message}),h.jsx("td",{children:h.jsx("button",{className:"admin-feedback-remove-btn",onClick:()=>n(a),children:"Удалить"})})]},a))})]})]})}function t6(){const[t,e]=N.useState([]);N.useEffect(()=>{const s=JSON.parse(localStorage.getItem("fitgenius_reviews_published")||"[]");e(s)},[]);const n=s=>{const a=t.filter((l,u)=>u!==s);e(a),localStorage.setItem("fitgenius_reviews_published",JSON.stringify(a))};return h.jsxs("div",{className:"admin-reviews-root",children:[h.jsx("h1",{children:"Опубликованные отзывы"}),t.length===0?h.jsx("div",{className:"admin-reviews-empty",children:"Нет опубликованных отзывов."}):h.jsx("div",{className:"admin-reviews-list",children:t.map((s,a)=>h.jsxs("div",{className:"admin-review-card",children:[h.jsxs("div",{className:"admin-review-header",children:[h.jsx("span",{className:"admin-review-name",children:s.name}),h.jsx("span",{className:"admin-review-date",children:s.date})]}),h.jsx("div",{className:"admin-review-text",children:s.text}),h.jsx("button",{className:"admin-review-btn reject",onClick:()=>n(a),children:"Удалить"})]},a))})]})}function n6(){const[t,e]=N.useState([]),[n,s]=N.useState(!0);return N.useEffect(()=>{async function a(){s(!0);const l=ti(wn(it,"visit_logs"),Xd("timestamp","desc"),Gg(100)),u=await ni(l);e(u.docs.map(f=>({id:f.id,...f.data()}))),s(!1)}a()},[]),h.jsxs("div",{children:[h.jsx("h2",{style:{marginBottom:16},children:"История заходов (последние 100)"}),n?h.jsx("div",{children:"Загрузка..."}):h.jsx("div",{style:{overflowX:"auto"},children:h.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{style:{padding:8,borderBottom:"1px solid #ccc"},children:"Время"}),h.jsx("th",{style:{padding:8,borderBottom:"1px solid #ccc"},children:"Email"}),h.jsx("th",{style:{padding:8,borderBottom:"1px solid #ccc"},children:"IP"}),h.jsx("th",{style:{padding:8,borderBottom:"1px solid #ccc"},children:"User-Agent"}),h.jsx("th",{style:{padding:8,borderBottom:"1px solid #ccc"},children:"Страница"})]})}),h.jsx("tbody",{children:t.map(a=>h.jsxs("tr",{children:[h.jsx("td",{style:{padding:8,borderBottom:"1px solid #eee"},children:a.timestamp?new Date(a.timestamp.seconds*1e3).toLocaleString():""}),h.jsx("td",{style:{padding:8,borderBottom:"1px solid #eee"},children:a.email||"-"}),h.jsx("td",{style:{padding:8,borderBottom:"1px solid #eee"},children:a.ip||"-"}),h.jsx("td",{style:{padding:8,borderBottom:"1px solid #eee",maxWidth:200,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:a.userAgent||"-"}),h.jsx("td",{style:{padding:8,borderBottom:"1px solid #eee"},children:a.page||"-"})]},a.id))})]})})]})}function QC({isOpen:t,onClose:e,title:n,children:s}){return h.jsx(Cu,{children:t&&h.jsx(pe.div,{className:"admin-modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,children:h.jsxs(pe.div,{className:"admin-modal",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},onClick:a=>a.stopPropagation(),children:[h.jsxs("div",{className:"admin-modal-header",children:[h.jsx("h3",{children:n}),h.jsx("button",{className:"admin-modal-close",onClick:e,children:"×"})]}),h.jsx("div",{className:"admin-modal-content",children:s})]})})})}function Mc({type:t,text:e}){const n=()=>{switch(t){case"success":return"status-success";case"warning":return"status-warning";case"danger":return"status-danger";case"info":return"status-info";case"primary":return"status-primary";default:return"status-default"}};return h.jsx("span",{className:`status-badge ${n()}`,children:e})}const hd=({title:t,value:e,change:n,icon:s,isLoading:a})=>h.jsxs(pe.div,{className:"admin-card",whileHover:{y:-5,boxShadow:"0 10px 20px rgba(0, 0, 0, 0.1)"},children:[h.jsx("div",{className:"admin-card-icon",children:s}),h.jsxs("div",{className:"admin-card-content",children:[h.jsx("div",{className:"admin-card-title",children:t}),a?h.jsx("div",{className:"admin-card-value-skeleton"}):h.jsx("div",{className:"admin-card-value",children:e}),n&&h.jsxs("div",{className:`admin-card-change ${n>=0?"positive":"negative"}`,children:[n>=0?"▲":"▼"," ",Math.abs(n),"%"]})]})]});function i6(t){if(!t)return"Неизвестно";let e;if(t instanceof ke)e=t.toDate();else if(t instanceof Date)e=t;else return"Неизвестно";return new Intl.DateTimeFormat("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(e)}function s6(){const[t,e]=N.useState([]),[n,s]=N.useState(!0),[a,l]=N.useState(""),[u,f]=N.useState("all"),[m,g]=N.useState(!1),[v,T]=N.useState(null),[x,w]=N.useState({title:"",type:"article",content:"",status:"draft"});N.useEffect(()=>{S()},[]);const S=async()=>{s(!0);try{const z=ti(wn(it,"content")),H=await ni(z);if(H.empty){const I=[{id:"1",title:"Как начать правильно питаться",type:"article",author:"Администратор",date:ke.fromDate(new Date),status:"published",content:"Содержание статьи о правильном питании..."},{id:"2",title:"Эффективные тренировки дома",type:"article",author:"Администратор",date:ke.fromDate(new Date),status:"published",content:"Содержание статьи о тренировках дома..."},{id:"3",title:"О нас",type:"page",author:"Администратор",date:ke.fromDate(new Date),status:"published",content:"Содержание страницы о нас..."},{id:"4",title:"Новая программа тренировок",type:"article",author:"Администратор",date:ke.fromDate(new Date),status:"draft",content:"Содержание статьи о новой программе тренировок..."}];for(const C of I)await Ea(gn(it,"content",C.id),C);e(I)}else{const I=H.docs.map(C=>({id:C.id,...C.data()}));e(I)}}catch(z){console.error("Ошибка при загрузке контента:",z)}s(!1)},D=t.filter(z=>{const H=z.title.toLowerCase().includes(a.toLowerCase()),I=u==="all"||z.type===u;return H&&I}),k=()=>{T(null),w({title:"",type:"article",content:"",status:"draft"}),g(!0)},V=z=>{T(z.id),w({title:z.title,type:z.type,content:z.content,status:z.status}),g(!0)},Q=async()=>{try{if(v)await $g(gn(it,"content",v),{...x,updatedAt:ke.now()}),e(t.map(z=>z.id===v?{...z,...x,updatedAt:ke.now()}:z));else{const z={...x,id:Date.now().toString(),author:"Администратор",date:ke.now()};await Ea(gn(it,"content",z.id),z),e([...t,z])}g(!1),w({title:"",type:"article",content:"",status:"draft"}),T(null)}catch(z){console.error("Ошибка при сохранении контента:",z),alert("Произошла ошибка при сохранении контента. Пожалуйста, попробуйте еще раз.")}},F=async z=>{if(window.confirm("Вы уверены, что хотите удалить этот контент?"))try{await uV(gn(it,"content",z)),e(t.filter(H=>H.id!==z))}catch(H){console.error("Ошибка при удалении контента:",H),alert("Произошла ошибка при удалении контента. Пожалуйста, попробуйте еще раз.")}},ne=async(z,H)=>{const I=H==="published"?"draft":"published";try{await $g(gn(it,"content",z),{status:I,updatedAt:ke.now()}),e(t.map(C=>C.id===z?{...C,status:I,updatedAt:ke.now()}:C))}catch(C){console.error("Ошибка при изменении статуса контента:",C),alert("Произошла ошибка при изменении статуса контента. Пожалуйста, попробуйте еще раз.")}};return h.jsxs("div",{children:[h.jsxs("h2",{children:[h.jsx("span",{className:"icon",children:"📄"})," Управление контентом"]}),h.jsxs("div",{className:"admin-stats",children:[h.jsx(hd,{title:"Всего контента",value:t.length,icon:"📝",isLoading:n}),h.jsx(hd,{title:"Опубликовано",value:t.filter(z=>z.status==="published").length,icon:"✅",isLoading:n}),h.jsx(hd,{title:"Черновики",value:t.filter(z=>z.status==="draft").length,icon:"📋",isLoading:n}),h.jsx(hd,{title:"Страницы",value:t.filter(z=>z.type==="page").length,icon:"📃",isLoading:n})]}),h.jsxs("div",{className:"admin-filters",children:[h.jsxs("div",{className:"admin-search",children:[h.jsx("span",{className:"icon",children:"🔍"}),h.jsx("input",{type:"text",placeholder:"Поиск контента...",value:a,onChange:z=>l(z.target.value)})]}),h.jsxs("select",{className:"admin-filter",value:u,onChange:z=>f(z.target.value),children:[h.jsx("option",{value:"all",children:"Все типы"}),h.jsx("option",{value:"article",children:"Статьи"}),h.jsx("option",{value:"page",children:"Страницы"})]}),h.jsxs("button",{className:"admin-btn admin-btn-primary",onClick:k,children:[h.jsx("span",{children:"➕"})," Создать"]})]}),n?h.jsx("div",{className:"admin-loading",children:"Загрузка контента"}):h.jsx("div",{className:"admin-table-container",children:h.jsxs("table",{className:"admin-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Название"}),h.jsx("th",{children:"Тип"}),h.jsx("th",{children:"Автор"}),h.jsx("th",{children:"Дата"}),h.jsx("th",{children:"Статус"}),h.jsx("th",{children:"Действия"})]})}),h.jsx("tbody",{children:D.length>0?D.map(z=>h.jsxs("tr",{children:[h.jsx("td",{children:z.title}),h.jsx("td",{children:z.type==="article"?"Статья":"Страница"}),h.jsx("td",{children:z.author}),h.jsx("td",{children:i6(z.date)}),h.jsx("td",{children:h.jsx(Mc,{type:z.status==="published"?"success":"warning",text:z.status==="published"?"Опубликовано":"Черновик"})}),h.jsx("td",{children:h.jsxs("div",{className:"admin-actions",children:[h.jsx("button",{className:"admin-action-btn",title:"Редактировать",onClick:()=>V(z),children:"✏️"}),h.jsx("button",{className:"admin-action-btn",title:"Удалить",onClick:()=>F(z.id),children:"🗑️"}),h.jsx("button",{className:"admin-action-btn",title:z.status==="published"?"В черновики":"Опубликовать",onClick:()=>ne(z.id,z.status),children:z.status==="published"?"📋":"📢"})]})})]},z.id)):h.jsx("tr",{children:h.jsx("td",{colSpan:"6",className:"admin-empty-table",children:"Контент не найден"})})})]})}),h.jsxs(QC,{isOpen:m,onClose:()=>g(!1),title:v?"Редактирование контента":"Создание нового контента",children:[h.jsxs("div",{className:"admin-form-group",children:[h.jsx("label",{children:"Название"}),h.jsx("input",{type:"text",value:x.title,onChange:z=>w({...x,title:z.target.value}),placeholder:"Введите название"})]}),h.jsxs("div",{className:"admin-form-group",children:[h.jsx("label",{children:"Тип"}),h.jsxs("select",{value:x.type,onChange:z=>w({...x,type:z.target.value}),children:[h.jsx("option",{value:"article",children:"Статья"}),h.jsx("option",{value:"page",children:"Страница"})]})]}),h.jsxs("div",{className:"admin-form-group",children:[h.jsx("label",{children:"Содержание"}),h.jsx("textarea",{rows:"5",value:x.content,onChange:z=>w({...x,content:z.target.value}),placeholder:"Введите содержание"})]}),h.jsxs("div",{className:"admin-form-group",children:[h.jsx("label",{children:"Статус"}),h.jsxs("select",{value:x.status,onChange:z=>w({...x,status:z.target.value}),children:[h.jsx("option",{value:"draft",children:"Черновик"}),h.jsx("option",{value:"published",children:"Опубликовано"})]})]}),h.jsxs("div",{className:"admin-form-actions",children:[h.jsx("button",{className:"admin-btn admin-btn-secondary",onClick:()=>g(!1),children:"Отмена"}),h.jsx("button",{className:"admin-btn admin-btn-primary",onClick:Q,disabled:!x.title||!x.content,children:"Сохранить"})]})]})]})}const dd=({title:t,value:e,change:n,icon:s,isLoading:a})=>h.jsxs(pe.div,{className:"admin-card",whileHover:{y:-5,boxShadow:"0 10px 20px rgba(0, 0, 0, 0.1)"},children:[h.jsx("div",{className:"admin-card-icon",children:s}),h.jsxs("div",{className:"admin-card-content",children:[h.jsx("div",{className:"admin-card-title",children:t}),a?h.jsx("div",{className:"admin-card-value-skeleton"}):h.jsx("div",{className:"admin-card-value",children:e}),n&&h.jsxs("div",{className:`admin-card-change ${n>=0?"positive":"negative"}`,children:[n>=0?"▲":"▼"," ",Math.abs(n),"%"]})]})]});function pg(t){if(!t)return"Неизвестно";let e;if(t instanceof ke)e=t.toDate();else if(t instanceof Date)e=t;else return"Неизвестно";return new Intl.DateTimeFormat("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(e)}function r6(){const[t,e]=N.useState([]),[n,s]=N.useState(!0),[a,l]=N.useState(""),[u,f]=N.useState("all"),[m,g]=N.useState(!1),[v,T]=N.useState(null),[x,w]=N.useState([]),[S,D]=N.useState(!1);N.useEffect(()=>{k()},[]);const k=async()=>{s(!0);try{const H=ti(wn(it,"users")),I=await ni(H);if(I.empty)e([]);else{const C=I.docs.map(M=>({id:M.id,email:M.id,...M.data(),isAdmin:ja.some(st=>st.toLowerCase()===M.id.toLowerCase())})),j=ti(wn(it,"user_activity"),xa("type","==","login")),O=await ni(j),U={};O.docs.forEach(M=>{const st=M.data(),Ge=st.email,ee=st.timestamp;(!U[Ge]||ee>U[Ge])&&(U[Ge]=ee)});const q=C.map(M=>({...M,lastLogin:U[M.email]||null,status:M.status||"active"}));e(q)}}catch(H){console.error("Ошибка при загрузке пользователей:",H)}s(!1)},V=async H=>{D(!0);try{const I=ti(wn(it,"user_activity"),xa("email","==",H),xa("timestamp",">=",ke.fromDate(new Date(Date.now()-2592e6)))),C=await ni(I);if(C.empty)w([]);else{const j=C.docs.map(O=>({id:O.id,...O.data()})).sort((O,U)=>U.timestamp-O.timestamp);w(j)}}catch(I){console.error("Ошибка при загрузке активности пользователя:",I)}D(!1)},Q=t.filter(H=>{const I=H.name&&H.name.toLowerCase().includes(a.toLowerCase())||H.email&&H.email.toLowerCase().includes(a.toLowerCase()),C=u==="all"||H.status===u;return I&&C}),F=async(H,I)=>{const C=I==="active"?"blocked":"active";try{await $g(gn(it,"users",H),{status:C,updatedAt:ke.now()}),e(t.map(j=>j.id===H?{...j,status:C,updatedAt:ke.now()}:j))}catch(j){console.error("Ошибка при изменении статуса пользователя:",j),alert("Произошла ошибка при изменении статуса пользователя. Пожалуйста, попробуйте еще раз.")}},ne=H=>{T(H),V(H.email),g(!0)},z=H=>{switch(H){case"login":return"🔑";case"purchase":return"💰";case"profile_update":return"✏️";default:return"📝"}};return h.jsxs("div",{children:[h.jsxs("h2",{children:[h.jsx("span",{className:"icon",children:"👥"})," Управление пользователями"]}),h.jsxs("div",{className:"admin-stats",children:[h.jsx(dd,{title:"Всего пользователей",value:t.length,icon:"👤",isLoading:n}),h.jsx(dd,{title:"Активные",value:t.filter(H=>H.status==="active").length,icon:"✅",isLoading:n}),h.jsx(dd,{title:"Заблокированные",value:t.filter(H=>H.status==="blocked").length,icon:"🚫",isLoading:n}),h.jsx(dd,{title:"Администраторы",value:t.filter(H=>H.isAdmin).length,icon:"👑",isLoading:n})]}),h.jsxs("div",{className:"admin-filters",children:[h.jsxs("div",{className:"admin-search",children:[h.jsx("span",{className:"icon",children:"🔍"}),h.jsx("input",{type:"text",placeholder:"Поиск пользователей...",value:a,onChange:H=>l(H.target.value)})]}),h.jsxs("select",{className:"admin-filter",value:u,onChange:H=>f(H.target.value),children:[h.jsx("option",{value:"all",children:"Все пользователи"}),h.jsx("option",{value:"active",children:"Активные"}),h.jsx("option",{value:"blocked",children:"Заблокированные"})]})]}),n?h.jsx("div",{className:"admin-loading",children:"Загрузка пользователей"}):h.jsx("div",{className:"admin-table-container",children:h.jsxs("table",{className:"admin-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Имя"}),h.jsx("th",{children:"Email"}),h.jsx("th",{children:"Последний вход"}),h.jsx("th",{children:"Статус"}),h.jsx("th",{children:"Права"}),h.jsx("th",{children:"Действия"})]})}),h.jsx("tbody",{children:Q.length>0?Q.map(H=>h.jsxs("tr",{children:[h.jsx("td",{children:H.name||"Не указано"}),h.jsx("td",{children:H.email}),h.jsx("td",{children:H.lastLogin?pg(H.lastLogin):"Неизвестно"}),h.jsx("td",{children:h.jsx(Mc,{type:H.status==="active"?"success":"danger",text:H.status==="active"?"Активен":"Заблокирован"})}),h.jsx("td",{children:h.jsx(Mc,{type:H.isAdmin?"primary":"default",text:H.isAdmin?"Администратор":"Пользователь"})}),h.jsx("td",{children:h.jsxs("div",{className:"admin-actions",children:[h.jsx("button",{className:"admin-action-btn",title:"Просмотреть детали",onClick:()=>ne(H),children:"👁️"}),h.jsx("button",{className:"admin-action-btn",title:H.status==="active"?"Заблокировать":"Разблокировать",onClick:()=>F(H.id,H.status),children:H.status==="active"?"🔒":"🔓"})]})})]},H.id)):h.jsx("tr",{children:h.jsx("td",{colSpan:"6",className:"admin-empty-table",children:"Пользователи не найдены"})})})]})}),h.jsx(QC,{isOpen:m,onClose:()=>g(!1),title:`Детали пользователя: ${(v==null?void 0:v.name)||(v==null?void 0:v.email)||"Пользователь"}`,children:v&&h.jsxs("div",{children:[h.jsxs("div",{className:"admin-user-details",children:[h.jsxs("div",{className:"admin-user-detail",children:[h.jsx("strong",{children:"Email:"})," ",v.email]}),h.jsxs("div",{className:"admin-user-detail",children:[h.jsx("strong",{children:"Имя:"})," ",v.name||"Не указано"]}),h.jsxs("div",{className:"admin-user-detail",children:[h.jsx("strong",{children:"Статус:"}),h.jsx(Mc,{type:v.status==="active"?"success":"danger",text:v.status==="active"?"Активен":"Заблокирован"})]}),h.jsxs("div",{className:"admin-user-detail",children:[h.jsx("strong",{children:"Права:"}),h.jsx(Mc,{type:v.isAdmin?"primary":"default",text:v.isAdmin?"Администратор":"Пользователь"})]}),h.jsxs("div",{className:"admin-user-detail",children:[h.jsx("strong",{children:"Последний вход:"})," ",v.lastLogin?pg(v.lastLogin):"Неизвестно"]})]}),h.jsx("h4",{children:"Активность пользователя (последние 30 дней)"}),S?h.jsx("div",{className:"admin-loading",children:"Загрузка активности"}):x.length>0?h.jsx("div",{className:"admin-table-container",children:h.jsxs("table",{className:"admin-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Тип"}),h.jsx("th",{children:"Описание"}),h.jsx("th",{children:"Дата"})]})}),h.jsx("tbody",{children:x.map(H=>h.jsxs("tr",{children:[h.jsxs("td",{children:[h.jsx("span",{className:"activity-icon",children:z(H.type)}),H.type==="login"?"Вход":H.type==="purchase"?"Покупка":H.type==="profile_update"?"Обновление профиля":"Другое"]}),h.jsx("td",{children:H.desc||"Нет описания"}),h.jsx("td",{children:pg(H.timestamp)})]},H.id))})]})}):h.jsx("div",{className:"admin-empty-table",style:{padding:"1rem",textAlign:"center"},children:"Активность не найдена"}),h.jsxs("div",{className:"admin-form-actions",children:[h.jsx("button",{className:"admin-btn admin-btn-secondary",onClick:()=>g(!1),children:"Закрыть"}),h.jsx("button",{className:"admin-btn admin-btn-primary",onClick:()=>F(v.id,v.status),children:v.status==="active"?"Заблокировать":"Разблокировать"})]})]})})]})}function a6(){const[t,e]=N.useState({siteName:"FitGenius",siteDescription:"Персональные планы питания и тренировок",contactEmail:"support@fitgenius.ru",phoneNumber:"+375 29 897-52-19",socialLinks:{instagram:"https://instagram.com/fitgenius",facebook:"https://facebook.com/fitgenius",telegram:"https://t.me/fitgenius"},seo:{metaTitle:"FitGenius - Персональные планы питания и тренировок",metaDescription:"Получите персональный план питания и тренировок, разработанный специально для вас. Достигайте своих целей с FitGenius!",keywords:"питание, тренировки, фитнес, здоровье, персональный план"},appearance:{primaryColor:"#36b14e",secondaryColor:"#4fd165",fontFamily:"Roboto, sans-serif",darkMode:!1}}),[n,s]=N.useState(!0),[a,l]=N.useState(!1),[u,f]=N.useState(!1),[m,g]=N.useState(null);N.useEffect(()=>{v()},[]);const v=async()=>{s(!0);try{const S=await yv(gn(it,"settings","site"));S.exists()?e(S.data()):await Ea(gn(it,"settings","site"),{...t,createdAt:ke.now(),updatedAt:ke.now()})}catch(S){console.error("Ошибка при загрузке настроек:",S)}s(!1)},T=(S,D,k)=>{e(S?{...t,[S]:{...t[S],[D]:k}}:{...t,[D]:k})},x=async()=>{l(!0),f(!1),g(null);try{await Ea(gn(it,"settings","site"),{...t,updatedAt:ke.now()}),f(!0),setTimeout(()=>{f(!1)},3e3)}catch(S){console.error("Ошибка при сохранении настроек:",S),g("Произошла ошибка при сохранении настроек. Пожалуйста, попробуйте еще раз.")}l(!1)},w=async()=>{if(window.confirm("Вы уверены, что хотите сбросить все настройки до значений по умолчанию?")){s(!0);const S={siteName:"FitGenius",siteDescription:"Персональные планы питания и тренировок",contactEmail:"support@fitgenius.ru",phoneNumber:"+375 29 897-52-19",socialLinks:{instagram:"https://instagram.com/fitgenius",facebook:"https://facebook.com/fitgenius",telegram:"https://t.me/fitgenius"},seo:{metaTitle:"FitGenius - Персональные планы питания и тренировок",metaDescription:"Получите персональный план питания и тренировок, разработанный специально для вас. Достигайте своих целей с FitGenius!",keywords:"питание, тренировки, фитнес, здоровье, персональный план"},appearance:{primaryColor:"#36b14e",secondaryColor:"#4fd165",fontFamily:"Roboto, sans-serif",darkMode:!1},updatedAt:ke.now()};try{await Ea(gn(it,"settings","site"),S),e(S),f(!0),setTimeout(()=>{f(!1)},3e3)}catch(D){console.error("Ошибка при сбросе настроек:",D),g("Произошла ошибка при сбросе настроек. Пожалуйста, попробуйте еще раз.")}s(!1)}};return n?h.jsx("div",{className:"admin-loading",children:"Загрузка настроек"}):h.jsxs("div",{children:[h.jsxs("h2",{children:[h.jsx("span",{className:"icon",children:"⚙️"})," Настройки сайта"]}),h.jsxs("div",{className:"admin-settings-container",children:[h.jsxs("div",{className:"admin-settings-section",children:[h.jsx("h3",{children:"Основные настройки"}),h.jsxs("div",{className:"admin-form-group",children:[h.jsx("label",{children:"Название сайта"}),h.jsx("input",{type:"text",value:t.siteName,onChange:S=>T(null,"siteName",S.target.value)})]}),h.jsxs("div",{className:"admin-form-group",children:[h.jsx("label",{children:"Описание сайта"}),h.jsx("textarea",{rows:"3",value:t.siteDescription,onChange:S=>T(null,"siteDescription",S.target.value)})]}),h.jsxs("div",{className:"admin-form-group",children:[h.jsx("label",{children:"Email для связи"}),h.jsx("input",{type:"email",value:t.contactEmail,onChange:S=>T(null,"contactEmail",S.target.value)})]}),h.jsxs("div",{className:"admin-form-group",children:[h.jsx("label",{children:"Номер телефона"}),h.jsx("input",{type:"text",value:t.phoneNumber,onChange:S=>T(null,"phoneNumber",S.target.value)})]})]}),h.jsxs("div",{className:"admin-settings-section",children:[h.jsx("h3",{children:"Социальные сети"}),h.jsxs("div",{className:"admin-form-group",children:[h.jsx("label",{children:"Instagram"}),h.jsx("input",{type:"text",value:t.socialLinks.instagram,onChange:S=>T("socialLinks","instagram",S.target.value)})]}),h.jsxs("div",{className:"admin-form-group",children:[h.jsx("label",{children:"Facebook"}),h.jsx("input",{type:"text",value:t.socialLinks.facebook,onChange:S=>T("socialLinks","facebook",S.target.value)})]}),h.jsxs("div",{className:"admin-form-group",children:[h.jsx("label",{children:"Telegram"}),h.jsx("input",{type:"text",value:t.socialLinks.telegram,onChange:S=>T("socialLinks","telegram",S.target.value)})]})]}),h.jsxs("div",{className:"admin-settings-section",children:[h.jsx("h3",{children:"SEO настройки"}),h.jsxs("div",{className:"admin-form-group",children:[h.jsx("label",{children:"Meta Title"}),h.jsx("input",{type:"text",value:t.seo.metaTitle,onChange:S=>T("seo","metaTitle",S.target.value)})]}),h.jsxs("div",{className:"admin-form-group",children:[h.jsx("label",{children:"Meta Description"}),h.jsx("textarea",{rows:"3",value:t.seo.metaDescription,onChange:S=>T("seo","metaDescription",S.target.value)})]}),h.jsxs("div",{className:"admin-form-group",children:[h.jsx("label",{children:"Ключевые слова"}),h.jsx("input",{type:"text",value:t.seo.keywords,onChange:S=>T("seo","keywords",S.target.value)}),h.jsx("small",{children:"Разделяйте ключевые слова запятыми"})]})]}),h.jsxs("div",{className:"admin-settings-section",children:[h.jsx("h3",{children:"Внешний вид"}),h.jsxs("div",{className:"admin-form-group",children:[h.jsx("label",{children:"Основной цвет"}),h.jsxs("div",{className:"admin-color-picker",children:[h.jsx("input",{type:"color",value:t.appearance.primaryColor,onChange:S=>T("appearance","primaryColor",S.target.value)}),h.jsx("input",{type:"text",value:t.appearance.primaryColor,onChange:S=>T("appearance","primaryColor",S.target.value)})]})]}),h.jsxs("div",{className:"admin-form-group",children:[h.jsx("label",{children:"Дополнительный цвет"}),h.jsxs("div",{className:"admin-color-picker",children:[h.jsx("input",{type:"color",value:t.appearance.secondaryColor,onChange:S=>T("appearance","secondaryColor",S.target.value)}),h.jsx("input",{type:"text",value:t.appearance.secondaryColor,onChange:S=>T("appearance","secondaryColor",S.target.value)})]})]}),h.jsxs("div",{className:"admin-form-group",children:[h.jsx("label",{children:"Шрифт"}),h.jsxs("select",{value:t.appearance.fontFamily,onChange:S=>T("appearance","fontFamily",S.target.value),children:[h.jsx("option",{value:"Roboto, sans-serif",children:"Roboto"}),h.jsx("option",{value:"Open Sans, sans-serif",children:"Open Sans"}),h.jsx("option",{value:"Montserrat, sans-serif",children:"Montserrat"}),h.jsx("option",{value:"Lato, sans-serif",children:"Lato"}),h.jsx("option",{value:"Poppins, sans-serif",children:"Poppins"})]})]}),h.jsx("div",{className:"admin-form-group",children:h.jsxs("label",{className:"admin-checkbox-label",children:[h.jsx("input",{type:"checkbox",checked:t.appearance.darkMode,onChange:S=>T("appearance","darkMode",S.target.checked)}),"Темная тема по умолчанию"]})})]})]}),u&&h.jsx("div",{className:"admin-success-message",children:"Настройки успешно сохранены!"}),m&&h.jsx("div",{className:"admin-error-message",children:m}),h.jsxs("div",{className:"admin-form-actions",children:[h.jsx("button",{className:"admin-btn admin-btn-secondary",onClick:w,disabled:a,children:"Сбросить настройки"}),h.jsx("button",{className:"admin-btn admin-btn-primary",onClick:x,disabled:a,children:a?"Сохранение...":"Сохранить настройки"})]})]})}const o6=()=>h.jsx("div",{className:"admin-bg",children:[...Array(20)].map((t,e)=>h.jsx(pe.div,{className:"admin-particle",style:{top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,width:`${Math.random()*100+50}px`,height:`${Math.random()*100+50}px`,opacity:Math.random()*.5+.1},animate:{x:[0,Math.random()*100-50,0],y:[0,Math.random()*100-50,0]},transition:{duration:Math.random()*20+15,repeat:1/0,ease:"easeInOut"}},e))});function XC(t){if(!t||!t.toDate)return"Неизвестно";const e=t.toDate();return new Intl.DateTimeFormat("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(e)}const fd=({title:t,value:e,change:n,icon:s,isLoading:a})=>h.jsxs(pe.div,{className:"admin-stat-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[h.jsxs("div",{className:"admin-stat-title",children:[h.jsx("span",{className:"icon",children:s}),t]}),a?h.jsx("div",{className:"admin-stat-value",children:"..."}):h.jsx("div",{className:"admin-stat-value",children:e}),n&&h.jsxs("div",{className:`admin-stat-change ${n>=0?"positive":"negative"}`,children:[n>=0?"↑":"↓"," ",Math.abs(n),"% за 7 дней"]})]}),l6=({users:t,isLoading:e})=>h.jsx("div",{className:"admin-table-container",children:h.jsxs("table",{className:"admin-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Пользователь"}),h.jsx("th",{children:"Email"}),h.jsx("th",{children:"Статус"}),h.jsx("th",{children:"Последний вход"}),h.jsx("th",{children:"Действия"})]})}),h.jsx("tbody",{children:e?h.jsx("tr",{children:h.jsx("td",{colSpan:"5",style:{textAlign:"center",padding:"2rem"},children:"Загрузка данных..."})}):t.length>0?t.map(n=>h.jsxs("tr",{children:[h.jsx("td",{children:n.name||"Без имени"}),h.jsx("td",{children:n.email}),h.jsx("td",{children:h.jsx("span",{className:`status ${n.active?"active":"inactive"}`,children:n.active?"Активен":"Неактивен"})}),h.jsx("td",{children:XC(n.lastLogin)}),h.jsxs("td",{className:"actions",children:[h.jsx("button",{className:"action-btn view",title:"Просмотр",children:"👁️"}),h.jsx("button",{className:"action-btn edit",title:"Редактировать",children:"✏️"}),h.jsx("button",{className:"action-btn delete",title:"Удалить",children:"🗑️"})]})]},n.id)):h.jsx("tr",{children:h.jsx("td",{colSpan:"5",style:{textAlign:"center",padding:"2rem"},children:"Нет данных"})})})]})}),c6=({activities:t,isLoading:e})=>h.jsx("div",{className:"admin-table-container",children:h.jsxs("table",{className:"admin-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Пользователь"}),h.jsx("th",{children:"Тип активности"}),h.jsx("th",{children:"Описание"}),h.jsx("th",{children:"Дата и время"})]})}),h.jsx("tbody",{children:e?h.jsx("tr",{children:h.jsx("td",{colSpan:"4",style:{textAlign:"center",padding:"2rem"},children:"Загрузка данных..."})}):t.length>0?t.map(n=>h.jsxs("tr",{children:[h.jsx("td",{children:n.email||"Гость"}),h.jsxs("td",{children:[n.type==="login"&&"Вход в систему",n.type==="purchase"&&"Покупка",n.type==="survey"&&"Опрос",n.type==="profile_update"&&"Обновление профиля",n.type==="plan_view"&&"Просмотр плана",!["login","purchase","survey","profile_update","plan_view"].includes(n.type)&&"Действие"]}),h.jsx("td",{children:n.desc||"Без описания"}),h.jsx("td",{children:XC(n.timestamp)})]},n.id)):h.jsx("tr",{children:h.jsx("td",{colSpan:"4",style:{textAlign:"center",padding:"2rem"},children:"Нет данных"})})})]})}),u6=()=>{const[t,e]=N.useState({totalUsers:0,activeUsers:0,totalVisits:0,totalPurchases:0}),[n,s]=N.useState([]),[a,l]=N.useState([]),[u,f]=N.useState(!0),[m,g]=N.useState(!0),[v,T]=N.useState(!0);return N.useEffect(()=>{async function x(){f(!0);try{const D=ti(wn(it,"users")),V=(await ni(D)).size,Q=new Date;Q.setDate(Q.getDate()-7);const F=ke.fromDate(Q),ne=ti(wn(it,"user_activity"),xa("type","==","login"),xa("timestamp",">=",F)),z=await ni(ne),H=new Set(z.docs.map(M=>M.data().email)).size,I=ti(wn(it,"visit_logs")),j=(await ni(I)).size,O=ti(wn(it,"user_activity"),xa("type","==","purchase")),q=(await ni(O)).size;e({totalUsers:V,activeUsers:H,totalVisits:j,totalPurchases:q})}catch(D){console.error("Ошибка при загрузке статистики:",D)}f(!1)}async function w(){g(!0);try{const D=ti(wn(it,"users"),Xd("lastLogin","desc"),Gg(5)),k=await ni(D);s(k.docs.map(V=>({id:V.id,...V.data()})))}catch(D){console.error("Ошибка при загрузке пользователей:",D)}g(!1)}async function S(){T(!0);try{const D=ti(wn(it,"user_activity"),Xd("timestamp","desc"),Gg(10)),k=await ni(D);l(k.docs.map(V=>({id:V.id,...V.data()})))}catch(D){console.error("Ошибка при загрузке активности:",D)}T(!1)}x(),w(),S()},[]),h.jsxs("div",{children:[h.jsxs("h2",{children:[h.jsx("span",{className:"icon",children:"📊"})," Дашборд"]}),h.jsxs("div",{className:"admin-stats",children:[h.jsx(fd,{title:"Всего пользователей",value:t.totalUsers,change:5,icon:"👥",isLoading:u}),h.jsx(fd,{title:"Активные пользователи",value:t.activeUsers,change:8,icon:"🔥",isLoading:u}),h.jsx(fd,{title:"Всего посещений",value:t.totalVisits,change:12,icon:"👁️",isLoading:u}),h.jsx(fd,{title:"Всего покупок",value:t.totalPurchases,change:-3,icon:"💰",isLoading:u})]}),h.jsxs("h2",{children:[h.jsx("span",{className:"icon",children:"👥"})," Последние пользователи"]}),h.jsx(l6,{users:n,isLoading:m}),h.jsxs("h2",{children:[h.jsx("span",{className:"icon",children:"📝"})," Последняя активность"]}),h.jsx(c6,{activities:a,isLoading:v})]})};function h6(){const[t,e]=N.useState("dashboard"),n=Un(),[s,a]=N.useState(!1);return N.useEffect(()=>{const l=localStorage.getItem("fitgenius_user");let u="";if(l)try{if(l.startsWith("{")){const g=JSON.parse(l);g.email&&(u=g.email)}else l.includes("@")&&(u=l)}catch(g){console.error("Ошибка при парсинге данных пользователя:",g),u=l}const m=(()=>{if(!u)return!1;for(const g of ja)if(u.toLowerCase()===g.toLowerCase())return!0;return!1})();a(m),m||n("/")},[n]),s?h.jsxs("div",{className:"admin-container",children:[h.jsx(o6,{}),h.jsxs(pe.div,{className:"admin-content",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[h.jsxs("div",{className:"admin-header",children:[h.jsx("div",{className:"admin-header-decoration"}),h.jsx("div",{className:"admin-header-decoration"}),h.jsx("h1",{className:"admin-title",children:"Панель администратора FitGenius"}),h.jsx("div",{className:"admin-subtitle",children:"Управление сайтом и пользователями"}),h.jsxs("button",{className:"admin-btn admin-btn-secondary",onClick:()=>n("/dashboard"),style:{position:"absolute",top:"1.5rem",right:"1.5rem"},children:[h.jsx("span",{children:"🏠"})," Вернуться на сайт"]})]}),h.jsxs("div",{className:"admin-tabs",children:[h.jsxs("div",{className:`admin-tab ${t==="dashboard"?"active":""}`,onClick:()=>e("dashboard"),children:[h.jsx("span",{className:"admin-tab-icon",children:"📊"})," Дашборд"]}),h.jsxs("div",{className:`admin-tab ${t==="users"?"active":""}`,onClick:()=>e("users"),children:[h.jsx("span",{className:"admin-tab-icon",children:"👥"})," Пользователи"]}),h.jsxs("div",{className:`admin-tab ${t==="content"?"active":""}`,onClick:()=>e("content"),children:[h.jsx("span",{className:"admin-tab-icon",children:"📄"})," Контент"]}),h.jsxs("div",{className:`admin-tab ${t==="reviews"?"active":""}`,onClick:()=>e("reviews"),children:[h.jsx("span",{className:"admin-tab-icon",children:"⭐"})," Отзывы"]}),h.jsxs("div",{className:`admin-tab ${t==="published"?"active":""}`,onClick:()=>e("published"),children:[h.jsx("span",{className:"admin-tab-icon",children:"📝"})," Опубликованные отзывы"]}),h.jsxs("div",{className:`admin-tab ${t==="feedback"?"active":""}`,onClick:()=>e("feedback"),children:[h.jsx("span",{className:"admin-tab-icon",children:"📨"})," Обратная связь"]}),h.jsxs("div",{className:`admin-tab ${t==="visits"?"active":""}`,onClick:()=>e("visits"),children:[h.jsx("span",{className:"admin-tab-icon",children:"👁️"})," История заходов"]}),h.jsxs("div",{className:`admin-tab ${t==="settings"?"active":""}`,onClick:()=>e("settings"),children:[h.jsx("span",{className:"admin-tab-icon",children:"⚙️"})," Настройки"]})]}),h.jsx(Cu,{mode:"wait",children:h.jsxs(pe.div,{className:"admin-tab-content",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:[t==="dashboard"&&h.jsx(u6,{}),t==="users"&&h.jsx(r6,{}),t==="content"&&h.jsx(s6,{}),t==="reviews"&&h.jsx(J9,{}),t==="published"&&h.jsx(t6,{}),t==="feedback"&&h.jsx(e6,{}),t==="visits"&&h.jsx(n6,{}),t==="settings"&&h.jsx(a6,{})]},t)})]})]}):h.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:h.jsx("h2",{children:"Проверка прав доступа..."})})}const gg={food:{name:"Программа питания на неделю",price:20,oldPrice:null,icon:"🥗",description:"Персональное меню на 7 дней, список покупок, рекомендации по питанию."},workout:{name:"Программа тренировок на неделю",price:30,oldPrice:null,icon:"💪",description:"План тренировок на 7 дней, упражнения, видео и советы."},combo:{name:"Комбо: питание + тренировки на неделю",price:40,oldPrice:50,icon:"🔥",description:"Всё включено: рацион и тренировки на 7 дней для максимального результата.",discount:"Экономия 10 руб."}},d6=()=>h.jsx("div",{className:"pay-bg",children:[...Array(20)].map((t,e)=>h.jsx(pe.div,{className:"pay-particle",style:{top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,width:`${Math.random()*100+50}px`,height:`${Math.random()*100+50}px`,opacity:Math.random()*.5+.1},animate:{x:[0,Math.random()*100-50,0],y:[0,Math.random()*100-50,0]},transition:{duration:Math.random()*20+15,repeat:1/0,ease:"easeInOut"}},e))}),f6=()=>h.jsxs("div",{className:"pay-methods",children:[h.jsx("div",{className:"pay-methods-title",children:"Принимаем к оплате"}),h.jsxs("div",{className:"pay-methods-icons",children:[h.jsx("div",{className:"pay-method-icon pay-method-visa"}),h.jsx("div",{className:"pay-method-icon pay-method-mastercard"}),h.jsx("div",{className:"pay-method-icon pay-method-mir"}),h.jsx("div",{className:"pay-method-icon pay-method-applepay"}),h.jsx("div",{className:"pay-method-icon pay-method-googlepay"})]})]}),m6=()=>h.jsxs("div",{className:"pay-guarantees",children:[h.jsxs("div",{className:"pay-guarantee-item",children:[h.jsx("span",{className:"pay-guarantee-icon",children:"🔒"}),h.jsx("span",{children:"Безопасная оплата"})]}),h.jsxs("div",{className:"pay-guarantee-item",children:[h.jsx("span",{className:"pay-guarantee-icon",children:"💸"}),h.jsx("span",{children:"Гарантия возврата"})]}),h.jsxs("div",{className:"pay-guarantee-item",children:[h.jsx("span",{className:"pay-guarantee-icon",children:"🛠"}),h.jsx("span",{children:"Поддержка 24/7"})]})]});function p6(){const t=Un(),[e,n]=N.useState("food"),[s,a]=N.useState(gg.food),[l,u]=N.useState(!1),[f,m]=N.useState(!1);N.useEffect(()=>{const v=localStorage.getItem("fitgenius_selected_type")||"food";n(v),a(gg[v]||gg.food)},[]);const g=async()=>{u(!0),m(!0),setTimeout(async()=>{try{localStorage.setItem("fitgenius_paid_type",e);const v=localStorage.getItem("fitgenius_user")||"";let T="";if(v)try{if(v.startsWith("{")){const x=JSON.parse(v);x.email&&(T=x.email)}else v.includes("@")&&(T=v)}catch(x){console.error("Ошибка при парсинге данных пользователя:",x),T=v}await Go({email:T,type:"purchase",desc:`Оплачен тариф: ${s.name} (${s.price} руб.)`}),setTimeout(()=>{u(!1),t("/dashboard")},1500)}catch(v){console.error("Ошибка при обработке оплаты:",v),u(!1),m(!1)}},1200)};return h.jsxs("div",{className:"pay-page-container",children:[h.jsx(d6,{}),h.jsxs(pe.div,{className:"pay-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[h.jsxs("div",{className:"pay-card-header",children:[h.jsx("div",{className:"pay-card-decoration"}),h.jsx("div",{className:"pay-card-decoration"}),h.jsx(pe.h1,{className:"pay-title",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},children:"Оплата"}),h.jsx(pe.p,{className:"pay-subtitle",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.5},children:"Ваш персональный план уже готов!"})]}),h.jsxs("div",{className:"pay-card-body",children:[h.jsxs("div",{className:"pay-info",children:[h.jsxs(pe.div,{className:"pay-tariff",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.5},whileHover:{y:-5,boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)"},children:[h.jsx("div",{className:"pay-tariff-icon",children:s.icon}),h.jsxs("div",{className:"pay-tariff-details",children:[h.jsx("div",{className:"pay-tariff-name",children:s.name}),h.jsx("div",{className:"pay-tariff-description",children:s.description}),h.jsxs("div",{className:"pay-price-container",children:[s.oldPrice&&h.jsxs("span",{className:"pay-old-price",children:[s.oldPrice," руб."]}),h.jsxs("span",{className:"pay-current-price",children:[s.price," руб."]}),s.discount&&h.jsx("span",{className:"pay-discount-badge",children:s.discount})]})]})]}),h.jsxs(pe.div,{className:"pay-total",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.5},children:[h.jsx("div",{className:"pay-total-label",children:"Сумма к оплате:"}),h.jsxs("div",{className:"pay-total-price",children:[s.price," руб."]})]})]}),h.jsxs(pe.button,{className:"pay-button",onClick:g,disabled:l,initial:{opacity:0,y:20},animate:{opacity:1,y:0,boxShadow:["0 5px 15px rgba(79, 209, 101, 0.3)","0 10px 25px rgba(79, 209, 101, 0.5)","0 5px 15px rgba(79, 209, 101, 0.3)"]},transition:{opacity:{delay:.6,duration:.5},y:{delay:.6,duration:.5},boxShadow:{repeat:1/0,duration:2,repeatType:"reverse"}},whileHover:{scale:1.05,boxShadow:"0 10px 25px rgba(79, 209, 101, 0.5)"},whileTap:{scale:.95},children:[h.jsx("span",{className:"pay-button-icon",children:"✨"}),l?"Обработка оплаты...":"Оплатить",h.jsx("span",{className:"pay-button-icon",children:"✨"})]}),h.jsxs(pe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7,duration:.5},children:[h.jsx(f6,{}),h.jsx(m6,{})]})]})]}),f&&h.jsx("div",{className:"confetti-container",children:[...Array(100)].map((v,T)=>h.jsx("div",{className:"confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*.5}s`,backgroundColor:`hsl(${Math.random()*360}, 80%, 60%)`}},T))})]})}const g6=()=>h.jsx("div",{className:"animated-background",children:[...Array(20)].map((t,e)=>h.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${5+Math.random()*10}s`,width:`${10+Math.random()*30}px`,height:`${10+Math.random()*30}px`,opacity:.1+Math.random()*.2}},e))}),y6=({features:t})=>h.jsx("ul",{className:"tariff-features",children:t.map((e,n)=>h.jsxs(pe.li,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:n*.1},className:"tariff-feature",children:[h.jsx("span",{className:"feature-check",children:"✓"})," ",e]},n))}),v6=()=>h.jsxs("div",{className:"payment-methods",children:[h.jsx("h3",{children:"Способы оплаты"}),h.jsxs("div",{className:"payment-icons",children:[h.jsx("div",{className:"payment-icon visa"}),h.jsx("div",{className:"payment-icon mastercard"}),h.jsx("div",{className:"payment-icon mir"}),h.jsx("div",{className:"payment-icon applepay"}),h.jsx("div",{className:"payment-icon googlepay"})]})]});function _6(){const[t,e]=N.useState("combo"),[n,s]=N.useState(!1),a=Un(),l=[{id:"food",title:"Программа питания на неделю",price:20,oldPrice:null,desc:"Персональное меню на 7 дней, список покупок, рекомендации по питанию.",features:["Индивидуальный расчет калорий","Учет пищевых предпочтений","Список продуктов для закупки","Рецепты и инструкции на 7 дней"],icon:"🥗"},{id:"workout",title:"Программа тренировок на неделю",price:30,oldPrice:null,desc:"План тренировок на 7 дней, упражнения и рекомендации.",features:["Персональный план тренировок","Подробные описания упражнений","Отслеживание прогресса на неделю","Адаптация под ваш уровень"],icon:"💪"},{id:"combo",title:"Комбо: питание + тренировки на неделю",price:40,oldPrice:50,desc:"Всё включено: рацион и тренировки на 7 дней для максимального результата.",features:["Синхронизированные планы на неделю","Максимальная эффективность","Приоритетная поддержка","Доступ к премиум-контенту","Выгоднее, чем покупать по отдельности"],highlight:!0,icon:"🔥",savingInfo:"Экономия 10 руб. по сравнению с покупкой по отдельности"}],u=l.find(m=>m.id===t),f=()=>{s(!0),setTimeout(()=>a(`/questionnaire?type=${t}`),1500)};return h.jsxs("div",{className:"prices-bg",children:[h.jsx(g6,{}),h.jsxs(pe.div,{className:"prices-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[h.jsx(pe.h1,{className:"prices-heading",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},children:"Цены и оплата"}),h.jsx(pe.p,{className:"prices-subheading",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.5},children:"Выберите подходящий тариф и начните путь к здоровому образу жизни с FitGenius"}),h.jsx("div",{className:"prices-tariffs",children:l.map((m,g)=>h.jsxs(pe.div,{className:`prices-tariff ${t===m.id?"selected":""} ${m.highlight?"highlight":""}`,onClick:()=>e(m.id),initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2+g*.1,duration:.5},whileHover:{y:-5,boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)"},children:[m.highlight&&h.jsx("div",{className:"prices-badge",children:h.jsx("span",{children:"Выгодно! Экономия 20%"})}),h.jsx("div",{className:"tariff-icon",children:m.icon}),h.jsx("h3",{className:"prices-title",children:m.title}),h.jsx("p",{className:"prices-desc",children:m.desc}),h.jsxs("div",{className:"prices-price",children:[m.oldPrice&&h.jsxs("span",{className:"old-price",children:[m.oldPrice," руб."]}),h.jsxs("span",{className:"current-price",children:[m.price," руб."]}),m.savingInfo&&h.jsx("div",{className:"saving-info",children:m.savingInfo})]}),h.jsx(y6,{features:m.features}),h.jsx(pe.button,{className:`tariff-select-btn ${t===m.id?"selected":""} ${m.highlight?"highlight-btn":""}`,whileHover:{scale:1.05,boxShadow:m.highlight?"0 10px 25px rgba(79, 209, 101, 0.4)":"0 5px 15px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},onClick:v=>{v.stopPropagation(),e(m.id)},initial:m.highlight?{y:[0,-5,0],transition:{repeat:3,duration:.6}}:{},animate:m.highlight?{boxShadow:["0 5px 15px rgba(79, 209, 101, 0.2)","0 8px 25px rgba(79, 209, 101, 0.4)","0 5px 15px rgba(79, 209, 101, 0.2)"],transition:{repeat:1/0,duration:2,repeatType:"reverse"}}:{},children:t===m.id?"Выбрано":m.highlight?"Выбрать выгодно!":"Выбрать"})]},m.id))}),h.jsxs(pe.div,{className:"prices-summary",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6,duration:.5},children:[h.jsxs("div",{className:"summary-details",children:[h.jsx("h3",{children:"Ваш выбор:"}),h.jsxs("div",{className:"selected-tariff",children:[h.jsx("span",{className:"selected-icon",children:u.icon}),h.jsx("span",{className:"selected-title",children:u.title}),h.jsxs("span",{className:"selected-price",children:[u.price," руб."]})]})]}),h.jsxs(pe.button,{className:"prices-button highlight-main-btn",onClick:f,whileHover:{scale:1.05,boxShadow:"0 10px 30px rgba(79, 209, 101, 0.5)"},whileTap:{scale:.95},initial:{y:0},animate:{y:[0,-5,0],boxShadow:["0 5px 15px rgba(79, 209, 101, 0.3)","0 10px 30px rgba(79, 209, 101, 0.5)","0 5px 15px rgba(79, 209, 101, 0.3)"],transition:{repeat:1/0,duration:2,repeatType:"reverse"}},children:[h.jsx("span",{className:"btn-icon",children:"✨"})," Выбрать выгодный тариф ",h.jsx("span",{className:"btn-icon",children:"✨"})]})]}),h.jsxs("div",{className:"prices-steps",children:[h.jsx(pe.h2,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},children:"Как это работает"}),h.jsxs("div",{className:"steps-container",children:[h.jsxs(pe.div,{className:"step-item",initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.8},children:[h.jsx("div",{className:"step-number",children:"1"}),h.jsx("h3",{children:"Выберите тариф"}),h.jsx("p",{children:"Выберите подходящий вам тариф из предложенных вариантов"})]}),h.jsxs(pe.div,{className:"step-item",initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.9},children:[h.jsx("div",{className:"step-number",children:"2"}),h.jsx("h3",{children:"Заполните анкету"}),h.jsx("p",{children:"Ответьте на несколько вопросов для создания персональной программы"})]}),h.jsxs(pe.div,{className:"step-item",initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:1},children:[h.jsx("div",{className:"step-number",children:"3"}),h.jsx("h3",{children:"Оплатите заказ"}),h.jsx("p",{children:"Безопасная оплата с помощью любой банковской карты или электронного кошелька"})]}),h.jsxs(pe.div,{className:"step-item",initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:1.1},children:[h.jsx("div",{className:"step-number",children:"4"}),h.jsx("h3",{children:"Получите результат"}),h.jsx("p",{children:"Доступ к персональной программе в личном кабинете"})]})]})]}),h.jsx(v6,{}),h.jsxs(pe.div,{className:"prices-guarantee",initial:{opacity:0},animate:{opacity:1},transition:{delay:.7,duration:.5},children:[h.jsxs("div",{className:"guarantee-item",children:[h.jsx("span",{className:"guarantee-icon",children:"🔒"}),h.jsx("span",{children:"Безопасная оплата"})]}),h.jsxs("div",{className:"guarantee-item",children:[h.jsx("span",{className:"guarantee-icon",children:"💸"}),h.jsx("span",{children:"Гарантия возврата в течение 7 дней"})]}),h.jsxs("div",{className:"guarantee-item",children:[h.jsx("span",{className:"guarantee-icon",children:"🛠"}),h.jsx("span",{children:"Техническая поддержка 24/7"})]})]}),h.jsxs("div",{className:"prices-support",children:["Остались вопросы? ",h.jsx("a",{href:"mailto:support@fitgenius.ru",children:"support@fitgenius.ru"})]})]}),n&&h.jsx("div",{className:"confetti-container",children:[...Array(100)].map((m,g)=>h.jsx("div",{className:"confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*.5}s`,backgroundColor:`hsl(${Math.random()*360}, 80%, 60%)`}},g))})]})}const ja=["laptinskii07@gmail.com","Sasha-laptinskii@mail.ru"];function T6(){const[t,e]=N.useState(()=>localStorage.getItem("fitgenius_theme")||"dark");return N.useEffect(()=>{document.body.classList.remove("theme-light","theme-dark"),document.body.classList.add(`theme-${t}`),localStorage.setItem("fitgenius_theme",t)},[t]),h.jsx("button",{className:"theme-toggle-btn",onClick:()=>e(t==="light"?"dark":"light"),title:"Сменить тему","aria-label":"Сменить тему",children:t==="light"?"🌙":"☀️"})}function x6(){const t=localStorage.getItem("fitgenius_user");localStorage.getItem("fitgenius_name");const e=Un();t&&ja.some(D=>{try{const k=JSON.parse(t);return k.email&&D.toLowerCase()===k.email.toLowerCase()}catch{return D.toLowerCase()===t.toLowerCase()}});const[n,s]=N.useState(!1),[a,l]=N.useState(!1),u=N.useRef(null),f=N.useRef(null),m=N.useRef(null);N.useEffect(()=>{const D=()=>{const k=window.scrollY;l(k>20)};return window.addEventListener("scroll",D),()=>window.removeEventListener("scroll",D)},[]);const g=D=>{m.current=D.touches[0].clientX},v=D=>{if(!m.current||!f.current)return;const V=D.touches[0].clientX-m.current;V>0&&(f.current.style.transform=`translateX(${V}px)`)},T=D=>{if(!m.current||!f.current)return;D.changedTouches[0].clientX-m.current>70?s(!1):f.current.style.transform="",m.current=null},x=D=>{D.target.classList.contains("mobile-menu-overlay")&&s(!1)};N.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[n]);const w=()=>{localStorage.removeItem("fitgenius_user"),localStorage.removeItem("fitgenius_name"),localStorage.removeItem("fitgenius_paid_type"),localStorage.removeItem("fitgenius_meal_plan"),localStorage.removeItem("fitgenius_workout_plan"),e("/"),s(!1)},S=()=>{s(!n)};return N.useEffect(()=>{const D=()=>{window.innerWidth>700&&n&&s(!1)};return window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[n]),h.jsxs("header",{className:`main-header ${a?"scrolled":""}`,ref:u,children:[h.jsxs("nav",{children:[h.jsxs("div",{className:"main-header-left",children:[h.jsx(T6,{}),h.jsxs(It,{to:"/",className:"main-logo",children:[h.jsx("div",{className:"logo-icon",children:h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("path",{d:"M12 3.5C7.30558 3.5 3.5 7.30558 3.5 12C3.5 16.6944 7.30558 20.5 12 20.5C16.6944 20.5 20.5 16.6944 20.5 12C20.5 7.30558 16.6944 3.5 12 3.5Z",stroke:"currentColor",strokeWidth:"1.5"}),h.jsx("path",{d:"M15 8.5C15 8.5 13.5 9.5 12 9.5C10.5 9.5 9 8.5 9 8.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),h.jsx("path",{d:"M8.5 14C8.5 14 9.5 16 12 16C14.5 16 15.5 14 15.5 14",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),h.jsx("path",{d:"M8.5 12H15.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})}),h.jsxs("div",{className:"logo-text",children:[h.jsx("span",{className:"logo-fit",children:"Fit"}),h.jsx("span",{className:"logo-genius",children:"Genius"})]})]})]}),h.jsxs("div",{className:"desktop-nav-links",children:[h.jsxs(It,{to:"/",className:"nav-link",children:[h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"nav-icon",children:[h.jsx("path",{d:"M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M9 22V12H15V22",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),h.jsx("span",{children:"Главная"})]}),h.jsxs(It,{to:"/prices",className:"nav-link",children:[h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"nav-icon",children:[h.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20Z",fill:"currentColor"}),h.jsx("path",{d:"M12.5 7H11V13L16.2 16.2L17 14.9L12.5 12.2V7Z",fill:"currentColor"})]}),h.jsx("span",{children:"Цены и оплата"})]}),h.jsxs(It,{to:"/reviews",className:"nav-link",children:[h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"nav-icon",children:[h.jsx("path",{d:"M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2ZM20 16H5.17L4 17.17V4H20V16Z",fill:"currentColor"}),h.jsx("path",{d:"M12 15L13.57 11.57L17 10L13.57 8.43L12 5L10.43 8.43L7 10L10.43 11.57L12 15Z",fill:"currentColor"})]}),h.jsx("span",{children:"Отзывы"})]}),h.jsxs(It,{to:"/faq",className:"nav-link",children:[h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"nav-icon",children:[h.jsx("path",{d:"M11.07 12.85C11.07 12.85 11.07 13.8 11.07 14.75C11.07 15.7 12 15.7 12 15.7C12 15.7 12.93 15.7 12.93 14.75C12.93 13.8 12.93 12.85 12.93 12.85",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),h.jsx("path",{d:"M11.5 10.5C11.5 10.5 11.5 8.5 12 8.5C12.5 8.5 12.5 8.5 13 9C13.5 9.5 14 9.5 14 9.5C14 9.5 14.5 9.5 14.5 9C14.5 8.5 14 8 13.5 7.5C13 7 12 7 12 7C12 7 11.5 7 11 7.5C10.5 8 10 8.5 10 9.5C10 10.5 10 10.5 10 10.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("circle",{cx:"12",cy:"12",r:"9",stroke:"currentColor",strokeWidth:"1.5"})]}),h.jsx("span",{children:"FAQ"})]}),t?h.jsxs(It,{to:"/dashboard",className:"nav-link",children:[h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"nav-icon",children:[h.jsx("rect",{x:"3",y:"3",width:"7",height:"9",rx:"1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("rect",{x:"3",y:"15",width:"7",height:"6",rx:"1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("rect",{x:"13",y:"3",width:"8",height:"6",rx:"1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("rect",{x:"13",y:"12",width:"8",height:"9",rx:"1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),h.jsx("span",{children:"Личный кабинет"})]}):h.jsxs(h.Fragment,{children:[h.jsxs(It,{to:"/login",className:"nav-link",children:[h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"nav-icon",children:[h.jsx("path",{d:"M15 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H15",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M10 17L15 12L10 7",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M15 12H3",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),h.jsx("span",{children:"Войти"})]}),h.jsxs(It,{to:"/register",className:"nav-link",children:[h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"nav-icon",children:[h.jsx("path",{d:"M16 21V19C16 17.9391 15.5786 16.9217 14.8284 16.1716C14.0783 15.4214 13.0609 15 12 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M8.5 11C10.7091 11 12.5 9.20914 12.5 7C12.5 4.79086 10.7091 3 8.5 3C6.29086 3 4.5 4.79086 4.5 7C4.5 9.20914 6.29086 11 8.5 11Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M20 8V14",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M23 11H17",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),h.jsx("span",{children:"Регистрация"})]})]}),h.jsxs("div",{className:"nav-phone",children:[h.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"nav-icon",children:h.jsx("path",{d:"M20.01 15.38C18.78 15.38 17.59 15.18 16.48 14.82C16.13 14.7 15.74 14.79 15.47 15.06L13.9 17.03C11.07 15.68 8.42 13.13 7.01 10.2L8.96 8.54C9.23 8.26 9.31 7.87 9.2 7.52C8.83 6.41 8.64 5.22 8.64 3.99C8.64 3.45 8.19 3 7.65 3H4.19C3.65 3 3 3.24 3 3.99C3 13.28 10.73 21 20.01 21C20.72 21 21 20.37 21 19.82V16.37C21 15.83 20.55 15.38 20.01 15.38Z",fill:"currentColor"})}),h.jsx("span",{children:"+375 29 897-52-19"})]})]}),h.jsxs("button",{className:`mobile-menu-btn ${n?"open":""}`,onClick:S,"aria-label":"Меню",title:"Меню",children:[h.jsx("span",{}),h.jsx("span",{}),h.jsx("span",{})]})]}),h.jsx("div",{className:`mobile-menu-overlay ${n?"open":""}`,onClick:x}),h.jsxs("div",{className:`mobile-menu ${n?"open":""}`,ref:f,onTouchStart:g,onTouchMove:v,onTouchEnd:T,children:[h.jsxs("div",{className:"mobile-menu-header",children:[h.jsxs(It,{to:"/",className:"mobile-menu-logo",onClick:()=>s(!1),children:[h.jsx("div",{className:"logo-icon",children:h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("path",{d:"M12 3.5C7.30558 3.5 3.5 7.30558 3.5 12C3.5 16.6944 7.30558 20.5 12 20.5C16.6944 20.5 20.5 16.6944 20.5 12C20.5 7.30558 16.6944 3.5 12 3.5Z",stroke:"currentColor",strokeWidth:"1.5"}),h.jsx("path",{d:"M15 8.5C15 8.5 13.5 9.5 12 9.5C10.5 9.5 9 8.5 9 8.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),h.jsx("path",{d:"M8.5 14C8.5 14 9.5 16 12 16C14.5 16 15.5 14 15.5 14",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),h.jsx("path",{d:"M8.5 12H15.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})}),h.jsxs("div",{className:"logo-text",children:[h.jsx("span",{className:"logo-fit",children:"Fit"}),h.jsx("span",{className:"logo-genius",children:"Genius"})]})]}),h.jsx("button",{className:"mobile-menu-close-btn",onClick:()=>s(!1),"aria-label":"Закрыть меню",children:h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",children:[h.jsx("path",{d:"M18 6L6 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),h.jsxs("div",{className:"mobile-menu-links",children:[h.jsxs(It,{to:"/",onClick:()=>s(!1),className:"mobile-menu-link",children:[h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mobile-menu-icon",children:[h.jsx("path",{d:"M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M9 22V12H15V22",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),h.jsx("span",{children:"Главная"})]}),h.jsxs(It,{to:"/prices",onClick:()=>s(!1),className:"mobile-menu-link",children:[h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mobile-menu-icon",children:[h.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20Z",fill:"currentColor"}),h.jsx("path",{d:"M12.5 7H11V13L16.2 16.2L17 14.9L12.5 12.2V7Z",fill:"currentColor"})]}),h.jsx("span",{children:"Цены и оплата"})]}),h.jsxs(It,{to:"/reviews",onClick:()=>s(!1),className:"mobile-menu-link",children:[h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mobile-menu-icon",children:[h.jsx("path",{d:"M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2ZM20 16H5.17L4 17.17V4H20V16Z",fill:"currentColor"}),h.jsx("path",{d:"M12 15L13.57 11.57L17 10L13.57 8.43L12 5L10.43 8.43L7 10L10.43 11.57L12 15Z",fill:"currentColor"})]}),h.jsx("span",{children:"Отзывы"})]}),h.jsxs(It,{to:"/faq",onClick:()=>s(!1),className:"mobile-menu-link",children:[h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mobile-menu-icon",children:[h.jsx("path",{d:"M11.07 12.85C11.07 12.85 11.07 13.8 11.07 14.75C11.07 15.7 12 15.7 12 15.7C12 15.7 12.93 15.7 12.93 14.75C12.93 13.8 12.93 12.85 12.93 12.85",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),h.jsx("path",{d:"M11.5 10.5C11.5 10.5 11.5 8.5 12 8.5C12.5 8.5 12.5 8.5 13 9C13.5 9.5 14 9.5 14 9.5C14 9.5 14.5 9.5 14.5 9C14.5 8.5 14 8 13.5 7.5C13 7 12 7 12 7C12 7 11.5 7 11 7.5C10.5 8 10 8.5 10 9.5C10 10.5 10 10.5 10 10.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("circle",{cx:"12",cy:"12",r:"9",stroke:"currentColor",strokeWidth:"1.5"})]}),h.jsx("span",{children:"FAQ"})]}),t?h.jsxs(h.Fragment,{children:[h.jsxs(It,{to:"/dashboard",onClick:()=>s(!1),className:"mobile-menu-link",children:[h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mobile-menu-icon",children:[h.jsx("rect",{x:"3",y:"3",width:"7",height:"9",rx:"1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("rect",{x:"3",y:"15",width:"7",height:"6",rx:"1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("rect",{x:"13",y:"3",width:"8",height:"6",rx:"1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("rect",{x:"13",y:"12",width:"8",height:"9",rx:"1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),h.jsx("span",{children:"Личный кабинет"})]}),h.jsxs("button",{onClick:w,className:"mobile-menu-link mobile-menu-logout",children:[h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mobile-menu-icon",children:[h.jsx("path",{d:"M9 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H9",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M16 17L21 12L16 7",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M21 12H9",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),h.jsx("span",{children:"Выйти"})]}),h.jsx("div",{className:"mobile-menu-info",children:h.jsxs("div",{className:"mobile-menu-phone-display",children:[h.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mobile-menu-icon",children:h.jsx("path",{d:"M20.01 15.38C18.78 15.38 17.59 15.18 16.48 14.82C16.13 14.7 15.74 14.79 15.47 15.06L13.9 17.03C11.07 15.68 8.42 13.13 7.01 10.2L8.96 8.54C9.23 8.26 9.31 7.87 9.2 7.52C8.83 6.41 8.64 5.22 8.64 3.99C8.64 3.45 8.19 3 7.65 3H4.19C3.65 3 3 3.24 3 3.99C3 13.28 10.73 21 20.01 21C20.72 21 21 20.37 21 19.82V16.37C21 15.83 20.55 15.38 20.01 15.38Z",fill:"currentColor"})}),h.jsx("span",{children:"+375 29 897-52-19"})]})})]}):h.jsxs(h.Fragment,{children:[h.jsxs(It,{to:"/login",onClick:()=>s(!1),className:"mobile-menu-link",children:[h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mobile-menu-icon",children:[h.jsx("path",{d:"M15 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H15",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M10 17L15 12L10 7",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M15 12H3",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),h.jsx("span",{children:"Войти"})]}),h.jsxs(It,{to:"/register",onClick:()=>s(!1),className:"mobile-menu-link",children:[h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mobile-menu-icon",children:[h.jsx("path",{d:"M16 21V19C16 17.9391 15.5786 16.9217 14.8284 16.1716C14.0783 15.4214 13.0609 15 12 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M8.5 11C10.7091 11 12.5 9.20914 12.5 7C12.5 4.79086 10.7091 3 8.5 3C6.29086 3 4.5 4.79086 4.5 7C4.5 9.20914 6.29086 11 8.5 11Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M20 8V14",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M23 11H17",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),h.jsx("span",{children:"Регистрация"})]})]})]})]})]})}function E6({children:t}){const e=localStorage.getItem("fitgenius_user"),n=_i();return e?t:h.jsx(kb,{to:"/login",state:{from:n},replace:!0})}function b6({children:t}){const e=localStorage.getItem("fitgenius_user"),n=_i();let s="";if(e)try{if(e.startsWith("{")){const l=JSON.parse(e);l.email&&(s=l.email)}else e.includes("@")&&(s=e)}catch(l){console.error("Ошибка при парсинге данных пользователя:",l),s=e}const a=s&&ja.some(l=>l.toLowerCase()===s.toLowerCase());return console.log("AdminRoute проверка:",s,ja,a),a?t:h.jsx(kb,{to:"/",state:{from:n},replace:!0})}function w6(){const t=Un();return h.jsxs("div",{style:{minHeight:"80vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",padding:"20px"},children:[h.jsx("h1",{style:{fontSize:"2rem",marginBottom:"1rem",color:"#1a3a2b"},children:"404"}),h.jsx("p",{style:{fontSize:"1.2rem",marginBottom:"2rem",color:"#666"},children:"Страница не найдена"}),h.jsx("button",{onClick:()=>t("/"),style:{padding:"12px 24px",borderRadius:"8px",border:"none",background:"#4fd165",color:"#fff",fontSize:"1rem",fontWeight:"600",cursor:"pointer"},children:"Вернуться на главную"})]})}function S6({open:t,onClose:e}){const n=N.useRef();return t?h.jsx("div",{className:"offer-modal-overlay",onClick:e,children:h.jsxs("div",{className:"offer-modal",onClick:s=>s.stopPropagation(),ref:n,children:[h.jsx("button",{className:"offer-modal-close",onClick:e,"aria-label":"Закрыть",children:"✕"}),h.jsx("h2",{children:"Договор оферты"}),h.jsxs("div",{className:"offer-modal-content",children:[h.jsxs("p",{children:[h.jsx("b",{children:"1. Общие положения"}),h.jsx("br",{}),"Настоящий документ является официальным предложением (офертой) ИП Лаптинский Александр Владимирович, УНП 391986581, далее — «Исполнитель», заключить договор на оказание информационных услуг дистанционным способом с любым физическим лицом, далее — «Пользователь», на условиях, изложенных ниже.",h.jsx("br",{}),"Акцепт (принятие) условий настоящей оферты осуществляется путем оплаты услуг на сайте."]}),h.jsxs("p",{children:[h.jsx("b",{children:"2. Предмет договора"}),h.jsx("br",{}),"Исполнитель предоставляет Пользователю доступ к персональным программам питания и/или тренировок, а также сопутствующим информационным материалам, размещённым на сайте. Услуги оказываются дистанционно, посредством сети Интернет."]}),h.jsxs("p",{children:[h.jsx("b",{children:"3. Права и обязанности сторон"}),h.jsx("br",{}),"Исполнитель обязуется: предоставить доступ к выбранным и оплаченным программам; обеспечивать конфиденциальность персональных данных Пользователя.",h.jsx("br",{}),"Пользователь обязуется: предоставить достоверные данные при регистрации; не передавать доступ третьим лицам; оплатить услуги в полном объёме."]}),h.jsxs("p",{children:[h.jsx("b",{children:"4. Стоимость и порядок оплаты"}),h.jsx("br",{}),"Стоимость услуг указывается на сайте. Оплата производится через платёжные системы, указанные на сайте."]}),h.jsxs("p",{children:[h.jsx("b",{children:"5. Ответственность сторон"}),h.jsx("br",{}),"Исполнитель не несёт ответственности за невозможность оказания услуг по причинам, не зависящим от него (технические сбои, действия третьих лиц и пр.). Пользователь несёт ответственность за достоверность предоставленных данных."]}),h.jsxs("p",{children:[h.jsx("b",{children:"6. Возврат средств"}),h.jsx("br",{}),"Возврат денежных средств возможен в случаях, предусмотренных законодательством Республики Беларусь."]}),h.jsxs("p",{children:[h.jsx("b",{children:"7. Персональные данные"}),h.jsx("br",{}),"Пользователь даёт согласие на обработку своих персональных данных в соответствии с Политикой конфиденциальности."]}),h.jsxs("p",{children:[h.jsx("b",{children:"8. Прочие условия"}),h.jsx("br",{}),"Исполнитель вправе вносить изменения в условия оферты без предварительного согласия Пользователя, с обязательной публикацией новой редакции на сайте. Оферта считается заключённой с момента оплаты услуг Пользователем."]}),h.jsxs("p",{children:[h.jsx("b",{children:"9. Реквизиты Исполнителя"}),h.jsx("br",{}),"ИП Лаптинский Александр Владимирович",h.jsx("br",{}),"УНП 391986581",h.jsx("br",{}),"211389, Республика Беларусь, г. Орша, ул. Могилёвская, 99-19",h.jsx("br",{}),"E-mail: support@fitgenius.ru",h.jsx("br",{}),"Тел.: +375 29 897-52-19"]})]})]})}):null}function A6({open:t,onClose:e}){const n=N.useRef();return t?h.jsx("div",{className:"offer-modal-overlay",onClick:e,children:h.jsxs("div",{className:"offer-modal",onClick:s=>s.stopPropagation(),ref:n,children:[h.jsx("button",{className:"offer-modal-close",onClick:e,"aria-label":"Закрыть",children:"✕"}),h.jsx("h2",{children:"Политика конфиденциальности"}),h.jsxs("div",{className:"offer-modal-content",children:[h.jsxs("p",{children:[h.jsx("b",{children:"1. Общие положения"}),h.jsx("br",{}),"Настоящая Политика конфиденциальности определяет порядок обработки и защиты персональных данных пользователей, которые предоставляет ИП Лаптинский Александр Владимирович (далее — «Оператор») при использовании сайта и сервисов FitGenius.",h.jsx("br",{}),"Использование сайта означает согласие пользователя с данной Политикой."]}),h.jsxs("p",{children:[h.jsx("b",{children:"2. Персональные данные, которые обрабатываются"}),h.jsx("br",{}),"Оператор может обрабатывать следующие данные:",h.jsx("br",{}),"— ФИО, e-mail, номер телефона;",h.jsx("br",{}),"— данные, предоставленные при регистрации и заполнении анкет;",h.jsx("br",{}),"— сведения о платежах (без хранения платёжных реквизитов);",h.jsx("br",{}),"— IP-адрес, данные о браузере, cookies и др."]}),h.jsxs("p",{children:[h.jsx("b",{children:"3. Цели обработки персональных данных"}),h.jsx("br",{}),"Оператор обрабатывает персональные данные для:",h.jsx("br",{}),"— предоставления доступа к сервису и персональным программам;",h.jsx("br",{}),"— обратной связи и поддержки;",h.jsx("br",{}),"— выполнения требований законодательства;",h.jsx("br",{}),"— улучшения качества сервиса."]}),h.jsxs("p",{children:[h.jsx("b",{children:"4. Передача данных третьим лицам"}),h.jsx("br",{}),"Оператор не передает персональные данные третьим лицам, за исключением случаев, предусмотренных законодательством или необходимых для выполнения обязательств (например, платёжные системы)."]}),h.jsxs("p",{children:[h.jsx("b",{children:"5. Хранение и защита данных"}),h.jsx("br",{}),"Оператор принимает все необходимые меры для защиты персональных данных от несанкционированного доступа, изменения, раскрытия или уничтожения.",h.jsx("br",{}),"Данные хранятся столько, сколько это необходимо для целей обработки."]}),h.jsxs("p",{children:[h.jsx("b",{children:"6. Права пользователя"}),h.jsx("br",{}),"Пользователь вправе запросить информацию о своих данных, требовать их исправления или удаления, а также отозвать согласие на обработку."]}),h.jsxs("p",{children:[h.jsx("b",{children:"7. Использование файлов cookie"}),h.jsx("br",{}),"Сайт может использовать cookie для улучшения пользовательского опыта. Пользователь может отключить cookie в настройках браузера."]}),h.jsxs("p",{children:[h.jsx("b",{children:"8. Изменения политики"}),h.jsx("br",{}),"Оператор вправе вносить изменения в настоящую Политику. Новая редакция вступает в силу с момента публикации на сайте."]}),h.jsxs("p",{children:[h.jsx("b",{children:"9. Контакты"}),h.jsx("br",{}),"Оператор: ИП Лаптинский Александр Владимирович",h.jsx("br",{}),"E-mail: support@fitgenius.ru",h.jsx("br",{}),"Тел.: +375 29 897-52-19"]})]})]})}):null}function C6(){const[t,e]=N.useState(!1),[n,s]=N.useState(!1);return h.jsxs("footer",{className:"main-footer",children:[h.jsx(S6,{open:t,onClose:()=>e(!1)}),h.jsx(A6,{open:n,onClose:()=>s(!1)}),h.jsxs("div",{className:"footer-top",children:[h.jsxs("div",{className:"footer-block",children:[h.jsx("b",{children:"ИП Лаптинский Александр Владимирович"}),h.jsx("br",{}),"Свидетельство о гос регистрации №391986581, выдано 19.09.2023 Оршанским районным исполнительным комитетом.",h.jsx("br",{}),"211389, Республика Беларусь, г. Орша, ул. Могилёвская, 99-19."]}),h.jsxs("div",{className:"footer-block",children:[h.jsx("button",{className:"footer-link",style:{background:"none",border:"none",padding:0,cursor:"pointer"},onClick:()=>e(!0),children:"Договор Оферты"}),h.jsx("br",{}),h.jsx("button",{className:"footer-link",style:{background:"none",border:"none",padding:0,cursor:"pointer"},onClick:()=>s(!0),children:"Политика Конфиденциальности"})]}),h.jsxs("div",{className:"footer-block",children:[h.jsx("span",{style:{fontWeight:600},children:"+375 29 897-52-19"}),h.jsx("br",{}),h.jsx("a",{href:"mailto:support@fitgenius.ru",className:"footer-link",children:"support@fitgenius.ru"}),h.jsx("br",{})]})]}),h.jsx("div",{className:"footer-pay-logos",children:h.jsx("img",{src:"/fitness-planner/footer-pay-logos.png",alt:"Платёжные системы",className:"footer-pay-logos-img"})})]})}function R6(){return N.useEffect(()=>{async function t(){let e="";try{e=(await(await fetch("https://api.ipify.org?format=json")).json()).ip}catch{}const n=localStorage.getItem("fitgenius_user")||null,s=navigator.userAgent,a=window.location.pathname;HV({email:n,ip:e,userAgent:s,page:a})}t()},[]),h.jsxs($N,{children:[h.jsx(x6,{}),h.jsxs(EN,{children:[h.jsx(Qt,{path:"/",element:h.jsx(nI,{})}),h.jsx(Qt,{path:"/choose",element:h.jsx(iI,{})}),h.jsx(Qt,{path:"/questionnaire",element:h.jsx(KV,{})}),h.jsx(Qt,{path:"/pay",element:h.jsx(p6,{})}),h.jsx(Qt,{path:"/payment",element:h.jsx(M9,{})}),h.jsx(Qt,{path:"/dashboard",element:h.jsx(E6,{children:h.jsx(z9,{})})}),h.jsx(Qt,{path:"/about",element:h.jsx(F9,{})}),h.jsx(Qt,{path:"/reviews",element:h.jsx(G9,{})}),h.jsx(Qt,{path:"/blog",element:h.jsx($9,{})}),h.jsx(Qt,{path:"/faq",element:h.jsx(Q9,{})}),h.jsx(Qt,{path:"/contacts",element:h.jsx(X9,{})}),h.jsx(Qt,{path:"/login",element:h.jsx(W9,{})}),h.jsx(Qt,{path:"/register",element:h.jsx(Z9,{})}),h.jsx(Qt,{path:"/admin",element:h.jsx(b6,{children:h.jsx(h6,{})})}),h.jsx(Qt,{path:"/prices",element:h.jsx(_6,{})}),h.jsx(Qt,{path:"*",element:h.jsx(w6,{})})]}),h.jsx(C6,{})]})}const N6=()=>{if(!window.location.search.includes("_t=")){const e=Date.now(),n=window.location.search?"&":"?",s=`${window.location.href}${n}_t=${e}`;window.location.replace(s)}},I6=()=>{"caches"in window&&caches.keys().then(t=>{t.forEach(e=>{caches.delete(e),console.log(`Cache ${e} deleted`)})})},j6=()=>{Array.from(document.styleSheets).forEach(e=>{if(e.href){const n=document.createElement("link");n.rel="stylesheet",n.href=`${e.href.split("?")[0]}?_t=${Date.now()}`,document.head.appendChild(n),n.onload=()=>{const s=document.querySelector(`link[href="${e.href}"]`);s&&s.remove()}}})},WC=()=>{I6(),j6(),N6(),localStorage.setItem("cache_version",Date.now().toString()),console.log("Cache cleared and resources refreshed at:",new Date().toISOString())};window.addEventListener("load",WC);document.addEventListener("visibilitychange",()=>{if(document.visibilityState==="visible"){const t=localStorage.getItem("cache_version"),e=Date.now();(!t||e-parseInt(t)>5*60*1e3)&&WC()}});j2.createRoot(document.getElementById("root")).render(h.jsx(N.StrictMode,{children:h.jsx(R6,{})}));
