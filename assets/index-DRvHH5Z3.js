(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var Op={exports:{}},Ec={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fx;function wR(){if(fx)return Ec;fx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return Ec.Fragment=e,Ec.jsx=n,Ec.jsxs=n,Ec}var mx;function SR(){return mx||(mx=1,Op.exports=wR()),Op.exports}var h=SR(),Lp={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var px;function AR(){if(px)return Ne;px=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.iterator;function T(L){return L===null||typeof L!="object"?null:(L=x&&L[x]||L["@@iterator"],typeof L=="function"?L:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,j={};function M(L,oe,ue){this.props=L,this.context=oe,this.refs=j,this.updater=ue||w}M.prototype.isReactComponent={},M.prototype.setState=function(L,oe){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,oe,"setState")},M.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function V(){}V.prototype=M.prototype;function Y(L,oe,ue){this.props=L,this.context=oe,this.refs=j,this.updater=ue||w}var H=Y.prototype=new V;H.constructor=Y,S(H,M.prototype),H.isPureReactComponent=!0;var te=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function N(L,oe,ue,Z,he,ye){return ue=ye.ref,{$$typeof:t,type:L,key:oe,ref:ue!==void 0?ue:null,props:ye}}function C(L,oe){return N(L.type,oe,void 0,void 0,void 0,L.props)}function D(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function O(L){var oe={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ue){return oe[ue]})}var B=/\/+/g;function q(L,oe){return typeof L=="object"&&L!==null&&L.key!=null?O(""+L.key):oe.toString(36)}function k(){}function st(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(k,k):(L.status="pending",L.then(function(oe){L.status==="pending"&&(L.status="fulfilled",L.value=oe)},function(oe){L.status==="pending"&&(L.status="rejected",L.reason=oe)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Ge(L,oe,ue,Z,he){var ye=typeof L;(ye==="undefined"||ye==="boolean")&&(L=null);var Te=!1;if(L===null)Te=!0;else switch(ye){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(L.$$typeof){case t:case e:Te=!0;break;case v:return Te=L._init,Ge(Te(L._payload),oe,ue,Z,he)}}if(Te)return he=he(L),Te=Z===""?"."+q(L,0):Z,te(he)?(ue="",Te!=null&&(ue=Te.replace(B,"$&/")+"/"),Ge(he,oe,ue,"",function(Rn){return Rn})):he!=null&&(D(he)&&(he=C(he,ue+(he.key==null||L&&L.key===he.key?"":(""+he.key).replace(B,"$&/")+"/")+Te)),oe.push(he)),1;Te=0;var wt=Z===""?".":Z+":";if(te(L))for(var Ze=0;Ze<L.length;Ze++)Z=L[Ze],ye=wt+q(Z,Ze),Te+=Ge(Z,oe,ue,ye,he);else if(Ze=T(L),typeof Ze=="function")for(L=Ze.call(L),Ze=0;!(Z=L.next()).done;)Z=Z.value,ye=wt+q(Z,Ze++),Te+=Ge(Z,oe,ue,ye,he);else if(ye==="object"){if(typeof L.then=="function")return Ge(st(L),oe,ue,Z,he);throw oe=String(L),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return Te}function ee(L,oe,ue){if(L==null)return L;var Z=[],he=0;return Ge(L,Z,"","",function(ye){return oe.call(ue,ye,he++)}),Z}function le(L){if(L._status===-1){var oe=L._result;oe=oe(),oe.then(function(ue){(L._status===0||L._status===-1)&&(L._status=1,L._result=ue)},function(ue){(L._status===0||L._status===-1)&&(L._status=2,L._result=ue)}),L._status===-1&&(L._status=0,L._result=oe)}if(L._status===1)return L._result.default;throw L._result}var fe=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function Ve(){}return Ne.Children={map:ee,forEach:function(L,oe,ue){ee(L,function(){oe.apply(this,arguments)},ue)},count:function(L){var oe=0;return ee(L,function(){oe++}),oe},toArray:function(L){return ee(L,function(oe){return oe})||[]},only:function(L){if(!D(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ne.Component=M,Ne.Fragment=n,Ne.Profiler=a,Ne.PureComponent=Y,Ne.StrictMode=s,Ne.Suspense=m,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(L){return F.H.useMemoCache(L)}},Ne.cache=function(L){return function(){return L.apply(null,arguments)}},Ne.cloneElement=function(L,oe,ue){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var Z=S({},L.props),he=L.key,ye=void 0;if(oe!=null)for(Te in oe.ref!==void 0&&(ye=void 0),oe.key!==void 0&&(he=""+oe.key),oe)!U.call(oe,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&oe.ref===void 0||(Z[Te]=oe[Te]);var Te=arguments.length-2;if(Te===1)Z.children=ue;else if(1<Te){for(var wt=Array(Te),Ze=0;Ze<Te;Ze++)wt[Ze]=arguments[Ze+2];Z.children=wt}return N(L.type,he,void 0,void 0,ye,Z)},Ne.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Ne.createElement=function(L,oe,ue){var Z,he={},ye=null;if(oe!=null)for(Z in oe.key!==void 0&&(ye=""+oe.key),oe)U.call(oe,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(he[Z]=oe[Z]);var Te=arguments.length-2;if(Te===1)he.children=ue;else if(1<Te){for(var wt=Array(Te),Ze=0;Ze<Te;Ze++)wt[Ze]=arguments[Ze+2];he.children=wt}if(L&&L.defaultProps)for(Z in Te=L.defaultProps,Te)he[Z]===void 0&&(he[Z]=Te[Z]);return N(L,ye,void 0,void 0,null,he)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(L){return{$$typeof:d,render:L}},Ne.isValidElement=D,Ne.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:le}},Ne.memo=function(L,oe){return{$$typeof:g,type:L,compare:oe===void 0?null:oe}},Ne.startTransition=function(L){var oe=F.T,ue={};F.T=ue;try{var Z=L(),he=F.S;he!==null&&he(ue,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(Ve,fe)}catch(ye){fe(ye)}finally{F.T=oe}},Ne.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Ne.use=function(L){return F.H.use(L)},Ne.useActionState=function(L,oe,ue){return F.H.useActionState(L,oe,ue)},Ne.useCallback=function(L,oe){return F.H.useCallback(L,oe)},Ne.useContext=function(L){return F.H.useContext(L)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(L,oe){return F.H.useDeferredValue(L,oe)},Ne.useEffect=function(L,oe,ue){var Z=F.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(L,oe)},Ne.useId=function(){return F.H.useId()},Ne.useImperativeHandle=function(L,oe,ue){return F.H.useImperativeHandle(L,oe,ue)},Ne.useInsertionEffect=function(L,oe){return F.H.useInsertionEffect(L,oe)},Ne.useLayoutEffect=function(L,oe){return F.H.useLayoutEffect(L,oe)},Ne.useMemo=function(L,oe){return F.H.useMemo(L,oe)},Ne.useOptimistic=function(L,oe){return F.H.useOptimistic(L,oe)},Ne.useReducer=function(L,oe,ue){return F.H.useReducer(L,oe,ue)},Ne.useRef=function(L){return F.H.useRef(L)},Ne.useState=function(L){return F.H.useState(L)},Ne.useSyncExternalStore=function(L,oe,ue){return F.H.useSyncExternalStore(L,oe,ue)},Ne.useTransition=function(){return F.H.useTransition()},Ne.version="19.1.0",Ne}var gx;function my(){return gx||(gx=1,Lp.exports=AR()),Lp.exports}var I=my(),Up={exports:{}},bc={},Bp={exports:{}},zp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yx;function CR(){return yx||(yx=1,function(t){function e(ee,le){var fe=ee.length;ee.push(le);e:for(;0<fe;){var Ve=fe-1>>>1,L=ee[Ve];if(0<a(L,le))ee[Ve]=le,ee[fe]=L,fe=Ve;else break e}}function n(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var le=ee[0],fe=ee.pop();if(fe!==le){ee[0]=fe;e:for(var Ve=0,L=ee.length,oe=L>>>1;Ve<oe;){var ue=2*(Ve+1)-1,Z=ee[ue],he=ue+1,ye=ee[he];if(0>a(Z,fe))he<L&&0>a(ye,Z)?(ee[Ve]=ye,ee[he]=fe,Ve=he):(ee[Ve]=Z,ee[ue]=fe,Ve=ue);else if(he<L&&0>a(ye,fe))ee[Ve]=ye,ee[he]=fe,Ve=he;else break e}}return le}function a(ee,le){var fe=ee.sortIndex-le.sortIndex;return fe!==0?fe:ee.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var m=[],g=[],v=1,x=null,T=3,w=!1,S=!1,j=!1,M=!1,V=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function te(ee){for(var le=n(g);le!==null;){if(le.callback===null)s(g);else if(le.startTime<=ee)s(g),le.sortIndex=le.expirationTime,e(m,le);else break;le=n(g)}}function F(ee){if(j=!1,te(ee),!S)if(n(m)!==null)S=!0,U||(U=!0,q());else{var le=n(g);le!==null&&Ge(F,le.startTime-ee)}}var U=!1,N=-1,C=5,D=-1;function O(){return M?!0:!(t.unstable_now()-D<C)}function B(){if(M=!1,U){var ee=t.unstable_now();D=ee;var le=!0;try{e:{S=!1,j&&(j=!1,Y(N),N=-1),w=!0;var fe=T;try{t:{for(te(ee),x=n(m);x!==null&&!(x.expirationTime>ee&&O());){var Ve=x.callback;if(typeof Ve=="function"){x.callback=null,T=x.priorityLevel;var L=Ve(x.expirationTime<=ee);if(ee=t.unstable_now(),typeof L=="function"){x.callback=L,te(ee),le=!0;break t}x===n(m)&&s(m),te(ee)}else s(m);x=n(m)}if(x!==null)le=!0;else{var oe=n(g);oe!==null&&Ge(F,oe.startTime-ee),le=!1}}break e}finally{x=null,T=fe,w=!1}le=void 0}}finally{le?q():U=!1}}}var q;if(typeof H=="function")q=function(){H(B)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,st=k.port2;k.port1.onmessage=B,q=function(){st.postMessage(null)}}else q=function(){V(B,0)};function Ge(ee,le){N=V(function(){ee(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(ee){switch(T){case 1:case 2:case 3:var le=3;break;default:le=T}var fe=T;T=le;try{return ee()}finally{T=fe}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(ee,le){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var fe=T;T=ee;try{return le()}finally{T=fe}},t.unstable_scheduleCallback=function(ee,le,fe){var Ve=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ve+fe:Ve):fe=Ve,ee){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=fe+L,ee={id:v++,callback:le,priorityLevel:ee,startTime:fe,expirationTime:L,sortIndex:-1},fe>Ve?(ee.sortIndex=fe,e(g,ee),n(m)===null&&ee===n(g)&&(j?(Y(N),N=-1):j=!0,Ge(F,fe-Ve))):(ee.sortIndex=L,e(m,ee),S||w||(S=!0,U||(U=!0,q()))),ee},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(ee){var le=T;return function(){var fe=T;T=le;try{return ee.apply(this,arguments)}finally{T=fe}}}}(zp)),zp}var vx;function RR(){return vx||(vx=1,Bp.exports=CR()),Bp.exports}var Fp={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _x;function NR(){if(_x)return sn;_x=1;var t=my();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:m,containerInfo:g,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,sn.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,v)},sn.flushSync=function(m){var g=u.T,v=s.p;try{if(u.T=null,s.p=2,m)return m()}finally{u.T=g,s.p=v,s.d.f()}},sn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},sn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},sn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,x=d(v,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:x,integrity:T,fetchPriority:w}):v==="script"&&s.d.X(m,{crossOrigin:x,integrity:T,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},sn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},sn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,x=d(v,g.crossOrigin);s.d.L(m,v,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},sn.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},sn.requestFormReset=function(m){s.d.r(m)},sn.unstable_batchedUpdates=function(m,g){return m(g)},sn.useFormState=function(m,g,v){return u.H.useFormState(m,g,v)},sn.useFormStatus=function(){return u.H.useHostTransitionStatus()},sn.version="19.1.0",sn}var xx;function IR(){if(xx)return Fp.exports;xx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fp.exports=NR(),Fp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tx;function jR(){if(Tx)return bc;Tx=1;var t=RR(),e=my(),n=IR();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var p=o.return;if(p===null)break;var y=p.alternate;if(y===null){if(c=p.return,c!==null){o=c;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===o)return d(p),i;if(y===c)return d(p),r;y=y.sibling}throw Error(s(188))}if(o.return!==c.return)o=p,c=y;else{for(var b=!1,A=p.child;A;){if(A===o){b=!0,o=p,c=y;break}if(A===c){b=!0,c=p,o=y;break}A=A.sibling}if(!b){for(A=y.child;A;){if(A===o){b=!0,o=y,c=p;break}if(A===c){b=!0,c=y,o=p;break}A=A.sibling}if(!b)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function g(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=g(i),r!==null)return r;i=i.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),Y=Symbol.for("react.consumer"),H=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function q(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var k=Symbol.for("react.client.reference");function st(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===k?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case M:return"Profiler";case j:return"StrictMode";case F:return"Suspense";case U:return"SuspenseList";case D:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case H:return(i.displayName||"Context")+".Provider";case Y:return(i._context.displayName||"Context")+".Consumer";case te:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return r=i.displayName||null,r!==null?r:st(i.type)||"Memo";case C:r=i._payload,i=i._init;try{return st(i(r))}catch{}}return null}var Ge=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ve=[],L=-1;function oe(i){return{current:i}}function ue(i){0>L||(i.current=Ve[L],Ve[L]=null,L--)}function Z(i,r){L++,Ve[L]=i.current,i.current=r}var he=oe(null),ye=oe(null),Te=oe(null),wt=oe(null);function Ze(i,r){switch(Z(Te,r),Z(ye,i),Z(he,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?z_(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=z_(r),i=F_(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ue(he),Z(he,i)}function Rn(){ue(he),ue(ye),ue(Te)}function $e(i){i.memoizedState!==null&&Z(wt,i);var r=he.current,o=F_(r,i.type);r!==o&&(Z(ye,i),Z(he,o))}function hn(i){ye.current===i&&(ue(he),ue(ye)),wt.current===i&&(ue(wt),yc._currentValue=fe)}var _n=Object.prototype.hasOwnProperty,Pr=t.unstable_scheduleCallback,Vr=t.unstable_cancelCallback,ml=t.unstable_shouldYield,Nu=t.unstable_requestPaint,Bn=t.unstable_now,Of=t.unstable_getCurrentPriorityLevel,pl=t.unstable_ImmediatePriority,Ba=t.unstable_UserBlockingPriority,Or=t.unstable_NormalPriority,Lf=t.unstable_LowPriority,za=t.unstable_IdlePriority,gl=t.log,Iu=t.unstable_setDisableYieldValue,pt=null,Qe=null;function Nn(i){if(typeof gl=="function"&&Iu(i),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(pt,i)}catch{}}var tn=Math.clz32?Math.clz32:Lr,ju=Math.log,Uf=Math.LN2;function Lr(i){return i>>>=0,i===0?32:31-(ju(i)/Uf|0)|0}var Ur=256,Br=4194304;function oi(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Fa(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var p=0,y=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var A=c&134217727;return A!==0?(c=A&~y,c!==0?p=oi(c):(b&=A,b!==0?p=oi(b):o||(o=A&~i,o!==0&&(p=oi(o))))):(A=c&~y,A!==0?p=oi(A):b!==0?p=oi(b):o||(o=c&~i,o!==0&&(p=oi(o)))),p===0?0:r!==0&&r!==p&&(r&y)===0&&(y=p&-p,o=r&-r,y>=o||y===32&&(o&4194048)!==0)?r:p}function zr(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function yl(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vl(){var i=Ur;return Ur<<=1,(Ur&4194048)===0&&(Ur=256),i}function _l(){var i=Br;return Br<<=1,(Br&62914560)===0&&(Br=4194304),i}function Wi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Zi(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function xl(i,r,o,c,p,y){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,P=i.expirationTimes,Q=i.hiddenUpdates;for(o=b&~o;0<o;){var ne=31-tn(o),re=1<<ne;A[ne]=0,P[ne]=-1;var X=Q[ne];if(X!==null)for(Q[ne]=null,ne=0;ne<X.length;ne++){var W=X[ne];W!==null&&(W.lane&=-536870913)}o&=~re}c!==0&&Ti(i,c,0),y!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=y&~(b&~r))}function Ti(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-tn(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&4194090}function Tl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-tn(o),p=1<<c;p&r|i[c]&r&&(i[c]|=r),o&=~p}}function Ps(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ha(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Vs(){var i=le.p;return i!==0?i:(i=window.event,i===void 0?32:ox(i.type))}function Du(i,r){var o=le.p;try{return le.p=i,r()}finally{le.p=o}}var lt=Math.random().toString(36).slice(2),Dt="__reactFiber$"+lt,St="__reactProps$"+lt,zn="__reactContainer$"+lt,El="__reactEvents$"+lt,Bf="__reactListeners$"+lt,Os="__reactHandles$"+lt,Mu="__reactResources$"+lt,Fr="__reactMarker$"+lt;function Ls(i){delete i[Dt],delete i[St],delete i[El],delete i[Bf],delete i[Os]}function Ji(i){var r=i[Dt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[zn]||o[Dt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=$_(i);i!==null;){if(o=i[Dt])return o;i=$_(i)}return r}i=o,o=i.parentNode}return null}function Ei(i){if(i=i[Dt]||i[zn]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function bi(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function dn(i){var r=i[Mu];return r||(r=i[Mu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function _t(i){i[Fr]=!0}var bl=new Set,qa={};function li(i,r){es(i,r),es(i+"Capture",r)}function es(i,r){for(qa[i]=r,i=0;i<r.length;i++)bl.add(r[i])}var ku=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pu={},Hr={};function Vu(i){return _n.call(Hr,i)?!0:_n.call(Pu,i)?!1:ku.test(i)?Hr[i]=!0:(Pu[i]=!0,!1)}function Us(i,r,o){if(Vu(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function wi(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function qt(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}var qr,Ou;function ts(i){if(qr===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);qr=r&&r[1]||"",Ou=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qr+i+Ou}var Ga=!1;function $a(i,r){if(!i||Ga)return"";Ga=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(W){var X=W}Reflect.construct(i,[],re)}else{try{re.call()}catch(W){X=W}i.call(re.prototype)}}else{try{throw Error()}catch(W){X=W}(re=i())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(W){if(W&&X&&typeof W.stack=="string")return[W.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),b=y[0],A=y[1];if(b&&A){var P=b.split(`
`),Q=A.split(`
`);for(p=c=0;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;for(;p<Q.length&&!Q[p].includes("DetermineComponentFrameRoot");)p++;if(c===P.length||p===Q.length)for(c=P.length-1,p=Q.length-1;1<=c&&0<=p&&P[c]!==Q[p];)p--;for(;1<=c&&0<=p;c--,p--)if(P[c]!==Q[p]){if(c!==1||p!==1)do if(c--,p--,0>p||P[c]!==Q[p]){var ne=`
`+P[c].replace(" at new "," at ");return i.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",i.displayName)),ne}while(1<=c&&0<=p);break}}}finally{Ga=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?ts(o):""}function wl(i){switch(i.tag){case 26:case 27:case 5:return ts(i.type);case 16:return ts("Lazy");case 13:return ts("Suspense");case 19:return ts("SuspenseList");case 0:case 15:return $a(i.type,!1);case 11:return $a(i.type.render,!1);case 1:return $a(i.type,!0);case 31:return ts("Activity");default:return""}}function Ka(i){try{var r="";do r+=wl(i),i=i.return;while(i);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function fn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Sl(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function zf(i){var r=Sl(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),c=""+i[r];if(!i.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var p=o.get,y=o.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return p.call(this)},set:function(b){c=""+b,y.call(this,b)}}),Object.defineProperty(i,r,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(b){c=""+b},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Ya(i){i._valueTracker||(i._valueTracker=zf(i))}function Al(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=Sl(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function Gr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ff=/[\n"\\]/g;function At(i){return i.replace(Ff,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function In(i,r,o,c,p,y,b,A){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),r!=null?b==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+fn(r)):i.value!==""+fn(r)&&(i.value=""+fn(r)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),r!=null?Bs(i,b,fn(r)):o!=null?Bs(i,b,fn(o)):c!=null&&i.removeAttribute("value"),p==null&&y!=null&&(i.defaultChecked=!!y),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+fn(A):i.removeAttribute("name")}function $r(i,r,o,c,p,y,b,A){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),r!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||r!=null))return;o=o!=null?""+fn(o):"",r=r!=null?""+fn(r):o,A||r===i.value||(i.value=r),i.defaultValue=r}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=A?i.checked:!!c,i.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b)}function Bs(i,r,o){r==="number"&&Gr(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function ns(i,r,o,c){if(i=i.options,r){r={};for(var p=0;p<o.length;p++)r["$"+o[p]]=!0;for(o=0;o<i.length;o++)p=r.hasOwnProperty("$"+i[o].value),i[o].selected!==p&&(i[o].selected=p),p&&c&&(i[o].defaultSelected=!0)}else{for(o=""+fn(o),r=null,p=0;p<i.length;p++){if(i[p].value===o){i[p].selected=!0,c&&(i[p].defaultSelected=!0);return}r!==null||i[p].disabled||(r=i[p])}r!==null&&(r.selected=!0)}}function Je(i,r,o){if(r!=null&&(r=""+fn(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+fn(o):""}function Kr(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(Ge(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=fn(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c)}function Fn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Yr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lu(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||Yr.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Cl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var p in r)c=r[p],r.hasOwnProperty(p)&&o[p]!==c&&Lu(i,p,c)}else for(var y in r)r.hasOwnProperty(y)&&Lu(i,y,r[y])}function Rl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qa(i){return qf.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var is=null;function Hn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ss=null,rs=null;function Nl(i){var r=Ei(i);if(r&&(i=r.stateNode)){var o=i[St]||null;e:switch(i=r.stateNode,r.type){case"input":if(In(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+At(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var p=c[St]||null;if(!p)throw Error(s(90));In(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&Al(c)}break e;case"textarea":Je(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&ns(i,!!o.multiple,r,!1)}}}var Si=!1;function Uu(i,r,o){if(Si)return i(r,o);Si=!0;try{var c=i(r);return c}finally{if(Si=!1,(ss!==null||rs!==null)&&(Dh(),ss&&(r=ss,i=rs,rs=ss=null,Nl(r),i)))for(r=0;r<i.length;r++)Nl(i[r])}}function Qr(i,r){var o=i.stateNode;if(o===null)return null;var c=o[St]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qn=!1;if(ci)try{var Xr={};Object.defineProperty(Xr,"passive",{get:function(){qn=!0}}),window.addEventListener("test",Xr,Xr),window.removeEventListener("test",Xr,Xr)}catch{qn=!1}var Ai=null,zs=null,as=null;function Il(){if(as)return as;var i,r=zs,o=r.length,c,p="value"in Ai?Ai.value:Ai.textContent,y=p.length;for(i=0;i<o&&r[i]===p[i];i++);var b=o-i;for(c=1;c<=b&&r[o-c]===p[y-c];c++);return as=p.slice(i,1<c?1-c:void 0)}function Ci(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Ri(){return!0}function jl(){return!1}function Lt(i){function r(o,c,p,y,b){this._reactName=o,this._targetInst=p,this.type=c,this.nativeEvent=y,this.target=b,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ri:jl,this.isPropagationStopped=jl,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ri)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ri)},persist:function(){},isPersistent:Ri}),r}var Ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xa=Lt(Ke),Wr=v({},Ke,{view:0,detail:0}),Bu=Lt(Wr),Wa,Za,Ni,Zr=v({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ta,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ni&&(Ni&&i.type==="mousemove"?(Wa=i.screenX-Ni.screenX,Za=i.screenY-Ni.screenY):Za=Wa=0,Ni=i),Wa)},movementY:function(i){return"movementY"in i?i.movementY:Za}}),Gn=Lt(Zr),zu=v({},Zr,{dataTransfer:0}),Gf=Lt(zu),Jr=v({},Wr,{relatedTarget:0}),Ja=Lt(Jr),Dl=v({},Ke,{animationName:0,elapsedTime:0,pseudoElement:0}),eo=Lt(Dl),Fu=v({},Ke,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),to=Lt(Fu),$f=v({},Ke,{data:0}),Ml=Lt($f),ea={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kl(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=qu[i])?!!r[i]:!1}function ta(){return kl}var Gu=v({},Wr,{key:function(i){if(i.key){var r=ea[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Ci(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Hu[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ta,charCode:function(i){return i.type==="keypress"?Ci(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ci(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),no=Lt(Gu),$u=v({},Zr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pl=Lt($u),os=v({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ta}),Ku=Lt(os),Yu=v({},Ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qu=Lt(Yu),Xu=v({},Zr,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),io=Lt(Xu),mn=v({},Ke,{newState:0,oldState:0}),Wu=Lt(mn),Zu=[9,13,27,32],Ii=ci&&"CompositionEvent"in window,f=null;ci&&"documentMode"in document&&(f=document.documentMode);var _=ci&&"TextEvent"in window&&!f,E=ci&&(!Ii||f&&8<f&&11>=f),R=" ",$=!1;function J(i,r){switch(i){case"keyup":return Zu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ue=!1;function Mt(i,r){switch(i){case"compositionend":return ce(r);case"keypress":return r.which!==32?null:($=!0,R);case"textInput":return i=r.data,i===R&&$?null:i;default:return null}}function Be(i,r){if(Ue)return i==="compositionend"||!Ii&&J(i,r)?(i=Il(),as=zs=Ai=null,Ue=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return E&&r.locale!=="ko"?null:r.data;default:return null}}var Ut={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kt(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Ut[i.type]:r==="textarea"}function ls(i,r,o,c){ss?rs?rs.push(c):rs=[c]:ss=c,r=Lh(r,"onChange"),0<r.length&&(o=new Xa("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var Gt=null,ji=null;function Vl(i){V_(i,0)}function Ju(i){var r=bi(i);if(Al(r))return i}function i0(i,r){if(i==="change")return r}var s0=!1;if(ci){var Kf;if(ci){var Yf="oninput"in document;if(!Yf){var r0=document.createElement("div");r0.setAttribute("oninput","return;"),Yf=typeof r0.oninput=="function"}Kf=Yf}else Kf=!1;s0=Kf&&(!document.documentMode||9<document.documentMode)}function a0(){Gt&&(Gt.detachEvent("onpropertychange",o0),ji=Gt=null)}function o0(i){if(i.propertyName==="value"&&Ju(ji)){var r=[];ls(r,ji,i,Hn(i)),Uu(Vl,r)}}function eC(i,r,o){i==="focusin"?(a0(),Gt=r,ji=o,Gt.attachEvent("onpropertychange",o0)):i==="focusout"&&a0()}function tC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ju(ji)}function nC(i,r){if(i==="click")return Ju(r)}function iC(i,r){if(i==="input"||i==="change")return Ju(r)}function sC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var jn=typeof Object.is=="function"?Object.is:sC;function Ol(i,r){if(jn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var p=o[c];if(!_n.call(r,p)||!jn(i[p],r[p]))return!1}return!0}function l0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function c0(i,r){var o=l0(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=l0(o)}}function u0(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?u0(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function h0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Gr(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Gr(i.document)}return r}function Qf(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var rC=ci&&"documentMode"in document&&11>=document.documentMode,so=null,Xf=null,Ll=null,Wf=!1;function d0(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Wf||so==null||so!==Gr(c)||(c=so,"selectionStart"in c&&Qf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ll&&Ol(Ll,c)||(Ll=c,c=Lh(Xf,"onSelect"),0<c.length&&(r=new Xa("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=so)))}function na(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var ro={animationend:na("Animation","AnimationEnd"),animationiteration:na("Animation","AnimationIteration"),animationstart:na("Animation","AnimationStart"),transitionrun:na("Transition","TransitionRun"),transitionstart:na("Transition","TransitionStart"),transitioncancel:na("Transition","TransitionCancel"),transitionend:na("Transition","TransitionEnd")},Zf={},f0={};ci&&(f0=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function ia(i){if(Zf[i])return Zf[i];if(!ro[i])return i;var r=ro[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in f0)return Zf[i]=r[o];return i}var m0=ia("animationend"),p0=ia("animationiteration"),g0=ia("animationstart"),aC=ia("transitionrun"),oC=ia("transitionstart"),lC=ia("transitioncancel"),y0=ia("transitionend"),v0=new Map,Jf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jf.push("scrollEnd");function ui(i,r){v0.set(i,r),li(r,[i])}var _0=new WeakMap;function $n(i,r){if(typeof i=="object"&&i!==null){var o=_0.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Ka(r)},_0.set(i,r),r)}return{value:i,source:r,stack:Ka(r)}}var Kn=[],ao=0,em=0;function eh(){for(var i=ao,r=em=ao=0;r<i;){var o=Kn[r];Kn[r++]=null;var c=Kn[r];Kn[r++]=null;var p=Kn[r];Kn[r++]=null;var y=Kn[r];if(Kn[r++]=null,c!==null&&p!==null){var b=c.pending;b===null?p.next=p:(p.next=b.next,b.next=p),c.pending=p}y!==0&&x0(o,p,y)}}function th(i,r,o,c){Kn[ao++]=i,Kn[ao++]=r,Kn[ao++]=o,Kn[ao++]=c,em|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function tm(i,r,o,c){return th(i,r,o,c),nh(i)}function oo(i,r){return th(i,null,null,r),nh(i)}function x0(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var p=!1,y=i.return;y!==null;)y.childLanes|=o,c=y.alternate,c!==null&&(c.childLanes|=o),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(p=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,p&&r!==null&&(p=31-tn(o),i=y.hiddenUpdates,c=i[p],c===null?i[p]=[r]:c.push(r),r.lane=o|536870912),y):null}function nh(i){if(50<cc)throw cc=0,op=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var lo={};function cC(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(i,r,o,c){return new cC(i,r,o,c)}function nm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function cs(i,r){var o=i.alternate;return o===null?(o=Dn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function T0(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function ih(i,r,o,c,p,y){var b=0;if(c=i,typeof i=="function")nm(i)&&(b=1);else if(typeof i=="string")b=hR(i,o,he.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case D:return i=Dn(31,o,r,p),i.elementType=D,i.lanes=y,i;case S:return sa(o.children,p,y,r);case j:b=8,p|=24;break;case M:return i=Dn(12,o,r,p|2),i.elementType=M,i.lanes=y,i;case F:return i=Dn(13,o,r,p),i.elementType=F,i.lanes=y,i;case U:return i=Dn(19,o,r,p),i.elementType=U,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:case H:b=10;break e;case Y:b=9;break e;case te:b=11;break e;case N:b=14;break e;case C:b=16,c=null;break e}b=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=Dn(b,o,r,p),r.elementType=i,r.type=c,r.lanes=y,r}function sa(i,r,o,c){return i=Dn(7,i,c,r),i.lanes=o,i}function im(i,r,o){return i=Dn(6,i,null,r),i.lanes=o,i}function sm(i,r,o){return r=Dn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var co=[],uo=0,sh=null,rh=0,Yn=[],Qn=0,ra=null,us=1,hs="";function aa(i,r){co[uo++]=rh,co[uo++]=sh,sh=i,rh=r}function E0(i,r,o){Yn[Qn++]=us,Yn[Qn++]=hs,Yn[Qn++]=ra,ra=i;var c=us;i=hs;var p=32-tn(c)-1;c&=~(1<<p),o+=1;var y=32-tn(r)+p;if(30<y){var b=p-p%5;y=(c&(1<<b)-1).toString(32),c>>=b,p-=b,us=1<<32-tn(r)+p|o<<p|c,hs=y+i}else us=1<<y|o<<p|c,hs=i}function rm(i){i.return!==null&&(aa(i,1),E0(i,1,0))}function am(i){for(;i===sh;)sh=co[--uo],co[uo]=null,rh=co[--uo],co[uo]=null;for(;i===ra;)ra=Yn[--Qn],Yn[Qn]=null,hs=Yn[--Qn],Yn[Qn]=null,us=Yn[--Qn],Yn[Qn]=null}var pn=null,gt=null,qe=!1,oa=null,Di=!1,om=Error(s(519));function la(i){var r=Error(s(418,""));throw zl($n(r,i)),om}function b0(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[Dt]=i,r[St]=c,o){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(o=0;o<hc.length;o++)Pe(hc[o],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Pe("invalid",r),$r(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Ya(r);break;case"select":Pe("invalid",r);break;case"textarea":Pe("invalid",r),Kr(r,c.value,c.defaultValue,c.children),Ya(r)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||B_(r.textContent,o)?(c.popover!=null&&(Pe("beforetoggle",r),Pe("toggle",r)),c.onScroll!=null&&Pe("scroll",r),c.onScrollEnd!=null&&Pe("scrollend",r),c.onClick!=null&&(r.onclick=Uh),r=!0):r=!1,r||la(i)}function w0(i){for(pn=i.return;pn;)switch(pn.tag){case 5:case 13:Di=!1;return;case 27:case 3:Di=!0;return;default:pn=pn.return}}function Ul(i){if(i!==pn)return!1;if(!qe)return w0(i),qe=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||bp(i.type,i.memoizedProps)),o=!o),o&&gt&&la(i),w0(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));e:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(r===0){gt=di(i.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;i=i.nextSibling}gt=null}}else r===27?(r=gt,ir(i.type)?(i=Cp,Cp=null,gt=i):gt=r):gt=pn?di(i.stateNode.nextSibling):null;return!0}function Bl(){gt=pn=null,qe=!1}function S0(){var i=oa;return i!==null&&(En===null?En=i:En.push.apply(En,i),oa=null),i}function zl(i){oa===null?oa=[i]:oa.push(i)}var lm=oe(null),ca=null,ds=null;function Fs(i,r,o){Z(lm,r._currentValue),r._currentValue=o}function fs(i){i._currentValue=lm.current,ue(lm)}function cm(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function um(i,r,o,c){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var y=p.dependencies;if(y!==null){var b=p.child;y=y.firstContext;e:for(;y!==null;){var A=y;y=p;for(var P=0;P<r.length;P++)if(A.context===r[P]){y.lanes|=o,A=y.alternate,A!==null&&(A.lanes|=o),cm(y.return,o,i),c||(b=null);break e}y=A.next}}else if(p.tag===18){if(b=p.return,b===null)throw Error(s(341));b.lanes|=o,y=b.alternate,y!==null&&(y.lanes|=o),cm(b,o,i),b=null}else b=p.child;if(b!==null)b.return=p;else for(b=p;b!==null;){if(b===i){b=null;break}if(p=b.sibling,p!==null){p.return=b.return,b=p;break}b=b.return}p=b}}function Fl(i,r,o,c){i=null;for(var p=r,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var b=p.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var A=p.type;jn(p.pendingProps.value,b.value)||(i!==null?i.push(A):i=[A])}}else if(p===wt.current){if(b=p.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(yc):i=[yc])}p=p.return}i!==null&&um(r,i,o,c),r.flags|=262144}function ah(i){for(i=i.firstContext;i!==null;){if(!jn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ua(i){ca=i,ds=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function nn(i){return A0(ca,i)}function oh(i,r){return ca===null&&ua(i),A0(i,r)}function A0(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ds===null){if(i===null)throw Error(s(308));ds=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else ds=ds.next=r;return o}var uC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},hC=t.unstable_scheduleCallback,dC=t.unstable_NormalPriority,Pt={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hm(){return{controller:new uC,data:new Map,refCount:0}}function Hl(i){i.refCount--,i.refCount===0&&hC(dC,function(){i.controller.abort()})}var ql=null,dm=0,ho=0,fo=null;function fC(i,r){if(ql===null){var o=ql=[];dm=0,ho=mp(),fo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return dm++,r.then(C0,C0),r}function C0(){if(--dm===0&&ql!==null){fo!==null&&(fo.status="fulfilled");var i=ql;ql=null,ho=0,fo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function mC(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var p=0;p<o.length;p++)(0,o[p])(r)},function(p){for(c.status="rejected",c.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),c}var R0=ee.S;ee.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&fC(i,r),R0!==null&&R0(i,r)};var ha=oe(null);function fm(){var i=ha.current;return i!==null?i:at.pooledCache}function lh(i,r){r===null?Z(ha,ha.current):Z(ha,r.pool)}function N0(){var i=fm();return i===null?null:{parent:Pt._currentValue,pool:i}}var Gl=Error(s(460)),I0=Error(s(474)),ch=Error(s(542)),mm={then:function(){}};function j0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function uh(){}function D0(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(uh,uh),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,k0(i),i;default:if(typeof r.status=="string")r.then(uh,uh);else{if(i=at,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=c}},function(c){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,k0(i),i}throw $l=r,Gl}}var $l=null;function M0(){if($l===null)throw Error(s(459));var i=$l;return $l=null,i}function k0(i){if(i===Gl||i===ch)throw Error(s(483))}var Hs=!1;function pm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function qs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Gs(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Xe&2)!==0){var p=c.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),c.pending=r,r=nh(i),x0(i,null,o),r}return th(i,c,r,o),nh(i)}function Kl(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Tl(i,o)}}function ym(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var p=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?p=y=b:y=y.next=b,o=o.next}while(o!==null);y===null?p=y=r:y=y.next=r}else p=y=r;o={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var vm=!1;function Yl(){if(vm){var i=fo;if(i!==null)throw i}}function Ql(i,r,o,c){vm=!1;var p=i.updateQueue;Hs=!1;var y=p.firstBaseUpdate,b=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var P=A,Q=P.next;P.next=null,b===null?y=Q:b.next=Q,b=P;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,A=ne.lastBaseUpdate,A!==b&&(A===null?ne.firstBaseUpdate=Q:A.next=Q,ne.lastBaseUpdate=P))}if(y!==null){var re=p.baseState;b=0,ne=Q=P=null,A=y;do{var X=A.lane&-536870913,W=X!==A.lane;if(W?(ze&X)===X:(c&X)===X){X!==0&&X===ho&&(vm=!0),ne!==null&&(ne=ne.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Se=i,xe=A;X=r;var nt=o;switch(xe.tag){case 1:if(Se=xe.payload,typeof Se=="function"){re=Se.call(nt,re,X);break e}re=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=xe.payload,X=typeof Se=="function"?Se.call(nt,re,X):Se,X==null)break e;re=v({},re,X);break e;case 2:Hs=!0}}X=A.callback,X!==null&&(i.flags|=64,W&&(i.flags|=8192),W=p.callbacks,W===null?p.callbacks=[X]:W.push(X))}else W={lane:X,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ne===null?(Q=ne=W,P=re):ne=ne.next=W,b|=X;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;W=A,A=W.next,W.next=null,p.lastBaseUpdate=W,p.shared.pending=null}}while(!0);ne===null&&(P=re),p.baseState=P,p.firstBaseUpdate=Q,p.lastBaseUpdate=ne,y===null&&(p.shared.lanes=0),Js|=b,i.lanes=b,i.memoizedState=re}}function P0(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function V0(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)P0(o[i],r)}var mo=oe(null),hh=oe(0);function O0(i,r){i=xs,Z(hh,i),Z(mo,r),xs=i|r.baseLanes}function _m(){Z(hh,xs),Z(mo,mo.current)}function xm(){xs=hh.current,ue(mo),ue(hh)}var $s=0,Ie=null,et=null,Ct=null,dh=!1,po=!1,da=!1,fh=0,Xl=0,go=null,pC=0;function xt(){throw Error(s(321))}function Tm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!jn(i[o],r[o]))return!1;return!0}function Em(i,r,o,c,p,y){return $s=y,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ee.H=i===null||i.memoizedState===null?x1:T1,da=!1,y=o(c,p),da=!1,po&&(y=U0(r,o,c,p)),L0(i),y}function L0(i){ee.H=_h;var r=et!==null&&et.next!==null;if($s=0,Ct=et=Ie=null,dh=!1,Xl=0,go=null,r)throw Error(s(300));i===null||Bt||(i=i.dependencies,i!==null&&ah(i)&&(Bt=!0))}function U0(i,r,o,c){Ie=i;var p=0;do{if(po&&(go=null),Xl=0,po=!1,25<=p)throw Error(s(301));if(p+=1,Ct=et=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}ee.H=EC,y=r(o,c)}while(po);return y}function gC(){var i=ee.H,r=i.useState()[0];return r=typeof r.then=="function"?Wl(r):r,i=i.useState()[0],(et!==null?et.memoizedState:null)!==i&&(Ie.flags|=1024),r}function bm(){var i=fh!==0;return fh=0,i}function wm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Sm(i){if(dh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}dh=!1}$s=0,Ct=et=Ie=null,po=!1,Xl=fh=0,go=null}function xn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ie.memoizedState=Ct=i:Ct=Ct.next=i,Ct}function Rt(){if(et===null){var i=Ie.alternate;i=i!==null?i.memoizedState:null}else i=et.next;var r=Ct===null?Ie.memoizedState:Ct.next;if(r!==null)Ct=r,et=i;else{if(i===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));et=i,i={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Ct===null?Ie.memoizedState=Ct=i:Ct=Ct.next=i}return Ct}function Am(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wl(i){var r=Xl;return Xl+=1,go===null&&(go=[]),i=D0(go,i,r),r=Ie,(Ct===null?r.memoizedState:Ct.next)===null&&(r=r.alternate,ee.H=r===null||r.memoizedState===null?x1:T1),i}function mh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Wl(i);if(i.$$typeof===H)return nn(i)}throw Error(s(438,String(i)))}function Cm(i){var r=null,o=Ie.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Ie.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Am(),Ie.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=O;return r.index++,o}function ms(i,r){return typeof r=="function"?r(i):r}function ph(i){var r=Rt();return Rm(r,et,i)}function Rm(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var p=i.baseQueue,y=c.pending;if(y!==null){if(p!==null){var b=p.next;p.next=y.next,y.next=b}r.baseQueue=p=y,c.pending=null}if(y=i.baseState,p===null)i.memoizedState=y;else{r=p.next;var A=b=null,P=null,Q=r,ne=!1;do{var re=Q.lane&-536870913;if(re!==Q.lane?(ze&re)===re:($s&re)===re){var X=Q.revertLane;if(X===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),re===ho&&(ne=!0);else if(($s&X)===X){Q=Q.next,X===ho&&(ne=!0);continue}else re={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},P===null?(A=P=re,b=y):P=P.next=re,Ie.lanes|=X,Js|=X;re=Q.action,da&&o(y,re),y=Q.hasEagerState?Q.eagerState:o(y,re)}else X={lane:re,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},P===null?(A=P=X,b=y):P=P.next=X,Ie.lanes|=re,Js|=re;Q=Q.next}while(Q!==null&&Q!==r);if(P===null?b=y:P.next=A,!jn(y,i.memoizedState)&&(Bt=!0,ne&&(o=fo,o!==null)))throw o;i.memoizedState=y,i.baseState=b,i.baseQueue=P,c.lastRenderedState=y}return p===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Nm(i){var r=Rt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,p=o.pending,y=r.memoizedState;if(p!==null){o.pending=null;var b=p=p.next;do y=i(y,b.action),b=b.next;while(b!==p);jn(y,r.memoizedState)||(Bt=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),o.lastRenderedState=y}return[y,c]}function B0(i,r,o){var c=Ie,p=Rt(),y=qe;if(y){if(o===void 0)throw Error(s(407));o=o()}else o=r();var b=!jn((et||p).memoizedState,o);b&&(p.memoizedState=o,Bt=!0),p=p.queue;var A=H0.bind(null,c,p,i);if(Zl(2048,8,A,[i]),p.getSnapshot!==r||b||Ct!==null&&Ct.memoizedState.tag&1){if(c.flags|=2048,yo(9,gh(),F0.bind(null,c,p,o,r),null),at===null)throw Error(s(349));y||($s&124)!==0||z0(c,r,o)}return o}function z0(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ie.updateQueue,r===null?(r=Am(),Ie.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function F0(i,r,o,c){r.value=o,r.getSnapshot=c,q0(r)&&G0(i)}function H0(i,r,o){return o(function(){q0(r)&&G0(i)})}function q0(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!jn(i,o)}catch{return!0}}function G0(i){var r=oo(i,2);r!==null&&On(r,i,2)}function Im(i){var r=xn();if(typeof i=="function"){var o=i;if(i=o(),da){Nn(!0);try{o()}finally{Nn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:i},r}function $0(i,r,o,c){return i.baseState=o,Rm(i,et,typeof c=="function"?c:ms)}function yC(i,r,o,c,p){if(vh(i))throw Error(s(485));if(i=r.action,i!==null){var y={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){y.listeners.push(b)}};ee.T!==null?o(!0):y.isTransition=!1,c(y),o=r.pending,o===null?(y.next=r.pending=y,K0(r,y)):(y.next=o.next,r.pending=o.next=y)}}function K0(i,r){var o=r.action,c=r.payload,p=i.state;if(r.isTransition){var y=ee.T,b={};ee.T=b;try{var A=o(p,c),P=ee.S;P!==null&&P(b,A),Y0(i,r,A)}catch(Q){jm(i,r,Q)}finally{ee.T=y}}else try{y=o(p,c),Y0(i,r,y)}catch(Q){jm(i,r,Q)}}function Y0(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Q0(i,r,c)},function(c){return jm(i,r,c)}):Q0(i,r,o)}function Q0(i,r,o){r.status="fulfilled",r.value=o,X0(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,K0(i,o)))}function jm(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,X0(r),r=r.next;while(r!==c)}i.action=null}function X0(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function W0(i,r){return r}function Z0(i,r){if(qe){var o=at.formState;if(o!==null){e:{var c=Ie;if(qe){if(gt){t:{for(var p=gt,y=Di;p.nodeType!==8;){if(!y){p=null;break t}if(p=di(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){gt=di(p.nextSibling),c=p.data==="F!";break e}}la(c)}c=!1}c&&(r=o[0])}}return o=xn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:W0,lastRenderedState:r},o.queue=c,o=y1.bind(null,Ie,c),c.dispatch=o,c=Im(!1),y=Vm.bind(null,Ie,!1,c.queue),c=xn(),p={state:r,dispatch:null,action:i,pending:null},c.queue=p,o=yC.bind(null,Ie,p,y,o),p.dispatch=o,c.memoizedState=i,[r,o,!1]}function J0(i){var r=Rt();return e1(r,et,i)}function e1(i,r,o){if(r=Rm(i,r,W0)[0],i=ph(ms)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Wl(r)}catch(b){throw b===Gl?ch:b}else c=r;r=Rt();var p=r.queue,y=p.dispatch;return o!==r.memoizedState&&(Ie.flags|=2048,yo(9,gh(),vC.bind(null,p,o),null)),[c,y,i]}function vC(i,r){i.action=r}function t1(i){var r=Rt(),o=et;if(o!==null)return e1(r,o,i);Rt(),r=r.memoizedState,o=Rt();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function yo(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=Ie.updateQueue,r===null&&(r=Am(),Ie.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function gh(){return{destroy:void 0,resource:void 0}}function n1(){return Rt().memoizedState}function yh(i,r,o,c){var p=xn();c=c===void 0?null:c,Ie.flags|=i,p.memoizedState=yo(1|r,gh(),o,c)}function Zl(i,r,o,c){var p=Rt();c=c===void 0?null:c;var y=p.memoizedState.inst;et!==null&&c!==null&&Tm(c,et.memoizedState.deps)?p.memoizedState=yo(r,y,o,c):(Ie.flags|=i,p.memoizedState=yo(1|r,y,o,c))}function i1(i,r){yh(8390656,8,i,r)}function s1(i,r){Zl(2048,8,i,r)}function r1(i,r){return Zl(4,2,i,r)}function a1(i,r){return Zl(4,4,i,r)}function o1(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function l1(i,r,o){o=o!=null?o.concat([i]):null,Zl(4,4,o1.bind(null,r,i),o)}function Dm(){}function c1(i,r){var o=Rt();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&Tm(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function u1(i,r){var o=Rt();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&Tm(r,c[1]))return c[0];if(c=i(),da){Nn(!0);try{i()}finally{Nn(!1)}}return o.memoizedState=[c,r],c}function Mm(i,r,o){return o===void 0||($s&1073741824)!==0?i.memoizedState=r:(i.memoizedState=o,i=f_(),Ie.lanes|=i,Js|=i,o)}function h1(i,r,o,c){return jn(o,r)?o:mo.current!==null?(i=Mm(i,o,c),jn(i,r)||(Bt=!0),i):($s&42)===0?(Bt=!0,i.memoizedState=o):(i=f_(),Ie.lanes|=i,Js|=i,r)}function d1(i,r,o,c,p){var y=le.p;le.p=y!==0&&8>y?y:8;var b=ee.T,A={};ee.T=A,Vm(i,!1,r,o);try{var P=p(),Q=ee.S;if(Q!==null&&Q(A,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var ne=mC(P,c);Jl(i,r,ne,Vn(i))}else Jl(i,r,c,Vn(i))}catch(re){Jl(i,r,{then:function(){},status:"rejected",reason:re},Vn())}finally{le.p=y,ee.T=b}}function _C(){}function km(i,r,o,c){if(i.tag!==5)throw Error(s(476));var p=f1(i).queue;d1(i,p,r,fe,o===null?_C:function(){return m1(i),o(c)})}function f1(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:fe},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function m1(i){var r=f1(i).next.queue;Jl(i,r,{},Vn())}function Pm(){return nn(yc)}function p1(){return Rt().memoizedState}function g1(){return Rt().memoizedState}function xC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Vn();i=qs(o);var c=Gs(r,i,o);c!==null&&(On(c,r,o),Kl(c,r,o)),r={cache:hm()},i.payload=r;return}r=r.return}}function TC(i,r,o){var c=Vn();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},vh(i)?v1(r,o):(o=tm(i,r,o,c),o!==null&&(On(o,i,c),_1(o,r,c)))}function y1(i,r,o){var c=Vn();Jl(i,r,o,c)}function Jl(i,r,o,c){var p={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(vh(i))v1(r,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var b=r.lastRenderedState,A=y(b,o);if(p.hasEagerState=!0,p.eagerState=A,jn(A,b))return th(i,r,p,0),at===null&&eh(),!1}catch{}finally{}if(o=tm(i,r,p,c),o!==null)return On(o,i,c),_1(o,r,c),!0}return!1}function Vm(i,r,o,c){if(c={lane:2,revertLane:mp(),action:c,hasEagerState:!1,eagerState:null,next:null},vh(i)){if(r)throw Error(s(479))}else r=tm(i,o,c,2),r!==null&&On(r,i,2)}function vh(i){var r=i.alternate;return i===Ie||r!==null&&r===Ie}function v1(i,r){po=dh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function _1(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Tl(i,o)}}var _h={readContext:nn,use:mh,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt},x1={readContext:nn,use:mh,useCallback:function(i,r){return xn().memoizedState=[i,r===void 0?null:r],i},useContext:nn,useEffect:i1,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,yh(4194308,4,o1.bind(null,r,i),o)},useLayoutEffect:function(i,r){return yh(4194308,4,i,r)},useInsertionEffect:function(i,r){yh(4,2,i,r)},useMemo:function(i,r){var o=xn();r=r===void 0?null:r;var c=i();if(da){Nn(!0);try{i()}finally{Nn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=xn();if(o!==void 0){var p=o(r);if(da){Nn(!0);try{o(r)}finally{Nn(!1)}}}else p=r;return c.memoizedState=c.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},c.queue=i,i=i.dispatch=TC.bind(null,Ie,i),[c.memoizedState,i]},useRef:function(i){var r=xn();return i={current:i},r.memoizedState=i},useState:function(i){i=Im(i);var r=i.queue,o=y1.bind(null,Ie,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Dm,useDeferredValue:function(i,r){var o=xn();return Mm(o,i,r)},useTransition:function(){var i=Im(!1);return i=d1.bind(null,Ie,i.queue,!0,!1),xn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=Ie,p=xn();if(qe){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),at===null)throw Error(s(349));(ze&124)!==0||z0(c,r,o)}p.memoizedState=o;var y={value:o,getSnapshot:r};return p.queue=y,i1(H0.bind(null,c,y,i),[i]),c.flags|=2048,yo(9,gh(),F0.bind(null,c,y,o,r),null),o},useId:function(){var i=xn(),r=at.identifierPrefix;if(qe){var o=hs,c=us;o=(c&~(1<<32-tn(c)-1)).toString(32)+o,r="«"+r+"R"+o,o=fh++,0<o&&(r+="H"+o.toString(32)),r+="»"}else o=pC++,r="«"+r+"r"+o.toString(32)+"»";return i.memoizedState=r},useHostTransitionStatus:Pm,useFormState:Z0,useActionState:Z0,useOptimistic:function(i){var r=xn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Vm.bind(null,Ie,!0,o),o.dispatch=r,[i,r]},useMemoCache:Cm,useCacheRefresh:function(){return xn().memoizedState=xC.bind(null,Ie)}},T1={readContext:nn,use:mh,useCallback:c1,useContext:nn,useEffect:s1,useImperativeHandle:l1,useInsertionEffect:r1,useLayoutEffect:a1,useMemo:u1,useReducer:ph,useRef:n1,useState:function(){return ph(ms)},useDebugValue:Dm,useDeferredValue:function(i,r){var o=Rt();return h1(o,et.memoizedState,i,r)},useTransition:function(){var i=ph(ms)[0],r=Rt().memoizedState;return[typeof i=="boolean"?i:Wl(i),r]},useSyncExternalStore:B0,useId:p1,useHostTransitionStatus:Pm,useFormState:J0,useActionState:J0,useOptimistic:function(i,r){var o=Rt();return $0(o,et,i,r)},useMemoCache:Cm,useCacheRefresh:g1},EC={readContext:nn,use:mh,useCallback:c1,useContext:nn,useEffect:s1,useImperativeHandle:l1,useInsertionEffect:r1,useLayoutEffect:a1,useMemo:u1,useReducer:Nm,useRef:n1,useState:function(){return Nm(ms)},useDebugValue:Dm,useDeferredValue:function(i,r){var o=Rt();return et===null?Mm(o,i,r):h1(o,et.memoizedState,i,r)},useTransition:function(){var i=Nm(ms)[0],r=Rt().memoizedState;return[typeof i=="boolean"?i:Wl(i),r]},useSyncExternalStore:B0,useId:p1,useHostTransitionStatus:Pm,useFormState:t1,useActionState:t1,useOptimistic:function(i,r){var o=Rt();return et!==null?$0(o,et,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Cm,useCacheRefresh:g1},vo=null,ec=0;function xh(i){var r=ec;return ec+=1,vo===null&&(vo=[]),D0(vo,i,r)}function tc(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Th(i,r){throw r.$$typeof===x?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function E1(i){var r=i._init;return r(i._payload)}function b1(i){function r(G,z){if(i){var K=G.deletions;K===null?(G.deletions=[z],G.flags|=16):K.push(z)}}function o(G,z){if(!i)return null;for(;z!==null;)r(G,z),z=z.sibling;return null}function c(G){for(var z=new Map;G!==null;)G.key!==null?z.set(G.key,G):z.set(G.index,G),G=G.sibling;return z}function p(G,z){return G=cs(G,z),G.index=0,G.sibling=null,G}function y(G,z,K){return G.index=K,i?(K=G.alternate,K!==null?(K=K.index,K<z?(G.flags|=67108866,z):K):(G.flags|=67108866,z)):(G.flags|=1048576,z)}function b(G){return i&&G.alternate===null&&(G.flags|=67108866),G}function A(G,z,K,ie){return z===null||z.tag!==6?(z=im(K,G.mode,ie),z.return=G,z):(z=p(z,K),z.return=G,z)}function P(G,z,K,ie){var ge=K.type;return ge===S?ne(G,z,K.props.children,ie,K.key):z!==null&&(z.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===C&&E1(ge)===z.type)?(z=p(z,K.props),tc(z,K),z.return=G,z):(z=ih(K.type,K.key,K.props,null,G.mode,ie),tc(z,K),z.return=G,z)}function Q(G,z,K,ie){return z===null||z.tag!==4||z.stateNode.containerInfo!==K.containerInfo||z.stateNode.implementation!==K.implementation?(z=sm(K,G.mode,ie),z.return=G,z):(z=p(z,K.children||[]),z.return=G,z)}function ne(G,z,K,ie,ge){return z===null||z.tag!==7?(z=sa(K,G.mode,ie,ge),z.return=G,z):(z=p(z,K),z.return=G,z)}function re(G,z,K){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=im(""+z,G.mode,K),z.return=G,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case T:return K=ih(z.type,z.key,z.props,null,G.mode,K),tc(K,z),K.return=G,K;case w:return z=sm(z,G.mode,K),z.return=G,z;case C:var ie=z._init;return z=ie(z._payload),re(G,z,K)}if(Ge(z)||q(z))return z=sa(z,G.mode,K,null),z.return=G,z;if(typeof z.then=="function")return re(G,xh(z),K);if(z.$$typeof===H)return re(G,oh(G,z),K);Th(G,z)}return null}function X(G,z,K,ie){var ge=z!==null?z.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return ge!==null?null:A(G,z,""+K,ie);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case T:return K.key===ge?P(G,z,K,ie):null;case w:return K.key===ge?Q(G,z,K,ie):null;case C:return ge=K._init,K=ge(K._payload),X(G,z,K,ie)}if(Ge(K)||q(K))return ge!==null?null:ne(G,z,K,ie,null);if(typeof K.then=="function")return X(G,z,xh(K),ie);if(K.$$typeof===H)return X(G,z,oh(G,K),ie);Th(G,K)}return null}function W(G,z,K,ie,ge){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return G=G.get(K)||null,A(z,G,""+ie,ge);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case T:return G=G.get(ie.key===null?K:ie.key)||null,P(z,G,ie,ge);case w:return G=G.get(ie.key===null?K:ie.key)||null,Q(z,G,ie,ge);case C:var De=ie._init;return ie=De(ie._payload),W(G,z,K,ie,ge)}if(Ge(ie)||q(ie))return G=G.get(K)||null,ne(z,G,ie,ge,null);if(typeof ie.then=="function")return W(G,z,K,xh(ie),ge);if(ie.$$typeof===H)return W(G,z,K,oh(z,ie),ge);Th(z,ie)}return null}function Se(G,z,K,ie){for(var ge=null,De=null,ve=z,Ee=z=0,Ft=null;ve!==null&&Ee<K.length;Ee++){ve.index>Ee?(Ft=ve,ve=null):Ft=ve.sibling;var He=X(G,ve,K[Ee],ie);if(He===null){ve===null&&(ve=Ft);break}i&&ve&&He.alternate===null&&r(G,ve),z=y(He,z,Ee),De===null?ge=He:De.sibling=He,De=He,ve=Ft}if(Ee===K.length)return o(G,ve),qe&&aa(G,Ee),ge;if(ve===null){for(;Ee<K.length;Ee++)ve=re(G,K[Ee],ie),ve!==null&&(z=y(ve,z,Ee),De===null?ge=ve:De.sibling=ve,De=ve);return qe&&aa(G,Ee),ge}for(ve=c(ve);Ee<K.length;Ee++)Ft=W(ve,G,Ee,K[Ee],ie),Ft!==null&&(i&&Ft.alternate!==null&&ve.delete(Ft.key===null?Ee:Ft.key),z=y(Ft,z,Ee),De===null?ge=Ft:De.sibling=Ft,De=Ft);return i&&ve.forEach(function(lr){return r(G,lr)}),qe&&aa(G,Ee),ge}function xe(G,z,K,ie){if(K==null)throw Error(s(151));for(var ge=null,De=null,ve=z,Ee=z=0,Ft=null,He=K.next();ve!==null&&!He.done;Ee++,He=K.next()){ve.index>Ee?(Ft=ve,ve=null):Ft=ve.sibling;var lr=X(G,ve,He.value,ie);if(lr===null){ve===null&&(ve=Ft);break}i&&ve&&lr.alternate===null&&r(G,ve),z=y(lr,z,Ee),De===null?ge=lr:De.sibling=lr,De=lr,ve=Ft}if(He.done)return o(G,ve),qe&&aa(G,Ee),ge;if(ve===null){for(;!He.done;Ee++,He=K.next())He=re(G,He.value,ie),He!==null&&(z=y(He,z,Ee),De===null?ge=He:De.sibling=He,De=He);return qe&&aa(G,Ee),ge}for(ve=c(ve);!He.done;Ee++,He=K.next())He=W(ve,G,Ee,He.value,ie),He!==null&&(i&&He.alternate!==null&&ve.delete(He.key===null?Ee:He.key),z=y(He,z,Ee),De===null?ge=He:De.sibling=He,De=He);return i&&ve.forEach(function(bR){return r(G,bR)}),qe&&aa(G,Ee),ge}function nt(G,z,K,ie){if(typeof K=="object"&&K!==null&&K.type===S&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case T:e:{for(var ge=K.key;z!==null;){if(z.key===ge){if(ge=K.type,ge===S){if(z.tag===7){o(G,z.sibling),ie=p(z,K.props.children),ie.return=G,G=ie;break e}}else if(z.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===C&&E1(ge)===z.type){o(G,z.sibling),ie=p(z,K.props),tc(ie,K),ie.return=G,G=ie;break e}o(G,z);break}else r(G,z);z=z.sibling}K.type===S?(ie=sa(K.props.children,G.mode,ie,K.key),ie.return=G,G=ie):(ie=ih(K.type,K.key,K.props,null,G.mode,ie),tc(ie,K),ie.return=G,G=ie)}return b(G);case w:e:{for(ge=K.key;z!==null;){if(z.key===ge)if(z.tag===4&&z.stateNode.containerInfo===K.containerInfo&&z.stateNode.implementation===K.implementation){o(G,z.sibling),ie=p(z,K.children||[]),ie.return=G,G=ie;break e}else{o(G,z);break}else r(G,z);z=z.sibling}ie=sm(K,G.mode,ie),ie.return=G,G=ie}return b(G);case C:return ge=K._init,K=ge(K._payload),nt(G,z,K,ie)}if(Ge(K))return Se(G,z,K,ie);if(q(K)){if(ge=q(K),typeof ge!="function")throw Error(s(150));return K=ge.call(K),xe(G,z,K,ie)}if(typeof K.then=="function")return nt(G,z,xh(K),ie);if(K.$$typeof===H)return nt(G,z,oh(G,K),ie);Th(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,z!==null&&z.tag===6?(o(G,z.sibling),ie=p(z,K),ie.return=G,G=ie):(o(G,z),ie=im(K,G.mode,ie),ie.return=G,G=ie),b(G)):o(G,z)}return function(G,z,K,ie){try{ec=0;var ge=nt(G,z,K,ie);return vo=null,ge}catch(ve){if(ve===Gl||ve===ch)throw ve;var De=Dn(29,ve,null,G.mode);return De.lanes=ie,De.return=G,De}finally{}}}var _o=b1(!0),w1=b1(!1),Xn=oe(null),Mi=null;function Ks(i){var r=i.alternate;Z(Vt,Vt.current&1),Z(Xn,i),Mi===null&&(r===null||mo.current!==null||r.memoizedState!==null)&&(Mi=i)}function S1(i){if(i.tag===22){if(Z(Vt,Vt.current),Z(Xn,i),Mi===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(Mi=i)}}else Ys()}function Ys(){Z(Vt,Vt.current),Z(Xn,Xn.current)}function ps(i){ue(Xn),Mi===i&&(Mi=null),ue(Vt)}var Vt=oe(0);function Eh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Ap(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Om(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:v({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Lm={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=Vn(),p=qs(c);p.payload=r,o!=null&&(p.callback=o),r=Gs(i,p,c),r!==null&&(On(r,i,c),Kl(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=Vn(),p=qs(c);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Gs(i,p,c),r!==null&&(On(r,i,c),Kl(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Vn(),c=qs(o);c.tag=2,r!=null&&(c.callback=r),r=Gs(i,c,o),r!==null&&(On(r,i,o),Kl(r,i,o))}};function A1(i,r,o,c,p,y,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,y,b):r.prototype&&r.prototype.isPureReactComponent?!Ol(o,c)||!Ol(p,y):!0}function C1(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&Lm.enqueueReplaceState(r,r.state,null)}function fa(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=v({},o));for(var p in i)o[p]===void 0&&(o[p]=i[p])}return o}var bh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function R1(i){bh(i)}function N1(i){console.error(i)}function I1(i){bh(i)}function wh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function j1(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Um(i,r,o){return o=qs(o),o.tag=3,o.payload={element:null},o.callback=function(){wh(i,r)},o}function D1(i){return i=qs(i),i.tag=3,i}function M1(i,r,o,c){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=c.value;i.payload=function(){return p(y)},i.callback=function(){j1(r,o,c)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){j1(r,o,c),typeof p!="function"&&(er===null?er=new Set([this]):er.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function bC(i,r,o,c,p){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&Fl(r,o,p,!0),o=Xn.current,o!==null){switch(o.tag){case 13:return Mi===null?cp():o.alternate===null&&yt===0&&(yt=3),o.flags&=-257,o.flags|=65536,o.lanes=p,c===mm?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),hp(i,c,p)),!1;case 22:return o.flags|=65536,c===mm?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),hp(i,c,p)),!1}throw Error(s(435,o.tag))}return hp(i,c,p),cp(),!1}if(qe)return r=Xn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,c!==om&&(i=Error(s(422),{cause:c}),zl($n(i,o)))):(c!==om&&(r=Error(s(423),{cause:c}),zl($n(r,o))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,c=$n(c,o),p=Um(i.stateNode,c,p),ym(i,p),yt!==4&&(yt=2)),!1;var y=Error(s(520),{cause:c});if(y=$n(y,o),lc===null?lc=[y]:lc.push(y),yt!==4&&(yt=2),r===null)return!0;c=$n(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=p&-p,o.lanes|=i,i=Um(o.stateNode,c,i),ym(o,i),!1;case 1:if(r=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(er===null||!er.has(y))))return o.flags|=65536,p&=-p,o.lanes|=p,p=D1(p),M1(p,i,o,c),ym(o,p),!1}o=o.return}while(o!==null);return!1}var k1=Error(s(461)),Bt=!1;function $t(i,r,o,c){r.child=i===null?w1(r,null,o,c):_o(r,i.child,o,c)}function P1(i,r,o,c,p){o=o.render;var y=r.ref;if("ref"in c){var b={};for(var A in c)A!=="ref"&&(b[A]=c[A])}else b=c;return ua(r),c=Em(i,r,o,b,y,p),A=bm(),i!==null&&!Bt?(wm(i,r,p),gs(i,r,p)):(qe&&A&&rm(r),r.flags|=1,$t(i,r,c,p),r.child)}function V1(i,r,o,c,p){if(i===null){var y=o.type;return typeof y=="function"&&!nm(y)&&y.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=y,O1(i,r,y,c,p)):(i=ih(o.type,null,c,r,r.mode,p),i.ref=r.ref,i.return=r,r.child=i)}if(y=i.child,!Km(i,p)){var b=y.memoizedProps;if(o=o.compare,o=o!==null?o:Ol,o(b,c)&&i.ref===r.ref)return gs(i,r,p)}return r.flags|=1,i=cs(y,c),i.ref=r.ref,i.return=r,r.child=i}function O1(i,r,o,c,p){if(i!==null){var y=i.memoizedProps;if(Ol(y,c)&&i.ref===r.ref)if(Bt=!1,r.pendingProps=c=y,Km(i,p))(i.flags&131072)!==0&&(Bt=!0);else return r.lanes=i.lanes,gs(i,r,p)}return Bm(i,r,o,c,p)}function L1(i,r,o){var c=r.pendingProps,p=c.children,y=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((r.flags&128)!==0){if(c=y!==null?y.baseLanes|o:o,i!==null){for(p=r.child=i.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;r.childLanes=y&~c}else r.childLanes=0,r.child=null;return U1(i,r,c,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&lh(r,y!==null?y.cachePool:null),y!==null?O0(r,y):_m(),S1(r);else return r.lanes=r.childLanes=536870912,U1(i,r,y!==null?y.baseLanes|o:o,o)}else y!==null?(lh(r,y.cachePool),O0(r,y),Ys(),r.memoizedState=null):(i!==null&&lh(r,null),_m(),Ys());return $t(i,r,p,o),r.child}function U1(i,r,o,c){var p=fm();return p=p===null?null:{parent:Pt._currentValue,pool:p},r.memoizedState={baseLanes:o,cachePool:p},i!==null&&lh(r,null),_m(),S1(r),i!==null&&Fl(i,r,c,!0),null}function Sh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Bm(i,r,o,c,p){return ua(r),o=Em(i,r,o,c,void 0,p),c=bm(),i!==null&&!Bt?(wm(i,r,p),gs(i,r,p)):(qe&&c&&rm(r),r.flags|=1,$t(i,r,o,p),r.child)}function B1(i,r,o,c,p,y){return ua(r),r.updateQueue=null,o=U0(r,c,o,p),L0(i),c=bm(),i!==null&&!Bt?(wm(i,r,y),gs(i,r,y)):(qe&&c&&rm(r),r.flags|=1,$t(i,r,o,y),r.child)}function z1(i,r,o,c,p){if(ua(r),r.stateNode===null){var y=lo,b=o.contextType;typeof b=="object"&&b!==null&&(y=nn(b)),y=new o(c,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Lm,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=c,y.state=r.memoizedState,y.refs={},pm(r),b=o.contextType,y.context=typeof b=="object"&&b!==null?nn(b):lo,y.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Om(r,o,b,c),y.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(b=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),b!==y.state&&Lm.enqueueReplaceState(y,y.state,null),Ql(r,c,y,p),Yl(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){y=r.stateNode;var A=r.memoizedProps,P=fa(o,A);y.props=P;var Q=y.context,ne=o.contextType;b=lo,typeof ne=="object"&&ne!==null&&(b=nn(ne));var re=o.getDerivedStateFromProps;ne=typeof re=="function"||typeof y.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,ne||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A||Q!==b)&&C1(r,y,c,b),Hs=!1;var X=r.memoizedState;y.state=X,Ql(r,c,y,p),Yl(),Q=r.memoizedState,A||X!==Q||Hs?(typeof re=="function"&&(Om(r,o,re,c),Q=r.memoizedState),(P=Hs||A1(r,o,P,c,X,Q,b))?(ne||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=Q),y.props=c,y.state=Q,y.context=b,c=P):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{y=r.stateNode,gm(i,r),b=r.memoizedProps,ne=fa(o,b),y.props=ne,re=r.pendingProps,X=y.context,Q=o.contextType,P=lo,typeof Q=="object"&&Q!==null&&(P=nn(Q)),A=o.getDerivedStateFromProps,(Q=typeof A=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(b!==re||X!==P)&&C1(r,y,c,P),Hs=!1,X=r.memoizedState,y.state=X,Ql(r,c,y,p),Yl();var W=r.memoizedState;b!==re||X!==W||Hs||i!==null&&i.dependencies!==null&&ah(i.dependencies)?(typeof A=="function"&&(Om(r,o,A,c),W=r.memoizedState),(ne=Hs||A1(r,o,ne,c,X,W,P)||i!==null&&i.dependencies!==null&&ah(i.dependencies))?(Q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,W,P),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,W,P)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||b===i.memoizedProps&&X===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&X===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=W),y.props=c,y.state=W,y.context=P,c=ne):(typeof y.componentDidUpdate!="function"||b===i.memoizedProps&&X===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&X===i.memoizedState||(r.flags|=1024),c=!1)}return y=c,Sh(i,r),c=(r.flags&128)!==0,y||c?(y=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,i!==null&&c?(r.child=_o(r,i.child,null,p),r.child=_o(r,null,o,p)):$t(i,r,o,p),r.memoizedState=y.state,i=r.child):i=gs(i,r,p),i}function F1(i,r,o,c){return Bl(),r.flags|=256,$t(i,r,o,c),r.child}var zm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fm(i){return{baseLanes:i,cachePool:N0()}}function Hm(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Wn),i}function H1(i,r,o){var c=r.pendingProps,p=!1,y=(r.flags&128)!==0,b;if((b=y)||(b=i!==null&&i.memoizedState===null?!1:(Vt.current&2)!==0),b&&(p=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,i===null){if(qe){if(p?Ks(r):Ys(),qe){var A=gt,P;if(P=A){e:{for(P=A,A=Di;P.nodeType!==8;){if(!A){A=null;break e}if(P=di(P.nextSibling),P===null){A=null;break e}}A=P}A!==null?(r.memoizedState={dehydrated:A,treeContext:ra!==null?{id:us,overflow:hs}:null,retryLane:536870912,hydrationErrors:null},P=Dn(18,null,null,0),P.stateNode=A,P.return=r,r.child=P,pn=r,gt=null,P=!0):P=!1}P||la(r)}if(A=r.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Ap(A)?r.lanes=32:r.lanes=536870912,null;ps(r)}return A=c.children,c=c.fallback,p?(Ys(),p=r.mode,A=Ah({mode:"hidden",children:A},p),c=sa(c,p,o,null),A.return=r,c.return=r,A.sibling=c,r.child=A,p=r.child,p.memoizedState=Fm(o),p.childLanes=Hm(i,b,o),r.memoizedState=zm,c):(Ks(r),qm(r,A))}if(P=i.memoizedState,P!==null&&(A=P.dehydrated,A!==null)){if(y)r.flags&256?(Ks(r),r.flags&=-257,r=Gm(i,r,o)):r.memoizedState!==null?(Ys(),r.child=i.child,r.flags|=128,r=null):(Ys(),p=c.fallback,A=r.mode,c=Ah({mode:"visible",children:c.children},A),p=sa(p,A,o,null),p.flags|=2,c.return=r,p.return=r,c.sibling=p,r.child=c,_o(r,i.child,null,o),c=r.child,c.memoizedState=Fm(o),c.childLanes=Hm(i,b,o),r.memoizedState=zm,r=p);else if(Ks(r),Ap(A)){if(b=A.nextSibling&&A.nextSibling.dataset,b)var Q=b.dgst;b=Q,c=Error(s(419)),c.stack="",c.digest=b,zl({value:c,source:null,stack:null}),r=Gm(i,r,o)}else if(Bt||Fl(i,r,o,!1),b=(o&i.childLanes)!==0,Bt||b){if(b=at,b!==null&&(c=o&-o,c=(c&42)!==0?1:Ps(c),c=(c&(b.suspendedLanes|o))!==0?0:c,c!==0&&c!==P.retryLane))throw P.retryLane=c,oo(i,c),On(b,i,c),k1;A.data==="$?"||cp(),r=Gm(i,r,o)}else A.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=P.treeContext,gt=di(A.nextSibling),pn=r,qe=!0,oa=null,Di=!1,i!==null&&(Yn[Qn++]=us,Yn[Qn++]=hs,Yn[Qn++]=ra,us=i.id,hs=i.overflow,ra=r),r=qm(r,c.children),r.flags|=4096);return r}return p?(Ys(),p=c.fallback,A=r.mode,P=i.child,Q=P.sibling,c=cs(P,{mode:"hidden",children:c.children}),c.subtreeFlags=P.subtreeFlags&65011712,Q!==null?p=cs(Q,p):(p=sa(p,A,o,null),p.flags|=2),p.return=r,c.return=r,c.sibling=p,r.child=c,c=p,p=r.child,A=i.child.memoizedState,A===null?A=Fm(o):(P=A.cachePool,P!==null?(Q=Pt._currentValue,P=P.parent!==Q?{parent:Q,pool:Q}:P):P=N0(),A={baseLanes:A.baseLanes|o,cachePool:P}),p.memoizedState=A,p.childLanes=Hm(i,b,o),r.memoizedState=zm,c):(Ks(r),o=i.child,i=o.sibling,o=cs(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(b=r.deletions,b===null?(r.deletions=[i],r.flags|=16):b.push(i)),r.child=o,r.memoizedState=null,o)}function qm(i,r){return r=Ah({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Ah(i,r){return i=Dn(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Gm(i,r,o){return _o(r,i.child,null,o),i=qm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function q1(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),cm(i.return,r,o)}function $m(i,r,o,c,p){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:p}:(y.isBackwards=r,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=o,y.tailMode=p)}function G1(i,r,o){var c=r.pendingProps,p=c.revealOrder,y=c.tail;if($t(i,r,c.children,o),c=Vt.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&q1(i,o,r);else if(i.tag===19)q1(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(Z(Vt,c),p){case"forwards":for(o=r.child,p=null;o!==null;)i=o.alternate,i!==null&&Eh(i)===null&&(p=o),o=o.sibling;o=p,o===null?(p=r.child,r.child=null):(p=o.sibling,o.sibling=null),$m(r,!1,p,o,y);break;case"backwards":for(o=null,p=r.child,r.child=null;p!==null;){if(i=p.alternate,i!==null&&Eh(i)===null){r.child=p;break}i=p.sibling,p.sibling=o,o=p,p=i}$m(r,!0,o,null,y);break;case"together":$m(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function gs(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Js|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Fl(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=cs(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=cs(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Km(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&ah(i)))}function wC(i,r,o){switch(r.tag){case 3:Ze(r,r.stateNode.containerInfo),Fs(r,Pt,i.memoizedState.cache),Bl();break;case 27:case 5:$e(r);break;case 4:Ze(r,r.stateNode.containerInfo);break;case 10:Fs(r,r.type,r.memoizedProps.value);break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Ks(r),r.flags|=128,null):(o&r.child.childLanes)!==0?H1(i,r,o):(Ks(r),i=gs(i,r,o),i!==null?i.sibling:null);Ks(r);break;case 19:var p=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(Fl(i,r,o,!1),c=(o&r.childLanes)!==0),p){if(c)return G1(i,r,o);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Z(Vt,Vt.current),c)break;return null;case 22:case 23:return r.lanes=0,L1(i,r,o);case 24:Fs(r,Pt,i.memoizedState.cache)}return gs(i,r,o)}function $1(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Bt=!0;else{if(!Km(i,o)&&(r.flags&128)===0)return Bt=!1,wC(i,r,o);Bt=(i.flags&131072)!==0}else Bt=!1,qe&&(r.flags&1048576)!==0&&E0(r,rh,r.index);switch(r.lanes=0,r.tag){case 16:e:{i=r.pendingProps;var c=r.elementType,p=c._init;if(c=p(c._payload),r.type=c,typeof c=="function")nm(c)?(i=fa(c,i),r.tag=1,r=z1(null,r,c,i,o)):(r.tag=0,r=Bm(null,r,c,i,o));else{if(c!=null){if(p=c.$$typeof,p===te){r.tag=11,r=P1(null,r,c,i,o);break e}else if(p===N){r.tag=14,r=V1(null,r,c,i,o);break e}}throw r=st(c)||c,Error(s(306,r,""))}}return r;case 0:return Bm(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,p=fa(c,r.pendingProps),z1(i,r,c,p,o);case 3:e:{if(Ze(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var y=r.memoizedState;p=y.element,gm(i,r),Ql(r,c,null,o);var b=r.memoizedState;if(c=b.cache,Fs(r,Pt,c),c!==y.cache&&um(r,[Pt],o,!0),Yl(),c=b.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=F1(i,r,c,o);break e}else if(c!==p){p=$n(Error(s(424)),r),zl(p),r=F1(i,r,c,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(gt=di(i.firstChild),pn=r,qe=!0,oa=null,Di=!0,o=w1(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Bl(),c===p){r=gs(i,r,o);break e}$t(i,r,c,o)}r=r.child}return r;case 26:return Sh(i,r),i===null?(o=X_(r.type,null,r.pendingProps,null))?r.memoizedState=o:qe||(o=r.type,i=r.pendingProps,c=Bh(Te.current).createElement(o),c[Dt]=r,c[St]=i,Yt(c,o,i),_t(c),r.stateNode=c):r.memoizedState=X_(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return $e(r),i===null&&qe&&(c=r.stateNode=K_(r.type,r.pendingProps,Te.current),pn=r,Di=!0,p=gt,ir(r.type)?(Cp=p,gt=di(c.firstChild)):gt=p),$t(i,r,r.pendingProps.children,o),Sh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&qe&&((p=c=gt)&&(c=ZC(c,r.type,r.pendingProps,Di),c!==null?(r.stateNode=c,pn=r,gt=di(c.firstChild),Di=!1,p=!0):p=!1),p||la(r)),$e(r),p=r.type,y=r.pendingProps,b=i!==null?i.memoizedProps:null,c=y.children,bp(p,y)?c=null:b!==null&&bp(p,b)&&(r.flags|=32),r.memoizedState!==null&&(p=Em(i,r,gC,null,null,o),yc._currentValue=p),Sh(i,r),$t(i,r,c,o),r.child;case 6:return i===null&&qe&&((i=o=gt)&&(o=JC(o,r.pendingProps,Di),o!==null?(r.stateNode=o,pn=r,gt=null,i=!0):i=!1),i||la(r)),null;case 13:return H1(i,r,o);case 4:return Ze(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=_o(r,null,c,o):$t(i,r,c,o),r.child;case 11:return P1(i,r,r.type,r.pendingProps,o);case 7:return $t(i,r,r.pendingProps,o),r.child;case 8:return $t(i,r,r.pendingProps.children,o),r.child;case 12:return $t(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,Fs(r,r.type,c.value),$t(i,r,c.children,o),r.child;case 9:return p=r.type._context,c=r.pendingProps.children,ua(r),p=nn(p),c=c(p),r.flags|=1,$t(i,r,c,o),r.child;case 14:return V1(i,r,r.type,r.pendingProps,o);case 15:return O1(i,r,r.type,r.pendingProps,o);case 19:return G1(i,r,o);case 31:return c=r.pendingProps,o=r.mode,c={mode:c.mode,children:c.children},i===null?(o=Ah(c,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=cs(i.child,c),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return L1(i,r,o);case 24:return ua(r),c=nn(Pt),i===null?(p=fm(),p===null&&(p=at,y=hm(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=o),p=y),r.memoizedState={parent:c,cache:p},pm(r),Fs(r,Pt,p)):((i.lanes&o)!==0&&(gm(i,r),Ql(r,null,null,o),Yl()),p=i.memoizedState,y=r.memoizedState,p.parent!==c?(p={parent:c,cache:c},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),Fs(r,Pt,c)):(c=y.cache,Fs(r,Pt,c),c!==p.cache&&um(r,[Pt],o,!0))),$t(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ys(i){i.flags|=4}function K1(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!tx(r)){if(r=Xn.current,r!==null&&((ze&4194048)===ze?Mi!==null:(ze&62914560)!==ze&&(ze&536870912)===0||r!==Mi))throw $l=mm,I0;i.flags|=8192}}function Ch(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?_l():536870912,i.lanes|=r,bo|=r)}function nc(i,r){if(!qe)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function ht(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var p=i.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function SC(i,r,o){var c=r.pendingProps;switch(am(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(r),null;case 1:return ht(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),fs(Pt),Rn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Ul(r)?ys(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,S0())),ht(r),null;case 26:return o=r.memoizedState,i===null?(ys(r),o!==null?(ht(r),K1(r,o)):(ht(r),r.flags&=-16777217)):o?o!==i.memoizedState?(ys(r),ht(r),K1(r,o)):(ht(r),r.flags&=-16777217):(i.memoizedProps!==c&&ys(r),ht(r),r.flags&=-16777217),null;case 27:hn(r),o=Te.current;var p=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==c&&ys(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return ht(r),null}i=he.current,Ul(r)?b0(r):(i=K_(p,c,o),r.stateNode=i,ys(r))}return ht(r),null;case 5:if(hn(r),o=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&ys(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return ht(r),null}if(i=he.current,Ul(r))b0(r);else{switch(p=Bh(Te.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?p.createElement(o,{is:c.is}):p.createElement(o)}}i[Dt]=r,i[St]=c;e:for(p=r.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===r)break e;for(;p.sibling===null;){if(p.return===null||p.return===r)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}r.stateNode=i;e:switch(Yt(i,o,c),o){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ys(r)}}return ht(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&ys(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=Te.current,Ul(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,p=pn,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}i[Dt]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||B_(i.nodeValue,o)),i||la(r)}else i=Bh(i).createTextNode(c),i[Dt]=r,r.stateNode=i}return ht(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=Ul(r),c!==null&&c.dehydrated!==null){if(i===null){if(!p)throw Error(s(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[Dt]=r}else Bl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ht(r),p=!1}else p=S0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(ps(r),r):(ps(r),null)}if(ps(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=c!==null,i=i!==null&&i.memoizedState!==null,o){c=r.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==p&&(c.flags|=2048)}return o!==i&&o&&(r.child.flags|=8192),Ch(r,r.updateQueue),ht(r),null;case 4:return Rn(),i===null&&vp(r.stateNode.containerInfo),ht(r),null;case 10:return fs(r.type),ht(r),null;case 19:if(ue(Vt),p=r.memoizedState,p===null)return ht(r),null;if(c=(r.flags&128)!==0,y=p.rendering,y===null)if(c)nc(p,!1);else{if(yt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(y=Eh(i),y!==null){for(r.flags|=128,nc(p,!1),i=y.updateQueue,r.updateQueue=i,Ch(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)T0(o,i),o=o.sibling;return Z(Vt,Vt.current&1|2),r.child}i=i.sibling}p.tail!==null&&Bn()>Ih&&(r.flags|=128,c=!0,nc(p,!1),r.lanes=4194304)}else{if(!c)if(i=Eh(y),i!==null){if(r.flags|=128,c=!0,i=i.updateQueue,r.updateQueue=i,Ch(r,i),nc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!qe)return ht(r),null}else 2*Bn()-p.renderingStartTime>Ih&&o!==536870912&&(r.flags|=128,c=!0,nc(p,!1),r.lanes=4194304);p.isBackwards?(y.sibling=r.child,r.child=y):(i=p.last,i!==null?i.sibling=y:r.child=y,p.last=y)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=Bn(),r.sibling=null,i=Vt.current,Z(Vt,c?i&1|2:i&1),r):(ht(r),null);case 22:case 23:return ps(r),xm(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(ht(r),r.subtreeFlags&6&&(r.flags|=8192)):ht(r),o=r.updateQueue,o!==null&&Ch(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&ue(ha),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),fs(Pt),ht(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function AC(i,r){switch(am(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return fs(Pt),Rn(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return hn(r),null;case 13:if(ps(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Bl()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ue(Vt),null;case 4:return Rn(),null;case 10:return fs(r.type),null;case 22:case 23:return ps(r),xm(),i!==null&&ue(ha),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return fs(Pt),null;case 25:return null;default:return null}}function Y1(i,r){switch(am(r),r.tag){case 3:fs(Pt),Rn();break;case 26:case 27:case 5:hn(r);break;case 4:Rn();break;case 13:ps(r);break;case 19:ue(Vt);break;case 10:fs(r.type);break;case 22:case 23:ps(r),xm(),i!==null&&ue(ha);break;case 24:fs(Pt)}}function ic(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var p=c.next;o=p;do{if((o.tag&i)===i){c=void 0;var y=o.create,b=o.inst;c=y(),b.destroy=c}o=o.next}while(o!==p)}}catch(A){rt(r,r.return,A)}}function Qs(i,r,o){try{var c=r.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var y=p.next;c=y;do{if((c.tag&i)===i){var b=c.inst,A=b.destroy;if(A!==void 0){b.destroy=void 0,p=r;var P=o,Q=A;try{Q()}catch(ne){rt(p,P,ne)}}}c=c.next}while(c!==y)}}catch(ne){rt(r,r.return,ne)}}function Q1(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{V0(r,o)}catch(c){rt(i,i.return,c)}}}function X1(i,r,o){o.props=fa(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){rt(i,r,c)}}function sc(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(p){rt(i,r,p)}}function ki(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(p){rt(i,r,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){rt(i,r,p)}else o.current=null}function W1(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(p){rt(i,i.return,p)}}function Ym(i,r,o){try{var c=i.stateNode;KC(c,i.type,o,r),c[St]=r}catch(p){rt(i,i.return,p)}}function Z1(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ir(i.type)||i.tag===4}function Qm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Z1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ir(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Xm(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Uh));else if(c!==4&&(c===27&&ir(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Xm(i,r,o),i=i.sibling;i!==null;)Xm(i,r,o),i=i.sibling}function Rh(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&ir(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Rh(i,r,o),i=i.sibling;i!==null;)Rh(i,r,o),i=i.sibling}function J1(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);Yt(r,c,o),r[Dt]=i,r[St]=o}catch(y){rt(i,i.return,y)}}var vs=!1,Tt=!1,Wm=!1,e_=typeof WeakSet=="function"?WeakSet:Set,zt=null;function CC(i,r){if(i=i.containerInfo,Tp=$h,i=h0(i),Qf(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var p=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var b=0,A=-1,P=-1,Q=0,ne=0,re=i,X=null;t:for(;;){for(var W;re!==o||p!==0&&re.nodeType!==3||(A=b+p),re!==y||c!==0&&re.nodeType!==3||(P=b+c),re.nodeType===3&&(b+=re.nodeValue.length),(W=re.firstChild)!==null;)X=re,re=W;for(;;){if(re===i)break t;if(X===o&&++Q===p&&(A=b),X===y&&++ne===c&&(P=b),(W=re.nextSibling)!==null)break;re=X,X=re.parentNode}re=W}o=A===-1||P===-1?null:{start:A,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ep={focusedElem:i,selectionRange:o},$h=!1,zt=r;zt!==null;)if(r=zt,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,zt=i;else for(;zt!==null;){switch(r=zt,y=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,o=r,p=y.memoizedProps,y=y.memoizedState,c=o.stateNode;try{var Se=fa(o.type,p,o.elementType===o.type);i=c.getSnapshotBeforeUpdate(Se,y),c.__reactInternalSnapshotBeforeUpdate=i}catch(xe){rt(o,o.return,xe)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Sp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Sp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,zt=i;break}zt=r.return}}function t_(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Xs(i,o),c&4&&ic(5,o);break;case 1:if(Xs(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(b){rt(o,o.return,b)}else{var p=fa(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(p,r,i.__reactInternalSnapshotBeforeUpdate)}catch(b){rt(o,o.return,b)}}c&64&&Q1(o),c&512&&sc(o,o.return);break;case 3:if(Xs(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{V0(i,r)}catch(b){rt(o,o.return,b)}}break;case 27:r===null&&c&4&&J1(o);case 26:case 5:Xs(i,o),r===null&&c&4&&W1(o),c&512&&sc(o,o.return);break;case 12:Xs(i,o);break;case 13:Xs(i,o),c&4&&s_(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=VC.bind(null,o),eR(i,o))));break;case 22:if(c=o.memoizedState!==null||vs,!c){r=r!==null&&r.memoizedState!==null||Tt,p=vs;var y=Tt;vs=c,(Tt=r)&&!y?Ws(i,o,(o.subtreeFlags&8772)!==0):Xs(i,o),vs=p,Tt=y}break;case 30:break;default:Xs(i,o)}}function n_(i){var r=i.alternate;r!==null&&(i.alternate=null,n_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Ls(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ct=null,Tn=!1;function _s(i,r,o){for(o=o.child;o!==null;)i_(i,r,o),o=o.sibling}function i_(i,r,o){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(pt,o)}catch{}switch(o.tag){case 26:Tt||ki(o,r),_s(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Tt||ki(o,r);var c=ct,p=Tn;ir(o.type)&&(ct=o.stateNode,Tn=!1),_s(i,r,o),fc(o.stateNode),ct=c,Tn=p;break;case 5:Tt||ki(o,r);case 6:if(c=ct,p=Tn,ct=null,_s(i,r,o),ct=c,Tn=p,ct!==null)if(Tn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(o.stateNode)}catch(y){rt(o,r,y)}else try{ct.removeChild(o.stateNode)}catch(y){rt(o,r,y)}break;case 18:ct!==null&&(Tn?(i=ct,G_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Tc(i)):G_(ct,o.stateNode));break;case 4:c=ct,p=Tn,ct=o.stateNode.containerInfo,Tn=!0,_s(i,r,o),ct=c,Tn=p;break;case 0:case 11:case 14:case 15:Tt||Qs(2,o,r),Tt||Qs(4,o,r),_s(i,r,o);break;case 1:Tt||(ki(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&X1(o,r,c)),_s(i,r,o);break;case 21:_s(i,r,o);break;case 22:Tt=(c=Tt)||o.memoizedState!==null,_s(i,r,o),Tt=c;break;default:_s(i,r,o)}}function s_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Tc(i)}catch(o){rt(r,r.return,o)}}function RC(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new e_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new e_),r;default:throw Error(s(435,i.tag))}}function Zm(i,r){var o=RC(i);r.forEach(function(c){var p=OC.bind(null,i,c);o.has(c)||(o.add(c),c.then(p,p))})}function Mn(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var p=o[c],y=i,b=r,A=b;e:for(;A!==null;){switch(A.tag){case 27:if(ir(A.type)){ct=A.stateNode,Tn=!1;break e}break;case 5:ct=A.stateNode,Tn=!1;break e;case 3:case 4:ct=A.stateNode.containerInfo,Tn=!0;break e}A=A.return}if(ct===null)throw Error(s(160));i_(y,b,p),ct=null,Tn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)r_(r,i),r=r.sibling}var hi=null;function r_(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Mn(r,i),kn(i),c&4&&(Qs(3,i,i.return),ic(3,i),Qs(5,i,i.return));break;case 1:Mn(r,i),kn(i),c&512&&(Tt||o===null||ki(o,o.return)),c&64&&vs&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var p=hi;if(Mn(r,i),kn(i),c&512&&(Tt||o===null||ki(o,o.return)),c&4){var y=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Fr]||y[Dt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(c),p.head.insertBefore(y,p.querySelector("head > title"))),Yt(y,c,o),y[Dt]=i,_t(y),c=y;break e;case"link":var b=J_("link","href",p).get(c+(o.href||""));if(b){for(var A=0;A<b.length;A++)if(y=b[A],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(A,1);break t}}y=p.createElement(c),Yt(y,c,o),p.head.appendChild(y);break;case"meta":if(b=J_("meta","content",p).get(c+(o.content||""))){for(A=0;A<b.length;A++)if(y=b[A],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(A,1);break t}}y=p.createElement(c),Yt(y,c,o),p.head.appendChild(y);break;default:throw Error(s(468,c))}y[Dt]=i,_t(y),c=y}i.stateNode=c}else ex(p,i.type,i.stateNode);else i.stateNode=Z_(p,c,i.memoizedProps);else y!==c?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,c===null?ex(p,i.type,i.stateNode):Z_(p,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Ym(i,i.memoizedProps,o.memoizedProps)}break;case 27:Mn(r,i),kn(i),c&512&&(Tt||o===null||ki(o,o.return)),o!==null&&c&4&&Ym(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Mn(r,i),kn(i),c&512&&(Tt||o===null||ki(o,o.return)),i.flags&32){p=i.stateNode;try{Fn(p,"")}catch(W){rt(i,i.return,W)}}c&4&&i.stateNode!=null&&(p=i.memoizedProps,Ym(i,p,o!==null?o.memoizedProps:p)),c&1024&&(Wm=!0);break;case 6:if(Mn(r,i),kn(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(W){rt(i,i.return,W)}}break;case 3:if(Hh=null,p=hi,hi=zh(r.containerInfo),Mn(r,i),hi=p,kn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Tc(r.containerInfo)}catch(W){rt(i,i.return,W)}Wm&&(Wm=!1,a_(i));break;case 4:c=hi,hi=zh(i.stateNode.containerInfo),Mn(r,i),kn(i),hi=c;break;case 12:Mn(r,i),kn(i);break;case 13:Mn(r,i),kn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(sp=Bn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Zm(i,c)));break;case 22:p=i.memoizedState!==null;var P=o!==null&&o.memoizedState!==null,Q=vs,ne=Tt;if(vs=Q||p,Tt=ne||P,Mn(r,i),Tt=ne,vs=Q,kn(i),c&8192)e:for(r=i.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(o===null||P||vs||Tt||ma(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){P=o=r;try{if(y=P.stateNode,p)b=y.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{A=P.stateNode;var re=P.memoizedProps.style,X=re!=null&&re.hasOwnProperty("display")?re.display:null;A.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(W){rt(P,P.return,W)}}}else if(r.tag===6){if(o===null){P=r;try{P.stateNode.nodeValue=p?"":P.memoizedProps}catch(W){rt(P,P.return,W)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Zm(i,o))));break;case 19:Mn(r,i),kn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Zm(i,c)));break;case 30:break;case 21:break;default:Mn(r,i),kn(i)}}function kn(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(Z1(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var p=o.stateNode,y=Qm(i);Rh(i,y,p);break;case 5:var b=o.stateNode;o.flags&32&&(Fn(b,""),o.flags&=-33);var A=Qm(i);Rh(i,A,b);break;case 3:case 4:var P=o.stateNode.containerInfo,Q=Qm(i);Xm(i,Q,P);break;default:throw Error(s(161))}}catch(ne){rt(i,i.return,ne)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function a_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;a_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Xs(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)t_(i,r.alternate,r),r=r.sibling}function ma(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Qs(4,r,r.return),ma(r);break;case 1:ki(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&X1(r,r.return,o),ma(r);break;case 27:fc(r.stateNode);case 26:case 5:ki(r,r.return),ma(r);break;case 22:r.memoizedState===null&&ma(r);break;case 30:ma(r);break;default:ma(r)}i=i.sibling}}function Ws(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,p=i,y=r,b=y.flags;switch(y.tag){case 0:case 11:case 15:Ws(p,y,o),ic(4,y);break;case 1:if(Ws(p,y,o),c=y,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Q){rt(c,c.return,Q)}if(c=y,p=c.updateQueue,p!==null){var A=c.stateNode;try{var P=p.shared.hiddenCallbacks;if(P!==null)for(p.shared.hiddenCallbacks=null,p=0;p<P.length;p++)P0(P[p],A)}catch(Q){rt(c,c.return,Q)}}o&&b&64&&Q1(y),sc(y,y.return);break;case 27:J1(y);case 26:case 5:Ws(p,y,o),o&&c===null&&b&4&&W1(y),sc(y,y.return);break;case 12:Ws(p,y,o);break;case 13:Ws(p,y,o),o&&b&4&&s_(p,y);break;case 22:y.memoizedState===null&&Ws(p,y,o),sc(y,y.return);break;case 30:break;default:Ws(p,y,o)}r=r.sibling}}function Jm(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Hl(o))}function ep(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Hl(i))}function Pi(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)o_(i,r,o,c),r=r.sibling}function o_(i,r,o,c){var p=r.flags;switch(r.tag){case 0:case 11:case 15:Pi(i,r,o,c),p&2048&&ic(9,r);break;case 1:Pi(i,r,o,c);break;case 3:Pi(i,r,o,c),p&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Hl(i)));break;case 12:if(p&2048){Pi(i,r,o,c),i=r.stateNode;try{var y=r.memoizedProps,b=y.id,A=y.onPostCommit;typeof A=="function"&&A(b,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(P){rt(r,r.return,P)}}else Pi(i,r,o,c);break;case 13:Pi(i,r,o,c);break;case 23:break;case 22:y=r.stateNode,b=r.alternate,r.memoizedState!==null?y._visibility&2?Pi(i,r,o,c):rc(i,r):y._visibility&2?Pi(i,r,o,c):(y._visibility|=2,xo(i,r,o,c,(r.subtreeFlags&10256)!==0)),p&2048&&Jm(b,r);break;case 24:Pi(i,r,o,c),p&2048&&ep(r.alternate,r);break;default:Pi(i,r,o,c)}}function xo(i,r,o,c,p){for(p=p&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var y=i,b=r,A=o,P=c,Q=b.flags;switch(b.tag){case 0:case 11:case 15:xo(y,b,A,P,p),ic(8,b);break;case 23:break;case 22:var ne=b.stateNode;b.memoizedState!==null?ne._visibility&2?xo(y,b,A,P,p):rc(y,b):(ne._visibility|=2,xo(y,b,A,P,p)),p&&Q&2048&&Jm(b.alternate,b);break;case 24:xo(y,b,A,P,p),p&&Q&2048&&ep(b.alternate,b);break;default:xo(y,b,A,P,p)}r=r.sibling}}function rc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,p=c.flags;switch(c.tag){case 22:rc(o,c),p&2048&&Jm(c.alternate,c);break;case 24:rc(o,c),p&2048&&ep(c.alternate,c);break;default:rc(o,c)}r=r.sibling}}var ac=8192;function To(i){if(i.subtreeFlags&ac)for(i=i.child;i!==null;)l_(i),i=i.sibling}function l_(i){switch(i.tag){case 26:To(i),i.flags&ac&&i.memoizedState!==null&&fR(hi,i.memoizedState,i.memoizedProps);break;case 5:To(i);break;case 3:case 4:var r=hi;hi=zh(i.stateNode.containerInfo),To(i),hi=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=ac,ac=16777216,To(i),ac=r):To(i));break;default:To(i)}}function c_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function oc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];zt=c,h_(c,i)}c_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)u_(i),i=i.sibling}function u_(i){switch(i.tag){case 0:case 11:case 15:oc(i),i.flags&2048&&Qs(9,i,i.return);break;case 3:oc(i);break;case 12:oc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Nh(i)):oc(i);break;default:oc(i)}}function Nh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];zt=c,h_(c,i)}c_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Qs(8,r,r.return),Nh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Nh(r));break;default:Nh(r)}i=i.sibling}}function h_(i,r){for(;zt!==null;){var o=zt;switch(o.tag){case 0:case 11:case 15:Qs(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Hl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,zt=c;else e:for(o=i;zt!==null;){c=zt;var p=c.sibling,y=c.return;if(n_(c),c===o){zt=null;break e}if(p!==null){p.return=y,zt=p;break e}zt=y}}}var NC={getCacheForType:function(i){var r=nn(Pt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o}},IC=typeof WeakMap=="function"?WeakMap:Map,Xe=0,at=null,ke=null,ze=0,We=0,Pn=null,Zs=!1,Eo=!1,tp=!1,xs=0,yt=0,Js=0,pa=0,np=0,Wn=0,bo=0,lc=null,En=null,ip=!1,sp=0,Ih=1/0,jh=null,er=null,Kt=0,tr=null,wo=null,So=0,rp=0,ap=null,d_=null,cc=0,op=null;function Vn(){if((Xe&2)!==0&&ze!==0)return ze&-ze;if(ee.T!==null){var i=ho;return i!==0?i:mp()}return Vs()}function f_(){Wn===0&&(Wn=(ze&536870912)===0||qe?vl():536870912);var i=Xn.current;return i!==null&&(i.flags|=32),Wn}function On(i,r,o){(i===at&&(We===2||We===9)||i.cancelPendingCommit!==null)&&(Ao(i,0),nr(i,ze,Wn,!1)),Zi(i,o),((Xe&2)===0||i!==at)&&(i===at&&((Xe&2)===0&&(pa|=o),yt===4&&nr(i,ze,Wn,!1)),Vi(i))}function m_(i,r,o){if((Xe&6)!==0)throw Error(s(327));var c=!o&&(r&124)===0&&(r&i.expiredLanes)===0||zr(i,r),p=c?MC(i,r):up(i,r,!0),y=c;do{if(p===0){Eo&&!c&&nr(i,r,0,!1);break}else{if(o=i.current.alternate,y&&!jC(o)){p=up(i,r,!1),y=!1;continue}if(p===2){if(y=r,i.errorRecoveryDisabledLanes&y)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var A=i;p=lc;var P=A.current.memoizedState.isDehydrated;if(P&&(Ao(A,b).flags|=256),b=up(A,b,!1),b!==2){if(tp&&!P){A.errorRecoveryDisabledLanes|=y,pa|=y,p=4;break e}y=En,En=p,y!==null&&(En===null?En=y:En.push.apply(En,y))}p=b}if(y=!1,p!==2)continue}}if(p===1){Ao(i,0),nr(i,r,0,!0);break}e:{switch(c=i,y=p,y){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:nr(c,r,Wn,!Zs);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(p=sp+300-Bn(),10<p)){if(nr(c,r,Wn,!Zs),Fa(c,0,!0)!==0)break e;c.timeoutHandle=H_(p_.bind(null,c,o,En,jh,ip,r,Wn,pa,bo,Zs,y,2,-0,0),p);break e}p_(c,o,En,jh,ip,r,Wn,pa,bo,Zs,y,0,-0,0)}}break}while(!0);Vi(i)}function p_(i,r,o,c,p,y,b,A,P,Q,ne,re,X,W){if(i.timeoutHandle=-1,re=r.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(gc={stylesheets:null,count:0,unsuspend:dR},l_(r),re=mR(),re!==null)){i.cancelPendingCommit=re(E_.bind(null,i,r,y,o,c,p,b,A,P,ne,1,X,W)),nr(i,y,b,!Q);return}E_(i,r,y,o,c,p,b,A,P)}function jC(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var p=o[c],y=p.getSnapshot;p=p.value;try{if(!jn(y(),p))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function nr(i,r,o,c){r&=~np,r&=~pa,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var p=r;0<p;){var y=31-tn(p),b=1<<y;c[y]=-1,p&=~b}o!==0&&Ti(i,o,r)}function Dh(){return(Xe&6)===0?(uc(0),!1):!0}function lp(){if(ke!==null){if(We===0)var i=ke.return;else i=ke,ds=ca=null,Sm(i),vo=null,ec=0,i=ke;for(;i!==null;)Y1(i.alternate,i),i=i.return;ke=null}}function Ao(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,QC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),lp(),at=i,ke=o=cs(i.current,null),ze=r,We=0,Pn=null,Zs=!1,Eo=zr(i,r),tp=!1,bo=Wn=np=pa=Js=yt=0,En=lc=null,ip=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var p=31-tn(c),y=1<<p;r|=i[p],c&=~y}return xs=r,eh(),o}function g_(i,r){Ie=null,ee.H=_h,r===Gl||r===ch?(r=M0(),We=3):r===I0?(r=M0(),We=4):We=r===k1?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Pn=r,ke===null&&(yt=1,wh(i,$n(r,i.current)))}function y_(){var i=ee.H;return ee.H=_h,i===null?_h:i}function v_(){var i=ee.A;return ee.A=NC,i}function cp(){yt=4,Zs||(ze&4194048)!==ze&&Xn.current!==null||(Eo=!0),(Js&134217727)===0&&(pa&134217727)===0||at===null||nr(at,ze,Wn,!1)}function up(i,r,o){var c=Xe;Xe|=2;var p=y_(),y=v_();(at!==i||ze!==r)&&(jh=null,Ao(i,r)),r=!1;var b=yt;e:do try{if(We!==0&&ke!==null){var A=ke,P=Pn;switch(We){case 8:lp(),b=6;break e;case 3:case 2:case 9:case 6:Xn.current===null&&(r=!0);var Q=We;if(We=0,Pn=null,Co(i,A,P,Q),o&&Eo){b=0;break e}break;default:Q=We,We=0,Pn=null,Co(i,A,P,Q)}}DC(),b=yt;break}catch(ne){g_(i,ne)}while(!0);return r&&i.shellSuspendCounter++,ds=ca=null,Xe=c,ee.H=p,ee.A=y,ke===null&&(at=null,ze=0,eh()),b}function DC(){for(;ke!==null;)__(ke)}function MC(i,r){var o=Xe;Xe|=2;var c=y_(),p=v_();at!==i||ze!==r?(jh=null,Ih=Bn()+500,Ao(i,r)):Eo=zr(i,r);e:do try{if(We!==0&&ke!==null){r=ke;var y=Pn;t:switch(We){case 1:We=0,Pn=null,Co(i,r,y,1);break;case 2:case 9:if(j0(y)){We=0,Pn=null,x_(r);break}r=function(){We!==2&&We!==9||at!==i||(We=7),Vi(i)},y.then(r,r);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:j0(y)?(We=0,Pn=null,x_(r)):(We=0,Pn=null,Co(i,r,y,7));break;case 5:var b=null;switch(ke.tag){case 26:b=ke.memoizedState;case 5:case 27:var A=ke;if(!b||tx(b)){We=0,Pn=null;var P=A.sibling;if(P!==null)ke=P;else{var Q=A.return;Q!==null?(ke=Q,Mh(Q)):ke=null}break t}}We=0,Pn=null,Co(i,r,y,5);break;case 6:We=0,Pn=null,Co(i,r,y,6);break;case 8:lp(),yt=6;break e;default:throw Error(s(462))}}kC();break}catch(ne){g_(i,ne)}while(!0);return ds=ca=null,ee.H=c,ee.A=p,Xe=o,ke!==null?0:(at=null,ze=0,eh(),yt)}function kC(){for(;ke!==null&&!ml();)__(ke)}function __(i){var r=$1(i.alternate,i,xs);i.memoizedProps=i.pendingProps,r===null?Mh(i):ke=r}function x_(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=B1(o,r,r.pendingProps,r.type,void 0,ze);break;case 11:r=B1(o,r,r.pendingProps,r.type.render,r.ref,ze);break;case 5:Sm(r);default:Y1(o,r),r=ke=T0(r,xs),r=$1(o,r,xs)}i.memoizedProps=i.pendingProps,r===null?Mh(i):ke=r}function Co(i,r,o,c){ds=ca=null,Sm(r),vo=null,ec=0;var p=r.return;try{if(bC(i,p,r,o,ze)){yt=1,wh(i,$n(o,i.current)),ke=null;return}}catch(y){if(p!==null)throw ke=p,y;yt=1,wh(i,$n(o,i.current)),ke=null;return}r.flags&32768?(qe||c===1?i=!0:Eo||(ze&536870912)!==0?i=!1:(Zs=i=!0,(c===2||c===9||c===3||c===6)&&(c=Xn.current,c!==null&&c.tag===13&&(c.flags|=16384))),T_(r,i)):Mh(r)}function Mh(i){var r=i;do{if((r.flags&32768)!==0){T_(r,Zs);return}i=r.return;var o=SC(r.alternate,r,xs);if(o!==null){ke=o;return}if(r=r.sibling,r!==null){ke=r;return}ke=r=i}while(r!==null);yt===0&&(yt=5)}function T_(i,r){do{var o=AC(i.alternate,i);if(o!==null){o.flags&=32767,ke=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){ke=i;return}ke=i=o}while(i!==null);yt=6,ke=null}function E_(i,r,o,c,p,y,b,A,P){i.cancelPendingCommit=null;do kh();while(Kt!==0);if((Xe&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(y=r.lanes|r.childLanes,y|=em,xl(i,o,y,b,A,P),i===at&&(ke=at=null,ze=0),wo=r,tr=i,So=o,rp=y,ap=p,d_=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,LC(Or,function(){return C_(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=ee.T,ee.T=null,p=le.p,le.p=2,b=Xe,Xe|=4;try{CC(i,r,o)}finally{Xe=b,le.p=p,ee.T=c}}Kt=1,b_(),w_(),S_()}}function b_(){if(Kt===1){Kt=0;var i=tr,r=wo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=ee.T,ee.T=null;var c=le.p;le.p=2;var p=Xe;Xe|=4;try{r_(r,i);var y=Ep,b=h0(i.containerInfo),A=y.focusedElem,P=y.selectionRange;if(b!==A&&A&&A.ownerDocument&&u0(A.ownerDocument.documentElement,A)){if(P!==null&&Qf(A)){var Q=P.start,ne=P.end;if(ne===void 0&&(ne=Q),"selectionStart"in A)A.selectionStart=Q,A.selectionEnd=Math.min(ne,A.value.length);else{var re=A.ownerDocument||document,X=re&&re.defaultView||window;if(X.getSelection){var W=X.getSelection(),Se=A.textContent.length,xe=Math.min(P.start,Se),nt=P.end===void 0?xe:Math.min(P.end,Se);!W.extend&&xe>nt&&(b=nt,nt=xe,xe=b);var G=c0(A,xe),z=c0(A,nt);if(G&&z&&(W.rangeCount!==1||W.anchorNode!==G.node||W.anchorOffset!==G.offset||W.focusNode!==z.node||W.focusOffset!==z.offset)){var K=re.createRange();K.setStart(G.node,G.offset),W.removeAllRanges(),xe>nt?(W.addRange(K),W.extend(z.node,z.offset)):(K.setEnd(z.node,z.offset),W.addRange(K))}}}}for(re=[],W=A;W=W.parentNode;)W.nodeType===1&&re.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<re.length;A++){var ie=re[A];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}$h=!!Tp,Ep=Tp=null}finally{Xe=p,le.p=c,ee.T=o}}i.current=r,Kt=2}}function w_(){if(Kt===2){Kt=0;var i=tr,r=wo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=ee.T,ee.T=null;var c=le.p;le.p=2;var p=Xe;Xe|=4;try{t_(i,r.alternate,r)}finally{Xe=p,le.p=c,ee.T=o}}Kt=3}}function S_(){if(Kt===4||Kt===3){Kt=0,Nu();var i=tr,r=wo,o=So,c=d_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Kt=5:(Kt=0,wo=tr=null,A_(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(er=null),Ha(o),r=r.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(pt,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=ee.T,p=le.p,le.p=2,ee.T=null;try{for(var y=i.onRecoverableError,b=0;b<c.length;b++){var A=c[b];y(A.value,{componentStack:A.stack})}}finally{ee.T=r,le.p=p}}(So&3)!==0&&kh(),Vi(i),p=i.pendingLanes,(o&4194090)!==0&&(p&42)!==0?i===op?cc++:(cc=0,op=i):cc=0,uc(0)}}function A_(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Hl(r)))}function kh(i){return b_(),w_(),S_(),C_()}function C_(){if(Kt!==5)return!1;var i=tr,r=rp;rp=0;var o=Ha(So),c=ee.T,p=le.p;try{le.p=32>o?32:o,ee.T=null,o=ap,ap=null;var y=tr,b=So;if(Kt=0,wo=tr=null,So=0,(Xe&6)!==0)throw Error(s(331));var A=Xe;if(Xe|=4,u_(y.current),o_(y,y.current,b,o),Xe=A,uc(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(pt,y)}catch{}return!0}finally{le.p=p,ee.T=c,A_(i,r)}}function R_(i,r,o){r=$n(o,r),r=Um(i.stateNode,r,2),i=Gs(i,r,2),i!==null&&(Zi(i,2),Vi(i))}function rt(i,r,o){if(i.tag===3)R_(i,i,o);else for(;r!==null;){if(r.tag===3){R_(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(er===null||!er.has(c))){i=$n(o,i),o=D1(2),c=Gs(r,o,2),c!==null&&(M1(o,c,r,i),Zi(c,2),Vi(c));break}}r=r.return}}function hp(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new IC;var p=new Set;c.set(r,p)}else p=c.get(r),p===void 0&&(p=new Set,c.set(r,p));p.has(o)||(tp=!0,p.add(o),i=PC.bind(null,i,r,o),r.then(i,i))}function PC(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,at===i&&(ze&o)===o&&(yt===4||yt===3&&(ze&62914560)===ze&&300>Bn()-sp?(Xe&2)===0&&Ao(i,0):np|=o,bo===ze&&(bo=0)),Vi(i)}function N_(i,r){r===0&&(r=_l()),i=oo(i,r),i!==null&&(Zi(i,r),Vi(i))}function VC(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),N_(i,o)}function OC(i,r){var o=0;switch(i.tag){case 13:var c=i.stateNode,p=i.memoizedState;p!==null&&(o=p.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),N_(i,o)}function LC(i,r){return Pr(i,r)}var Ph=null,Ro=null,dp=!1,Vh=!1,fp=!1,ga=0;function Vi(i){i!==Ro&&i.next===null&&(Ro===null?Ph=Ro=i:Ro=Ro.next=i),Vh=!0,dp||(dp=!0,BC())}function uc(i,r){if(!fp&&Vh){fp=!0;do for(var o=!1,c=Ph;c!==null;){if(i!==0){var p=c.pendingLanes;if(p===0)var y=0;else{var b=c.suspendedLanes,A=c.pingedLanes;y=(1<<31-tn(42|i)+1)-1,y&=p&~(b&~A),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,M_(c,y))}else y=ze,y=Fa(c,c===at?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||zr(c,y)||(o=!0,M_(c,y));c=c.next}while(o);fp=!1}}function UC(){I_()}function I_(){Vh=dp=!1;var i=0;ga!==0&&(YC()&&(i=ga),ga=0);for(var r=Bn(),o=null,c=Ph;c!==null;){var p=c.next,y=j_(c,r);y===0?(c.next=null,o===null?Ph=p:o.next=p,p===null&&(Ro=o)):(o=c,(i!==0||(y&3)!==0)&&(Vh=!0)),c=p}uc(i)}function j_(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var b=31-tn(y),A=1<<b,P=p[b];P===-1?((A&o)===0||(A&c)!==0)&&(p[b]=yl(A,r)):P<=r&&(i.expiredLanes|=A),y&=~A}if(r=at,o=ze,o=Fa(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(We===2||We===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Vr(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||zr(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&Vr(c),Ha(o)){case 2:case 8:o=Ba;break;case 32:o=Or;break;case 268435456:o=za;break;default:o=Or}return c=D_.bind(null,i),o=Pr(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&Vr(c),i.callbackPriority=2,i.callbackNode=null,2}function D_(i,r){if(Kt!==0&&Kt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(kh()&&i.callbackNode!==o)return null;var c=ze;return c=Fa(i,i===at?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(m_(i,c,r),j_(i,Bn()),i.callbackNode!=null&&i.callbackNode===o?D_.bind(null,i):null)}function M_(i,r){if(kh())return null;m_(i,r,!0)}function BC(){XC(function(){(Xe&6)!==0?Pr(pl,UC):I_()})}function mp(){return ga===0&&(ga=vl()),ga}function k_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Qa(""+i)}function P_(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function zC(i,r,o,c,p){if(r==="submit"&&o&&o.stateNode===p){var y=k_((p[St]||null).action),b=c.submitter;b&&(r=(r=b[St]||null)?k_(r.formAction):b.getAttribute("formAction"),r!==null&&(y=r,b=null));var A=new Xa("action","action",null,c,p);i.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ga!==0){var P=b?P_(p,b):new FormData(p);km(o,{pending:!0,data:P,method:p.method,action:y},null,P)}}else typeof y=="function"&&(A.preventDefault(),P=b?P_(p,b):new FormData(p),km(o,{pending:!0,data:P,method:p.method,action:y},y,P))},currentTarget:p}]})}}for(var pp=0;pp<Jf.length;pp++){var gp=Jf[pp],FC=gp.toLowerCase(),HC=gp[0].toUpperCase()+gp.slice(1);ui(FC,"on"+HC)}ui(m0,"onAnimationEnd"),ui(p0,"onAnimationIteration"),ui(g0,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(aC,"onTransitionRun"),ui(oC,"onTransitionStart"),ui(lC,"onTransitionCancel"),ui(y0,"onTransitionEnd"),es("onMouseEnter",["mouseout","mouseover"]),es("onMouseLeave",["mouseout","mouseover"]),es("onPointerEnter",["pointerout","pointerover"]),es("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hc));function V_(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],p=c.event;c=c.listeners;e:{var y=void 0;if(r)for(var b=c.length-1;0<=b;b--){var A=c[b],P=A.instance,Q=A.currentTarget;if(A=A.listener,P!==y&&p.isPropagationStopped())break e;y=A,p.currentTarget=Q;try{y(p)}catch(ne){bh(ne)}p.currentTarget=null,y=P}else for(b=0;b<c.length;b++){if(A=c[b],P=A.instance,Q=A.currentTarget,A=A.listener,P!==y&&p.isPropagationStopped())break e;y=A,p.currentTarget=Q;try{y(p)}catch(ne){bh(ne)}p.currentTarget=null,y=P}}}}function Pe(i,r){var o=r[El];o===void 0&&(o=r[El]=new Set);var c=i+"__bubble";o.has(c)||(O_(r,i,2,!1),o.add(c))}function yp(i,r,o){var c=0;r&&(c|=4),O_(o,i,c,r)}var Oh="_reactListening"+Math.random().toString(36).slice(2);function vp(i){if(!i[Oh]){i[Oh]=!0,bl.forEach(function(o){o!=="selectionchange"&&(qC.has(o)||yp(o,!1,i),yp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Oh]||(r[Oh]=!0,yp("selectionchange",!1,r))}}function O_(i,r,o,c){switch(ox(r)){case 2:var p=yR;break;case 8:p=vR;break;default:p=Dp}o=p.bind(null,r,o,i),p=void 0,!qn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),c?p!==void 0?i.addEventListener(r,o,{capture:!0,passive:p}):i.addEventListener(r,o,!0):p!==void 0?i.addEventListener(r,o,{passive:p}):i.addEventListener(r,o,!1)}function _p(i,r,o,c,p){var y=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var A=c.stateNode.containerInfo;if(A===p)break;if(b===4)for(b=c.return;b!==null;){var P=b.tag;if((P===3||P===4)&&b.stateNode.containerInfo===p)return;b=b.return}for(;A!==null;){if(b=Ji(A),b===null)return;if(P=b.tag,P===5||P===6||P===26||P===27){c=y=b;continue e}A=A.parentNode}}c=c.return}Uu(function(){var Q=y,ne=Hn(o),re=[];e:{var X=v0.get(i);if(X!==void 0){var W=Xa,Se=i;switch(i){case"keypress":if(Ci(o)===0)break e;case"keydown":case"keyup":W=no;break;case"focusin":Se="focus",W=Ja;break;case"focusout":Se="blur",W=Ja;break;case"beforeblur":case"afterblur":W=Ja;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Gf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Ku;break;case m0:case p0:case g0:W=eo;break;case y0:W=Qu;break;case"scroll":case"scrollend":W=Bu;break;case"wheel":W=io;break;case"copy":case"cut":case"paste":W=to;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Pl;break;case"toggle":case"beforetoggle":W=Wu}var xe=(r&4)!==0,nt=!xe&&(i==="scroll"||i==="scrollend"),G=xe?X!==null?X+"Capture":null:X;xe=[];for(var z=Q,K;z!==null;){var ie=z;if(K=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||K===null||G===null||(ie=Qr(z,G),ie!=null&&xe.push(dc(z,ie,K))),nt)break;z=z.return}0<xe.length&&(X=new W(X,Se,null,o,ne),re.push({event:X,listeners:xe}))}}if((r&7)===0){e:{if(X=i==="mouseover"||i==="pointerover",W=i==="mouseout"||i==="pointerout",X&&o!==is&&(Se=o.relatedTarget||o.fromElement)&&(Ji(Se)||Se[zn]))break e;if((W||X)&&(X=ne.window===ne?ne:(X=ne.ownerDocument)?X.defaultView||X.parentWindow:window,W?(Se=o.relatedTarget||o.toElement,W=Q,Se=Se?Ji(Se):null,Se!==null&&(nt=l(Se),xe=Se.tag,Se!==nt||xe!==5&&xe!==27&&xe!==6)&&(Se=null)):(W=null,Se=Q),W!==Se)){if(xe=Gn,ie="onMouseLeave",G="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(xe=Pl,ie="onPointerLeave",G="onPointerEnter",z="pointer"),nt=W==null?X:bi(W),K=Se==null?X:bi(Se),X=new xe(ie,z+"leave",W,o,ne),X.target=nt,X.relatedTarget=K,ie=null,Ji(ne)===Q&&(xe=new xe(G,z+"enter",Se,o,ne),xe.target=K,xe.relatedTarget=nt,ie=xe),nt=ie,W&&Se)t:{for(xe=W,G=Se,z=0,K=xe;K;K=No(K))z++;for(K=0,ie=G;ie;ie=No(ie))K++;for(;0<z-K;)xe=No(xe),z--;for(;0<K-z;)G=No(G),K--;for(;z--;){if(xe===G||G!==null&&xe===G.alternate)break t;xe=No(xe),G=No(G)}xe=null}else xe=null;W!==null&&L_(re,X,W,xe,!1),Se!==null&&nt!==null&&L_(re,nt,Se,xe,!0)}}e:{if(X=Q?bi(Q):window,W=X.nodeName&&X.nodeName.toLowerCase(),W==="select"||W==="input"&&X.type==="file")var ge=i0;else if(kt(X))if(s0)ge=iC;else{ge=tC;var De=eC}else W=X.nodeName,!W||W.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Q&&Rl(Q.elementType)&&(ge=i0):ge=nC;if(ge&&(ge=ge(i,Q))){ls(re,ge,o,ne);break e}De&&De(i,X,Q),i==="focusout"&&Q&&X.type==="number"&&Q.memoizedProps.value!=null&&Bs(X,"number",X.value)}switch(De=Q?bi(Q):window,i){case"focusin":(kt(De)||De.contentEditable==="true")&&(so=De,Xf=Q,Ll=null);break;case"focusout":Ll=Xf=so=null;break;case"mousedown":Wf=!0;break;case"contextmenu":case"mouseup":case"dragend":Wf=!1,d0(re,o,ne);break;case"selectionchange":if(rC)break;case"keydown":case"keyup":d0(re,o,ne)}var ve;if(Ii)e:{switch(i){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Ue?J(i,o)&&(Ee="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Ee="onCompositionStart");Ee&&(E&&o.locale!=="ko"&&(Ue||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Ue&&(ve=Il()):(Ai=ne,zs="value"in Ai?Ai.value:Ai.textContent,Ue=!0)),De=Lh(Q,Ee),0<De.length&&(Ee=new Ml(Ee,i,null,o,ne),re.push({event:Ee,listeners:De}),ve?Ee.data=ve:(ve=ce(o),ve!==null&&(Ee.data=ve)))),(ve=_?Mt(i,o):Be(i,o))&&(Ee=Lh(Q,"onBeforeInput"),0<Ee.length&&(De=new Ml("onBeforeInput","beforeinput",null,o,ne),re.push({event:De,listeners:Ee}),De.data=ve)),zC(re,i,Q,o,ne)}V_(re,r)})}function dc(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Lh(i,r){for(var o=r+"Capture",c=[];i!==null;){var p=i,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Qr(i,o),p!=null&&c.unshift(dc(i,p,y)),p=Qr(i,r),p!=null&&c.push(dc(i,p,y))),i.tag===3)return c;i=i.return}return[]}function No(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function L_(i,r,o,c,p){for(var y=r._reactName,b=[];o!==null&&o!==c;){var A=o,P=A.alternate,Q=A.stateNode;if(A=A.tag,P!==null&&P===c)break;A!==5&&A!==26&&A!==27||Q===null||(P=Q,p?(Q=Qr(o,y),Q!=null&&b.unshift(dc(o,Q,P))):p||(Q=Qr(o,y),Q!=null&&b.push(dc(o,Q,P)))),o=o.return}b.length!==0&&i.push({event:r,listeners:b})}var GC=/\r\n?/g,$C=/\u0000|\uFFFD/g;function U_(i){return(typeof i=="string"?i:""+i).replace(GC,`
`).replace($C,"")}function B_(i,r){return r=U_(r),U_(i)===r}function Uh(){}function tt(i,r,o,c,p,y){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Fn(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Fn(i,""+c);break;case"className":wi(i,"class",c);break;case"tabIndex":wi(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":wi(i,o,c);break;case"style":Cl(i,c,y);break;case"data":if(r!=="object"){wi(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Qa(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(r!=="input"&&tt(i,r,"name",p.name,p,null),tt(i,r,"formEncType",p.formEncType,p,null),tt(i,r,"formMethod",p.formMethod,p,null),tt(i,r,"formTarget",p.formTarget,p,null)):(tt(i,r,"encType",p.encType,p,null),tt(i,r,"method",p.method,p,null),tt(i,r,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Qa(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=Uh);break;case"onScroll":c!=null&&Pe("scroll",i);break;case"onScrollEnd":c!=null&&Pe("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=Qa(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Pe("beforetoggle",i),Pe("toggle",i),Us(i,"popover",c);break;case"xlinkActuate":qt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":qt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":qt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":qt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":qt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":qt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":qt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":qt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":qt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Us(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Hf.get(o)||o,Us(i,o,c))}}function xp(i,r,o,c,p,y){switch(o){case"style":Cl(i,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?Fn(i,c):(typeof c=="number"||typeof c=="bigint")&&Fn(i,""+c);break;case"onScroll":c!=null&&Pe("scroll",i);break;case"onScrollEnd":c!=null&&Pe("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Uh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qa.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),r=o.slice(2,p?o.length-7:void 0),y=i[St]||null,y=y!=null?y[o]:null,typeof y=="function"&&i.removeEventListener(r,y,p),typeof c=="function")){typeof y!="function"&&y!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,p);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):Us(i,o,c)}}}function Yt(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",i),Pe("load",i);var c=!1,p=!1,y;for(y in o)if(o.hasOwnProperty(y)){var b=o[y];if(b!=null)switch(y){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(i,r,y,b,o,null)}}p&&tt(i,r,"srcSet",o.srcSet,o,null),c&&tt(i,r,"src",o.src,o,null);return;case"input":Pe("invalid",i);var A=y=b=p=null,P=null,Q=null;for(c in o)if(o.hasOwnProperty(c)){var ne=o[c];if(ne!=null)switch(c){case"name":p=ne;break;case"type":b=ne;break;case"checked":P=ne;break;case"defaultChecked":Q=ne;break;case"value":y=ne;break;case"defaultValue":A=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,r));break;default:tt(i,r,c,ne,o,null)}}$r(i,y,A,P,Q,b,p,!1),Ya(i);return;case"select":Pe("invalid",i),c=b=y=null;for(p in o)if(o.hasOwnProperty(p)&&(A=o[p],A!=null))switch(p){case"value":y=A;break;case"defaultValue":b=A;break;case"multiple":c=A;default:tt(i,r,p,A,o,null)}r=y,o=b,i.multiple=!!c,r!=null?ns(i,!!c,r,!1):o!=null&&ns(i,!!c,o,!0);return;case"textarea":Pe("invalid",i),y=p=c=null;for(b in o)if(o.hasOwnProperty(b)&&(A=o[b],A!=null))switch(b){case"value":c=A;break;case"defaultValue":p=A;break;case"children":y=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:tt(i,r,b,A,o,null)}Kr(i,c,p,y),Ya(i);return;case"option":for(P in o)if(o.hasOwnProperty(P)&&(c=o[P],c!=null))switch(P){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:tt(i,r,P,c,o,null)}return;case"dialog":Pe("beforetoggle",i),Pe("toggle",i),Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":Pe("load",i);break;case"video":case"audio":for(c=0;c<hc.length;c++)Pe(hc[c],i);break;case"image":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"embed":case"source":case"link":Pe("error",i),Pe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(c=o[Q],c!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(i,r,Q,c,o,null)}return;default:if(Rl(r)){for(ne in o)o.hasOwnProperty(ne)&&(c=o[ne],c!==void 0&&xp(i,r,ne,c,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(c=o[A],c!=null&&tt(i,r,A,c,o,null))}function KC(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,b=null,A=null,P=null,Q=null,ne=null;for(W in o){var re=o[W];if(o.hasOwnProperty(W)&&re!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":P=re;default:c.hasOwnProperty(W)||tt(i,r,W,null,c,re)}}for(var X in c){var W=c[X];if(re=o[X],c.hasOwnProperty(X)&&(W!=null||re!=null))switch(X){case"type":y=W;break;case"name":p=W;break;case"checked":Q=W;break;case"defaultChecked":ne=W;break;case"value":b=W;break;case"defaultValue":A=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:W!==re&&tt(i,r,X,W,c,re)}}In(i,b,A,P,Q,ne,y,p);return;case"select":W=b=A=X=null;for(y in o)if(P=o[y],o.hasOwnProperty(y)&&P!=null)switch(y){case"value":break;case"multiple":W=P;default:c.hasOwnProperty(y)||tt(i,r,y,null,c,P)}for(p in c)if(y=c[p],P=o[p],c.hasOwnProperty(p)&&(y!=null||P!=null))switch(p){case"value":X=y;break;case"defaultValue":A=y;break;case"multiple":b=y;default:y!==P&&tt(i,r,p,y,c,P)}r=A,o=b,c=W,X!=null?ns(i,!!o,X,!1):!!c!=!!o&&(r!=null?ns(i,!!o,r,!0):ns(i,!!o,o?[]:"",!1));return;case"textarea":W=X=null;for(A in o)if(p=o[A],o.hasOwnProperty(A)&&p!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:tt(i,r,A,null,c,p)}for(b in c)if(p=c[b],y=o[b],c.hasOwnProperty(b)&&(p!=null||y!=null))switch(b){case"value":X=p;break;case"defaultValue":W=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==y&&tt(i,r,b,p,c,y)}Je(i,X,W);return;case"option":for(var Se in o)if(X=o[Se],o.hasOwnProperty(Se)&&X!=null&&!c.hasOwnProperty(Se))switch(Se){case"selected":i.selected=!1;break;default:tt(i,r,Se,null,c,X)}for(P in c)if(X=c[P],W=o[P],c.hasOwnProperty(P)&&X!==W&&(X!=null||W!=null))switch(P){case"selected":i.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:tt(i,r,P,X,c,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in o)X=o[xe],o.hasOwnProperty(xe)&&X!=null&&!c.hasOwnProperty(xe)&&tt(i,r,xe,null,c,X);for(Q in c)if(X=c[Q],W=o[Q],c.hasOwnProperty(Q)&&X!==W&&(X!=null||W!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:tt(i,r,Q,X,c,W)}return;default:if(Rl(r)){for(var nt in o)X=o[nt],o.hasOwnProperty(nt)&&X!==void 0&&!c.hasOwnProperty(nt)&&xp(i,r,nt,void 0,c,X);for(ne in c)X=c[ne],W=o[ne],!c.hasOwnProperty(ne)||X===W||X===void 0&&W===void 0||xp(i,r,ne,X,c,W);return}}for(var G in o)X=o[G],o.hasOwnProperty(G)&&X!=null&&!c.hasOwnProperty(G)&&tt(i,r,G,null,c,X);for(re in c)X=c[re],W=o[re],!c.hasOwnProperty(re)||X===W||X==null&&W==null||tt(i,r,re,X,c,W)}var Tp=null,Ep=null;function Bh(i){return i.nodeType===9?i:i.ownerDocument}function z_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function F_(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function bp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var wp=null;function YC(){var i=window.event;return i&&i.type==="popstate"?i===wp?!1:(wp=i,!0):(wp=null,!1)}var H_=typeof setTimeout=="function"?setTimeout:void 0,QC=typeof clearTimeout=="function"?clearTimeout:void 0,q_=typeof Promise=="function"?Promise:void 0,XC=typeof queueMicrotask=="function"?queueMicrotask:typeof q_<"u"?function(i){return q_.resolve(null).then(i).catch(WC)}:H_;function WC(i){setTimeout(function(){throw i})}function ir(i){return i==="head"}function G_(i,r){var o=r,c=0,p=0;do{var y=o.nextSibling;if(i.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(0<c&&8>c){o=c;var b=i.ownerDocument;if(o&1&&fc(b.documentElement),o&2&&fc(b.body),o&4)for(o=b.head,fc(o),b=o.firstChild;b;){var A=b.nextSibling,P=b.nodeName;b[Fr]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&b.rel.toLowerCase()==="stylesheet"||o.removeChild(b),b=A}}if(p===0){i.removeChild(y),Tc(r);return}p--}else o==="$"||o==="$?"||o==="$!"?p++:c=o.charCodeAt(0)-48;else c=0;o=y}while(o);Tc(r)}function Sp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Sp(o),Ls(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function ZC(i,r,o,c){for(;i.nodeType===1;){var p=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Fr])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=di(i.nextSibling),i===null)break}return null}function JC(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=di(i.nextSibling),i===null))return null;return i}function Ap(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function eR(i,r){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function di(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var Cp=null;function $_(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return i;r--}else o==="/$"&&r++}i=i.previousSibling}return null}function K_(i,r,o){switch(r=Bh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function fc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Ls(i)}var Zn=new Map,Y_=new Set;function zh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ts=le.d;le.d={f:tR,r:nR,D:iR,C:sR,L:rR,m:aR,X:lR,S:oR,M:cR};function tR(){var i=Ts.f(),r=Dh();return i||r}function nR(i){var r=Ei(i);r!==null&&r.tag===5&&r.type==="form"?m1(r):Ts.r(i)}var Io=typeof document>"u"?null:document;function Q_(i,r,o){var c=Io;if(c&&typeof r=="string"&&r){var p=At(r);p='link[rel="'+i+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),Y_.has(p)||(Y_.add(p),i={rel:i,crossOrigin:o,href:r},c.querySelector(p)===null&&(r=c.createElement("link"),Yt(r,"link",i),_t(r),c.head.appendChild(r)))}}function iR(i){Ts.D(i),Q_("dns-prefetch",i,null)}function sR(i,r){Ts.C(i,r),Q_("preconnect",i,r)}function rR(i,r,o){Ts.L(i,r,o);var c=Io;if(c&&i&&r){var p='link[rel="preload"][as="'+At(r)+'"]';r==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+At(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+At(o.imageSizes)+'"]')):p+='[href="'+At(i)+'"]';var y=p;switch(r){case"style":y=jo(i);break;case"script":y=Do(i)}Zn.has(y)||(i=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Zn.set(y,i),c.querySelector(p)!==null||r==="style"&&c.querySelector(mc(y))||r==="script"&&c.querySelector(pc(y))||(r=c.createElement("link"),Yt(r,"link",i),_t(r),c.head.appendChild(r)))}}function aR(i,r){Ts.m(i,r);var o=Io;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+At(c)+'"][href="'+At(i)+'"]',y=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Do(i)}if(!Zn.has(y)&&(i=v({rel:"modulepreload",href:i},r),Zn.set(y,i),o.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(pc(y)))return}c=o.createElement("link"),Yt(c,"link",i),_t(c),o.head.appendChild(c)}}}function oR(i,r,o){Ts.S(i,r,o);var c=Io;if(c&&i){var p=dn(c).hoistableStyles,y=jo(i);r=r||"default";var b=p.get(y);if(!b){var A={loading:0,preload:null};if(b=c.querySelector(mc(y)))A.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Zn.get(y))&&Rp(i,o);var P=b=c.createElement("link");_t(P),Yt(P,"link",i),P._p=new Promise(function(Q,ne){P.onload=Q,P.onerror=ne}),P.addEventListener("load",function(){A.loading|=1}),P.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Fh(b,r,c)}b={type:"stylesheet",instance:b,count:1,state:A},p.set(y,b)}}}function lR(i,r){Ts.X(i,r);var o=Io;if(o&&i){var c=dn(o).hoistableScripts,p=Do(i),y=c.get(p);y||(y=o.querySelector(pc(p)),y||(i=v({src:i,async:!0},r),(r=Zn.get(p))&&Np(i,r),y=o.createElement("script"),_t(y),Yt(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function cR(i,r){Ts.M(i,r);var o=Io;if(o&&i){var c=dn(o).hoistableScripts,p=Do(i),y=c.get(p);y||(y=o.querySelector(pc(p)),y||(i=v({src:i,async:!0,type:"module"},r),(r=Zn.get(p))&&Np(i,r),y=o.createElement("script"),_t(y),Yt(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function X_(i,r,o,c){var p=(p=Te.current)?zh(p):null;if(!p)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=jo(o.href),o=dn(p).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=jo(o.href);var y=dn(p).hoistableStyles,b=y.get(i);if(b||(p=p.ownerDocument||p,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,b),(y=p.querySelector(mc(i)))&&!y._p&&(b.instance=y,b.state.loading=5),Zn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Zn.set(i,o),y||uR(p,i,o,b.state))),r&&c===null)throw Error(s(528,""));return b}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Do(o),o=dn(p).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function jo(i){return'href="'+At(i)+'"'}function mc(i){return'link[rel="stylesheet"]['+i+"]"}function W_(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function uR(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),Yt(r,"link",o),_t(r),i.head.appendChild(r))}function Do(i){return'[src="'+At(i)+'"]'}function pc(i){return"script[async]"+i}function Z_(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+At(o.href)+'"]');if(c)return r.instance=c,_t(c),c;var p=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),_t(c),Yt(c,"style",p),Fh(c,o.precedence,i),r.instance=c;case"stylesheet":p=jo(o.href);var y=i.querySelector(mc(p));if(y)return r.state.loading|=4,r.instance=y,_t(y),y;c=W_(o),(p=Zn.get(p))&&Rp(c,p),y=(i.ownerDocument||i).createElement("link"),_t(y);var b=y;return b._p=new Promise(function(A,P){b.onload=A,b.onerror=P}),Yt(y,"link",c),r.state.loading|=4,Fh(y,o.precedence,i),r.instance=y;case"script":return y=Do(o.src),(p=i.querySelector(pc(y)))?(r.instance=p,_t(p),p):(c=o,(p=Zn.get(y))&&(c=v({},o),Np(c,p)),i=i.ownerDocument||i,p=i.createElement("script"),_t(p),Yt(p,"link",c),i.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Fh(c,o.precedence,i));return r.instance}function Fh(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,y=p,b=0;b<c.length;b++){var A=c[b];if(A.dataset.precedence===r)y=A;else if(y!==p)break}y?y.parentNode.insertBefore(i,y.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Rp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Np(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Hh=null;function J_(i,r,o){if(Hh===null){var c=new Map,p=Hh=new Map;p.set(o,c)}else p=Hh,c=p.get(o),c||(c=new Map,p.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),p=0;p<o.length;p++){var y=o[p];if(!(y[Fr]||y[Dt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var b=y.getAttribute(r)||"";b=i+b;var A=c.get(b);A?A.push(y):c.set(b,[y])}}return c}function ex(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function hR(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function tx(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var gc=null;function dR(){}function fR(i,r,o){if(gc===null)throw Error(s(475));var c=gc;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var p=jo(o.href),y=i.querySelector(mc(p));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=qh.bind(c),i.then(c,c)),r.state.loading|=4,r.instance=y,_t(y);return}y=i.ownerDocument||i,o=W_(o),(p=Zn.get(p))&&Rp(o,p),y=y.createElement("link"),_t(y);var b=y;b._p=new Promise(function(A,P){b.onload=A,b.onerror=P}),Yt(y,"link",o),r.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(c.count++,r=qh.bind(c),i.addEventListener("load",r),i.addEventListener("error",r))}}function mR(){if(gc===null)throw Error(s(475));var i=gc;return i.stylesheets&&i.count===0&&Ip(i,i.stylesheets),0<i.count?function(r){var o=setTimeout(function(){if(i.stylesheets&&Ip(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(o)}}:null}function qh(){if(this.count--,this.count===0){if(this.stylesheets)Ip(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Gh=null;function Ip(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Gh=new Map,r.forEach(pR,i),Gh=null,qh.call(i))}function pR(i,r){if(!(r.state.loading&4)){var o=Gh.get(i);if(o)var c=o.get(null);else{o=new Map,Gh.set(i,o);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var b=p[y];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),c=b)}c&&o.set(null,c)}p=r.instance,b=p.getAttribute("data-precedence"),y=o.get(b)||c,y===c&&o.set(null,p),o.set(b,p),this.count++,c=qh.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),y?y.parentNode.insertBefore(p,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),r.state.loading|=4}}var yc={$$typeof:H,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function gR(i,r,o,c,p,y,b,A){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wi(0),this.hiddenUpdates=Wi(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function nx(i,r,o,c,p,y,b,A,P,Q,ne,re){return i=new gR(i,r,o,b,A,P,Q,re),r=1,y===!0&&(r|=24),y=Dn(3,null,null,r),i.current=y,y.stateNode=i,r=hm(),r.refCount++,i.pooledCache=r,r.refCount++,y.memoizedState={element:c,isDehydrated:o,cache:r},pm(y),i}function ix(i){return i?(i=lo,i):lo}function sx(i,r,o,c,p,y){p=ix(p),c.context===null?c.context=p:c.pendingContext=p,c=qs(r),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=Gs(i,c,r),o!==null&&(On(o,i,r),Kl(o,i,r))}function rx(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function jp(i,r){rx(i,r),(i=i.alternate)&&rx(i,r)}function ax(i){if(i.tag===13){var r=oo(i,67108864);r!==null&&On(r,i,67108864),jp(i,67108864)}}var $h=!0;function yR(i,r,o,c){var p=ee.T;ee.T=null;var y=le.p;try{le.p=2,Dp(i,r,o,c)}finally{le.p=y,ee.T=p}}function vR(i,r,o,c){var p=ee.T;ee.T=null;var y=le.p;try{le.p=8,Dp(i,r,o,c)}finally{le.p=y,ee.T=p}}function Dp(i,r,o,c){if($h){var p=Mp(c);if(p===null)_p(i,r,c,Kh,o),lx(i,c);else if(xR(p,i,r,o,c))c.stopPropagation();else if(lx(i,c),r&4&&-1<_R.indexOf(i)){for(;p!==null;){var y=Ei(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var b=oi(y.pendingLanes);if(b!==0){var A=y;for(A.pendingLanes|=2,A.entangledLanes|=2;b;){var P=1<<31-tn(b);A.entanglements[1]|=P,b&=~P}Vi(y),(Xe&6)===0&&(Ih=Bn()+500,uc(0))}}break;case 13:A=oo(y,2),A!==null&&On(A,y,2),Dh(),jp(y,2)}if(y=Mp(c),y===null&&_p(i,r,c,Kh,o),y===p)break;p=y}p!==null&&c.stopPropagation()}else _p(i,r,c,null,o)}}function Mp(i){return i=Hn(i),kp(i)}var Kh=null;function kp(i){if(Kh=null,i=Ji(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Kh=i,null}function ox(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Of()){case pl:return 2;case Ba:return 8;case Or:case Lf:return 32;case za:return 268435456;default:return 32}default:return 32}}var Pp=!1,sr=null,rr=null,ar=null,vc=new Map,_c=new Map,or=[],_R="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lx(i,r){switch(i){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":vc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":_c.delete(r.pointerId)}}function xc(i,r,o,c,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:y,targetContainers:[p]},r!==null&&(r=Ei(r),r!==null&&ax(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),i)}function xR(i,r,o,c,p){switch(r){case"focusin":return sr=xc(sr,i,r,o,c,p),!0;case"dragenter":return rr=xc(rr,i,r,o,c,p),!0;case"mouseover":return ar=xc(ar,i,r,o,c,p),!0;case"pointerover":var y=p.pointerId;return vc.set(y,xc(vc.get(y)||null,i,r,o,c,p)),!0;case"gotpointercapture":return y=p.pointerId,_c.set(y,xc(_c.get(y)||null,i,r,o,c,p)),!0}return!1}function cx(i){var r=Ji(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,Du(i.priority,function(){if(o.tag===13){var c=Vn();c=Ps(c);var p=oo(o,c);p!==null&&On(p,o,c),jp(o,c)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Yh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Mp(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);is=c,o.target.dispatchEvent(c),is=null}else return r=Ei(o),r!==null&&ax(r),i.blockedOn=o,!1;r.shift()}return!0}function ux(i,r,o){Yh(i)&&o.delete(r)}function TR(){Pp=!1,sr!==null&&Yh(sr)&&(sr=null),rr!==null&&Yh(rr)&&(rr=null),ar!==null&&Yh(ar)&&(ar=null),vc.forEach(ux),_c.forEach(ux)}function Qh(i,r){i.blockedOn===r&&(i.blockedOn=null,Pp||(Pp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,TR)))}var Xh=null;function hx(i){Xh!==i&&(Xh=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Xh===i&&(Xh=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],p=i[r+2];if(typeof c!="function"){if(kp(c||o)===null)continue;break}var y=Ei(o);y!==null&&(i.splice(r,3),r-=3,km(y,{pending:!0,data:p,method:o.method,action:c},c,p))}}))}function Tc(i){function r(P){return Qh(P,i)}sr!==null&&Qh(sr,i),rr!==null&&Qh(rr,i),ar!==null&&Qh(ar,i),vc.forEach(r),_c.forEach(r);for(var o=0;o<or.length;o++){var c=or[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<or.length&&(o=or[0],o.blockedOn===null);)cx(o),o.blockedOn===null&&or.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var p=o[c],y=o[c+1],b=p[St]||null;if(typeof y=="function")b||hx(o);else if(b){var A=null;if(y&&y.hasAttribute("formAction")){if(p=y,b=y[St]||null)A=b.formAction;else if(kp(p)!==null)continue}else A=b.action;typeof A=="function"?o[c+1]=A:(o.splice(c,3),c-=3),hx(o)}}}function Vp(i){this._internalRoot=i}Wh.prototype.render=Vp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=Vn();sx(o,c,i,r,null,null)},Wh.prototype.unmount=Vp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;sx(i.current,2,null,i,null,null),Dh(),r[zn]=null}};function Wh(i){this._internalRoot=i}Wh.prototype.unstable_scheduleHydration=function(i){if(i){var r=Vs();i={blockedOn:null,target:i,priority:r};for(var o=0;o<or.length&&r!==0&&r<or[o].priority;o++);or.splice(o,0,i),o===0&&cx(i)}};var dx=e.version;if(dx!=="19.1.0")throw Error(s(527,dx,"19.1.0"));le.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var ER={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zh.isDisabled&&Zh.supportsFiber)try{pt=Zh.inject(ER),Qe=Zh}catch{}}return bc.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",p=R1,y=N1,b=I1,A=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(A=r.unstable_transitionCallbacks)),r=nx(i,1,!1,null,null,o,c,p,y,b,A,null),i[zn]=r.current,vp(i),new Vp(r)},bc.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,p="",y=R1,b=N1,A=I1,P=null,Q=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(P=o.unstable_transitionCallbacks),o.formState!==void 0&&(Q=o.formState)),r=nx(i,1,!0,r,o??null,c,p,y,b,A,P,Q),r.context=ix(null),o=r.current,c=Vn(),c=Ps(c),p=qs(c),p.callback=null,Gs(o,p,c),o=c,r.current.lanes=o,Zi(r,o),Vi(r),i[zn]=r.current,vp(i),new Wh(r)},bc.version="19.1.0",bc}var Ex;function DR(){if(Ex)return Up.exports;Ex=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Up.exports=jR(),Up.exports}var MR=DR(),wc={},bx;function kR(){if(bx)return wc;bx=1,Object.defineProperty(wc,"__esModule",{value:!0}),wc.parse=u,wc.serialize=g;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function u(T,w){const S=new l,j=T.length;if(j<2)return S;const M=(w==null?void 0:w.decode)||v;let V=0;do{const Y=T.indexOf("=",V);if(Y===-1)break;const H=T.indexOf(";",V),te=H===-1?j:H;if(Y>te){V=T.lastIndexOf(";",Y-1)+1;continue}const F=d(T,V,Y),U=m(T,Y,F),N=T.slice(F,U);if(S[N]===void 0){let C=d(T,Y+1,te),D=m(T,te,C);const O=M(T.slice(C,D));S[N]=O}V=te+1}while(V<j);return S}function d(T,w,S){do{const j=T.charCodeAt(w);if(j!==32&&j!==9)return w}while(++w<S);return S}function m(T,w,S){for(;w>S;){const j=T.charCodeAt(--w);if(j!==32&&j!==9)return w+1}return S}function g(T,w,S){const j=(S==null?void 0:S.encode)||encodeURIComponent;if(!t.test(T))throw new TypeError(`argument name is invalid: ${T}`);const M=j(w);if(!e.test(M))throw new TypeError(`argument val is invalid: ${w}`);let V=T+"="+M;if(!S)return V;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);V+="; Max-Age="+S.maxAge}if(S.domain){if(!n.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);V+="; Domain="+S.domain}if(S.path){if(!s.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);V+="; Path="+S.path}if(S.expires){if(!x(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);V+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(V+="; HttpOnly"),S.secure&&(V+="; Secure"),S.partitioned&&(V+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":V+="; Priority=Low";break;case"medium":V+="; Priority=Medium";break;case"high":V+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":V+="; SameSite=Strict";break;case"lax":V+="; SameSite=Lax";break;case"none":V+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return V}function v(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function x(T){return a.call(T)==="[object Date]"}return wc}kR();var wx="popstate";function PR(t={}){function e(a,l){let{pathname:u="/",search:d="",hash:m=""}=Pa(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),vg("",{pathname:u,search:d,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let u=a.document.querySelector("base"),d="";if(u&&u.getAttribute("href")){let m=a.location.href,g=m.indexOf("#");d=g===-1?m:m.slice(0,g)}return d+"#"+(typeof l=="string"?l:$c(l))}function s(a,l){ri(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return OR(e,n,s,t)}function ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ri(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VR(){return Math.random().toString(36).substring(2,10)}function Sx(t,e){return{usr:t.state,key:t.key,idx:e}}function vg(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Pa(e):e,state:n,key:e&&e.key||s||VR()}}function $c({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Pa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function OR(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,d="POP",m=null,g=v();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function v(){return(u.state||{idx:null}).idx}function x(){d="POP";let M=v(),V=M==null?null:M-g;g=M,m&&m({action:d,location:j.location,delta:V})}function T(M,V){d="PUSH";let Y=vg(j.location,M,V);n&&n(Y,M),g=v()+1;let H=Sx(Y,g),te=j.createHref(Y);try{u.pushState(H,"",te)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;a.location.assign(te)}l&&m&&m({action:d,location:j.location,delta:1})}function w(M,V){d="REPLACE";let Y=vg(j.location,M,V);n&&n(Y,M),g=v();let H=Sx(Y,g),te=j.createHref(Y);u.replaceState(H,"",te),l&&m&&m({action:d,location:j.location,delta:0})}function S(M){return LR(M)}let j={get action(){return d},get location(){return t(a,u)},listen(M){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(wx,x),m=M,()=>{a.removeEventListener(wx,x),m=null}},createHref(M){return e(a,M)},createURL:S,encodeLocation(M){let V=S(M);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:T,replace:w,go(M){return u.go(M)}};return j}function LR(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:$c(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Cb(t,e,n="/"){return UR(t,e,n,!1)}function UR(t,e,n,s){let a=typeof e=="string"?Pa(e):e,l=Rs(a.pathname||"/",n);if(l==null)return null;let u=Rb(t);BR(u);let d=null;for(let m=0;d==null&&m<u.length;++m){let g=WR(l);d=QR(u[m],g,s)}return d}function Rb(t,e=[],n=[],s=""){let a=(l,u,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};m.relativePath.startsWith("/")&&(ut(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let g=ws([s,m.relativePath]),v=n.concat(m);l.children&&l.children.length>0&&(ut(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Rb(l.children,e,v,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:KR(g,l.index),routesMeta:v})};return t.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,u);else for(let m of Nb(l.path))a(l,u,m)}),e}function Nb(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=Nb(s.join("/")),d=[];return d.push(...u.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...u),d.map(m=>t.startsWith("/")&&m===""?"/":m)}function BR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:YR(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var zR=/^:[\w-]+$/,FR=3,HR=2,qR=1,GR=10,$R=-2,Ax=t=>t==="*";function KR(t,e){let n=t.split("/"),s=n.length;return n.some(Ax)&&(s+=$R),e&&(s+=HR),n.filter(a=>!Ax(a)).reduce((a,l)=>a+(zR.test(l)?FR:l===""?qR:GR),s)}function YR(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function QR(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",u=[];for(let d=0;d<s.length;++d){let m=s[d],g=d===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",x=Id({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),T=m.route;if(!x&&g&&n&&!s[s.length-1].route.index&&(x=Id({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!x)return null;Object.assign(a,x.params),u.push({params:a,pathname:ws([l,x.pathname]),pathnameBase:tN(ws([l,x.pathnameBase])),route:T}),x.pathnameBase!=="/"&&(l=ws([l,x.pathnameBase]))}return u}function Id(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=XR(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:x},T)=>{if(v==="*"){let S=d[T]||"";u=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const w=d[T];return x&&!w?g[v]=void 0:g[v]=(w||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:u,pattern:t}}function XR(t,e=!1,n=!0){ri(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function WR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Rs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function ZR(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?Pa(t):t;return{pathname:n?n.startsWith("/")?n:JR(n,e):e,search:nN(s),hash:iN(a)}}function JR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Hp(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function py(t){let e=eN(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function gy(t,e,n,s=!1){let a;typeof t=="string"?a=Pa(t):(a={...t},ut(!a.pathname||!a.pathname.includes("?"),Hp("?","pathname","search",a)),ut(!a.pathname||!a.pathname.includes("#"),Hp("#","pathname","hash",a)),ut(!a.search||!a.search.includes("#"),Hp("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,d;if(u==null)d=n;else{let x=e.length-1;if(!s&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),x-=1;a.pathname=T.join("/")}d=x>=0?e[x]:"/"}let m=ZR(a,d),g=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var ws=t=>t.join("/").replace(/\/\/+/g,"/"),tN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,iN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function sN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Ib=["POST","PUT","PATCH","DELETE"];new Set(Ib);var rN=["GET",...Ib];new Set(rN);var tl=I.createContext(null);tl.displayName="DataRouter";var af=I.createContext(null);af.displayName="DataRouterState";var jb=I.createContext({isTransitioning:!1});jb.displayName="ViewTransition";var aN=I.createContext(new Map);aN.displayName="Fetchers";var oN=I.createContext(null);oN.displayName="Await";var _i=I.createContext(null);_i.displayName="Navigation";var hu=I.createContext(null);hu.displayName="Location";var Yi=I.createContext({outlet:null,matches:[],isDataRoute:!1});Yi.displayName="Route";var yy=I.createContext(null);yy.displayName="RouteError";function lN(t,{relative:e}={}){ut(nl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=I.useContext(_i),{hash:a,pathname:l,search:u}=du(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:ws([n,l])),s.createHref({pathname:d,search:u,hash:a})}function nl(){return I.useContext(hu)!=null}function xi(){return ut(nl(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(hu).location}var Db="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Mb(t){I.useContext(_i).static||I.useLayoutEffect(t)}function Un(){let{isDataRoute:t}=I.useContext(Yi);return t?TN():cN()}function cN(){ut(nl(),"useNavigate() may be used only in the context of a <Router> component.");let t=I.useContext(tl),{basename:e,navigator:n}=I.useContext(_i),{matches:s}=I.useContext(Yi),{pathname:a}=xi(),l=JSON.stringify(py(s)),u=I.useRef(!1);return Mb(()=>{u.current=!0}),I.useCallback((m,g={})=>{if(ri(u.current,Db),!u.current)return;if(typeof m=="number"){n.go(m);return}let v=gy(m,JSON.parse(l),a,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ws([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,l,a,t])}I.createContext(null);function du(t,{relative:e}={}){let{matches:n}=I.useContext(Yi),{pathname:s}=xi(),a=JSON.stringify(py(n));return I.useMemo(()=>gy(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function uN(t,e){return kb(t,e)}function kb(t,e,n,s){var Y;ut(nl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=I.useContext(_i),{matches:u}=I.useContext(Yi),d=u[u.length-1],m=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",x=d&&d.route;{let H=x&&x.path||"";Pb(g,!x||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let T=xi(),w;if(e){let H=typeof e=="string"?Pa(e):e;ut(v==="/"||((Y=H.pathname)==null?void 0:Y.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${H.pathname}" was given in the \`location\` prop.`),w=H}else w=T;let S=w.pathname||"/",j=S;if(v!=="/"){let H=v.replace(/^\//,"").split("/");j="/"+S.replace(/^\//,"").split("/").slice(H.length).join("/")}let M=!l&&n&&n.matches&&n.matches.length>0?n.matches:Cb(t,{pathname:j});ri(x||M!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),ri(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=pN(M&&M.map(H=>Object.assign({},H,{params:Object.assign({},m,H.params),pathname:ws([v,a.encodeLocation?a.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?v:ws([v,a.encodeLocation?a.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),u,n,s);return e&&V?I.createElement(hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},V):V}function hN(){let t=xN(),e=sN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=I.createElement(I.Fragment,null,I.createElement("p",null,"💿 Hey developer 👋"),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:l},"ErrorBoundary")," or"," ",I.createElement("code",{style:l},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:a},n):null,u)}var dN=I.createElement(hN,null),fN=class extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?I.createElement(Yi.Provider,{value:this.props.routeContext},I.createElement(yy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mN({routeContext:t,match:e,children:n}){let s=I.useContext(tl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(Yi.Provider,{value:t},n)}function pN(t,e=[],n=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let m=a.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);ut(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let u=!1,d=-1;if(n)for(let m=0;m<a.length;m++){let g=a[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:v,errors:x}=n,T=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!x||x[g.route.id]===void 0);if(g.route.lazy||T){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,g,v)=>{let x,T=!1,w=null,S=null;n&&(x=l&&g.route.id?l[g.route.id]:void 0,w=g.route.errorElement||dN,u&&(d<0&&v===0?(Pb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,S=null):d===v&&(T=!0,S=g.route.hydrateFallbackElement||null)));let j=e.concat(a.slice(0,v+1)),M=()=>{let V;return x?V=w:T?V=S:g.route.Component?V=I.createElement(g.route.Component,null):g.route.element?V=g.route.element:V=m,I.createElement(mN,{match:g,routeContext:{outlet:m,matches:j,isDataRoute:n!=null},children:V})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?I.createElement(fN,{location:n.location,revalidation:n.revalidation,component:w,error:x,children:M(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):M()},null)}function vy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gN(t){let e=I.useContext(tl);return ut(e,vy(t)),e}function yN(t){let e=I.useContext(af);return ut(e,vy(t)),e}function vN(t){let e=I.useContext(Yi);return ut(e,vy(t)),e}function _y(t){let e=vN(t),n=e.matches[e.matches.length-1];return ut(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function _N(){return _y("useRouteId")}function xN(){var s;let t=I.useContext(yy),e=yN("useRouteError"),n=_y("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function TN(){let{router:t}=gN("useNavigate"),e=_y("useNavigate"),n=I.useRef(!1);return Mb(()=>{n.current=!0}),I.useCallback(async(a,l={})=>{ri(n.current,Db),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var Cx={};function Pb(t,e,n){!e&&!Cx[t]&&(Cx[t]=!0,ri(!1,n))}I.memo(EN);function EN({routes:t,future:e,state:n}){return kb(t,void 0,n,e)}function Vb({to:t,replace:e,state:n,relative:s}){ut(nl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=I.useContext(_i);ri(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=I.useContext(Yi),{pathname:u}=xi(),d=Un(),m=gy(t,py(l),u,s==="path"),g=JSON.stringify(m);return I.useEffect(()=>{d(JSON.parse(g),{replace:e,state:n,relative:s})},[d,g,s,e,n]),null}function Qt(t){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bN({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){ut(!nl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=I.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=Pa(n));let{pathname:m="/",search:g="",hash:v="",state:x=null,key:T="default"}=n,w=I.useMemo(()=>{let S=Rs(m,u);return S==null?null:{location:{pathname:S,search:g,hash:v,state:x,key:T},navigationType:s}},[u,m,g,v,x,T,s]);return ri(w!=null,`<Router basename="${u}"> is not able to match the URL "${m}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:I.createElement(_i.Provider,{value:d},I.createElement(hu.Provider,{children:e,value:w}))}function wN({children:t,location:e}){return uN(_g(t),e)}function _g(t,e=[]){let n=[];return I.Children.forEach(t,(s,a)=>{if(!I.isValidElement(s))return;let l=[...e,a];if(s.type===I.Fragment){n.push.apply(n,_g(s.props.children,l));return}ut(s.type===Qt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=_g(s.props.children,l)),n.push(u)}),n}var md="get",pd="application/x-www-form-urlencoded";function of(t){return t!=null&&typeof t.tagName=="string"}function SN(t){return of(t)&&t.tagName.toLowerCase()==="button"}function AN(t){return of(t)&&t.tagName.toLowerCase()==="form"}function CN(t){return of(t)&&t.tagName.toLowerCase()==="input"}function RN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function NN(t,e){return t.button===0&&(!e||e==="_self")&&!RN(t)}var Jh=null;function IN(){if(Jh===null)try{new FormData(document.createElement("form"),0),Jh=!1}catch{Jh=!0}return Jh}var jN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qp(t){return t!=null&&!jN.has(t)?(ri(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pd}"`),null):t}function DN(t,e){let n,s,a,l,u;if(AN(t)){let d=t.getAttribute("action");s=d?Rs(d,e):null,n=t.getAttribute("method")||md,a=qp(t.getAttribute("enctype"))||pd,l=new FormData(t)}else if(SN(t)||CN(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||d.getAttribute("action");if(s=m?Rs(m,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||md,a=qp(t.getAttribute("formenctype"))||qp(d.getAttribute("enctype"))||pd,l=new FormData(d,t),!IN()){let{name:g,type:v,value:x}=t;if(v==="image"){let T=g?`${g}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else g&&l.append(g,x)}}else{if(of(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=md,s=null,a=pd,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:u}}function xy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function MN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function PN(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await MN(l,n);return u.links?u.links():[]}return[]}));return UN(s.flat(1).filter(kN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Rx(t,e,n,s,a,l){let u=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,d=(m,g)=>{var v;return n[g].pathname!==m.pathname||((v=n[g].route.path)==null?void 0:v.endsWith("*"))&&n[g].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,g)=>u(m,g)||d(m,g)):l==="data"?e.filter((m,g)=>{var x;let v=s.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(u(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let T=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((x=n[0])==null?void 0:x.params)||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function VN(t,e,{includeHydrateFallback:n}={}){return ON(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function ON(t){return[...new Set(t)]}function LN(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function UN(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(LN(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var BN=new Set([100,101,204,205]);function zN(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Rs(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Ob(){let t=I.useContext(tl);return xy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function FN(){let t=I.useContext(af);return xy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ty=I.createContext(void 0);Ty.displayName="FrameworkContext";function Lb(){let t=I.useContext(Ty);return xy(t,"You must render this element inside a <HydratedRouter> element"),t}function HN(t,e){let n=I.useContext(Ty),[s,a]=I.useState(!1),[l,u]=I.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:x}=e,T=I.useRef(null);I.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let j=V=>{V.forEach(Y=>{u(Y.isIntersecting)})},M=new IntersectionObserver(j,{threshold:.5});return T.current&&M.observe(T.current),()=>{M.disconnect()}}},[t]),I.useEffect(()=>{if(s){let j=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(j)}}},[s]);let w=()=>{a(!0)},S=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,T,{}]:[l,T,{onFocus:Sc(d,w),onBlur:Sc(m,S),onMouseEnter:Sc(g,w),onMouseLeave:Sc(v,S),onTouchStart:Sc(x,w)}]:[!1,T,{}]}function Sc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function qN({page:t,...e}){let{router:n}=Ob(),s=I.useMemo(()=>Cb(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?I.createElement($N,{page:t,matches:s,...e}):null}function GN(t){let{manifest:e,routeModules:n}=Lb(),[s,a]=I.useState([]);return I.useEffect(()=>{let l=!1;return PN(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),s}function $N({page:t,matches:e,...n}){let s=xi(),{manifest:a,routeModules:l}=Lb(),{basename:u}=Ob(),{loaderData:d,matches:m}=FN(),g=I.useMemo(()=>Rx(t,e,m,a,s,"data"),[t,e,m,a,s]),v=I.useMemo(()=>Rx(t,e,m,a,s,"assets"),[t,e,m,a,s]),x=I.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let S=new Set,j=!1;if(e.forEach(V=>{var H;let Y=a.routes[V.route.id];!Y||!Y.hasLoader||(!g.some(te=>te.route.id===V.route.id)&&V.route.id in d&&((H=l[V.route.id])!=null&&H.shouldRevalidate)||Y.hasClientLoader?j=!0:S.add(V.route.id))}),S.size===0)return[];let M=zN(t,u);return j&&S.size>0&&M.searchParams.set("_routes",e.filter(V=>S.has(V.route.id)).map(V=>V.route.id).join(",")),[M.pathname+M.search]},[u,d,s,a,g,e,t,l]),T=I.useMemo(()=>VN(v,a),[v,a]),w=GN(v);return I.createElement(I.Fragment,null,x.map(S=>I.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),T.map(S=>I.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),w.map(({key:S,link:j})=>I.createElement("link",{key:S,...j})))}function KN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Ub=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ub&&(window.__reactRouterVersion="7.6.0")}catch{}function YN({basename:t,children:e,window:n}){let s=I.useRef();s.current==null&&(s.current=PR({window:n,v5Compat:!0}));let a=s.current,[l,u]=I.useState({action:a.action,location:a.location}),d=I.useCallback(m=>{I.startTransition(()=>u(m))},[u]);return I.useLayoutEffect(()=>a.listen(d),[a,d]),I.createElement(bN,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var Bb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,It=I.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:d,target:m,to:g,preventScrollReset:v,viewTransition:x,...T},w){let{basename:S}=I.useContext(_i),j=typeof g=="string"&&Bb.test(g),M,V=!1;if(typeof g=="string"&&j&&(M=g,Ub))try{let D=new URL(window.location.href),O=g.startsWith("//")?new URL(D.protocol+g):new URL(g),B=Rs(O.pathname,S);O.origin===D.origin&&B!=null?g=B+O.search+O.hash:V=!0}catch{ri(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=lN(g,{relative:a}),[H,te,F]=HN(s,T),U=ZN(g,{replace:u,state:d,target:m,preventScrollReset:v,relative:a,viewTransition:x});function N(D){e&&e(D),D.defaultPrevented||U(D)}let C=I.createElement("a",{...T,...F,href:M||Y,onClick:V||l?e:N,ref:KN(w,te),target:m,"data-discover":!j&&n==="render"?"true":void 0});return H&&!j?I.createElement(I.Fragment,null,C,I.createElement(qN,{page:Y})):C});It.displayName="Link";var QN=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:d,children:m,...g},v){let x=du(u,{relative:g.relative}),T=xi(),w=I.useContext(af),{navigator:S,basename:j}=I.useContext(_i),M=w!=null&&iI(x)&&d===!0,V=S.encodeLocation?S.encodeLocation(x).pathname:x.pathname,Y=T.pathname,H=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(Y=Y.toLowerCase(),H=H?H.toLowerCase():null,V=V.toLowerCase()),H&&j&&(H=Rs(H,j)||H);const te=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let F=Y===V||!a&&Y.startsWith(V)&&Y.charAt(te)==="/",U=H!=null&&(H===V||!a&&H.startsWith(V)&&H.charAt(V.length)==="/"),N={isActive:F,isPending:U,isTransitioning:M},C=F?e:void 0,D;typeof s=="function"?D=s(N):D=[s,F?"active":null,U?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(N):l;return I.createElement(It,{...g,"aria-current":C,className:D,ref:v,style:O,to:u,viewTransition:d},typeof m=="function"?m(N):m)});QN.displayName="NavLink";var XN=I.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:u=md,action:d,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:x,...T},w)=>{let S=tI(),j=nI(d,{relative:g}),M=u.toLowerCase()==="get"?"get":"post",V=typeof d=="string"&&Bb.test(d),Y=H=>{if(m&&m(H),H.defaultPrevented)return;H.preventDefault();let te=H.nativeEvent.submitter,F=(te==null?void 0:te.getAttribute("formmethod"))||u;S(te||H.currentTarget,{fetcherKey:e,method:F,navigate:n,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:x})};return I.createElement("form",{ref:w,method:M,action:j,onSubmit:s?m:Y,...T,"data-discover":!V&&t==="render"?"true":void 0})});XN.displayName="Form";function WN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zb(t){let e=I.useContext(tl);return ut(e,WN(t)),e}function ZN(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:u}={}){let d=Un(),m=xi(),g=du(t,{relative:l});return I.useCallback(v=>{if(NN(v,e)){v.preventDefault();let x=n!==void 0?n:$c(m)===$c(g);d(t,{replace:x,state:s,preventScrollReset:a,relative:l,viewTransition:u})}},[m,d,g,n,s,e,t,a,l,u])}var JN=0,eI=()=>`__${String(++JN)}__`;function tI(){let{router:t}=zb("useSubmit"),{basename:e}=I.useContext(_i),n=_N();return I.useCallback(async(s,a={})=>{let{action:l,method:u,encType:d,formData:m,body:g}=DN(s,e);if(a.navigate===!1){let v=a.fetcherKey||eI();await t.fetch(v,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||u,formEncType:a.encType||d,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||u,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function nI(t,{relative:e}={}){let{basename:n}=I.useContext(_i),s=I.useContext(Yi);ut(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...du(t||".",{relative:e})},u=xi();if(t==null){l.search=u.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(x=>x).forEach(x=>d.append("index",x));let v=d.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ws([n,l.pathname])),$c(l)}function iI(t,e={}){let n=I.useContext(jb);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=zb("useViewTransitionState"),a=du(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=Rs(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=Rs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Id(a.pathname,u)!=null||Id(a.pathname,l)!=null}[...BN];function sI(){const t=Un(),[e,n]=I.useState(!1),[s,a]=I.useState(""),[l,u]=I.useState({}),d=I.useRef(null),m=I.useRef(null),g=T=>{a(T),n(!0),document.body.style.overflow="hidden"},v=()=>{n(!1),document.body.style.overflow="auto"};I.useEffect(()=>{const T=w=>{w.key==="Escape"&&e&&v()};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[e]),I.useEffect(()=>(d.current=new IntersectionObserver(T=>{T.forEach(w=>{w.isIntersecting&&u(S=>({...S,[w.target.dataset.id]:!0}))})},{threshold:.1}),document.querySelectorAll(".animate-on-scroll").forEach(T=>{d.current.observe(T)}),()=>{d.current&&d.current.disconnect()}),[]);const x=T=>{if(!m.current||Math.random()>.3)return;const w=document.createElement("div"),S=Math.random()*15+5,j=Math.random()*2+1,M=["circle","circle","star","triangle"],V=M[Math.floor(Math.random()*M.length)];w.className=`particle ${V}`,w.style.width=`${S}px`,w.style.height=`${S}px`,w.style.left=`${T.pageX}px`,w.style.top=`${T.pageY}px`;const Y=["var(--primary)","var(--primary-dark)","var(--primary-light)","rgba(79, 209, 101, 0.7)","rgba(54, 177, 78, 0.8)"],H=Y[Math.floor(Math.random()*Y.length)];w.style.backgroundColor=H,m.current.appendChild(w),setTimeout(()=>{const te=(Math.random()-.5)*100,F=(Math.random()-.5)*100,U=Math.random()*360;w.style.transform=`translate(${te}px, ${F}px) rotate(${U}deg) scale(${Math.random()*.5+.8})`,w.style.opacity="0",w.style.filter=`blur(${Math.random()*2+1}px)`},10),setTimeout(()=>{m.current&&m.current.contains(w)&&w.remove()},j*1e3)};return I.useEffect(()=>{const w=setInterval(()=>{if(!m.current)return;const S=document.createElement("div"),j=Math.random()*10+3,M=Math.random()*5+3,V=Math.random()*window.innerWidth,Y=Math.random()*500,H=["circle","star","triangle"],te=H[Math.floor(Math.random()*H.length)];S.className=`particle ${te} background-particle`,S.style.width=`${j}px`,S.style.height=`${j}px`,S.style.left=`${V}px`,S.style.top=`${Y}px`,S.style.opacity="0";const F=["var(--primary)","var(--primary-dark)","var(--primary-light)","rgba(79, 209, 101, 0.5)","rgba(54, 177, 78, 0.6)"],U=F[Math.floor(Math.random()*F.length)];S.style.backgroundColor=U,m.current.appendChild(S),setTimeout(()=>{S.style.opacity="0.6";const N=Math.random()*200+100,C=(Math.random()-.5)*100;S.style.transform=`translate(${C}px, ${N}px) rotate(${Math.random()*360}deg)`},10),setTimeout(()=>{m.current&&m.current.contains(S)&&S.remove()},M*1e3)},300);return()=>clearInterval(w)},[]),h.jsxs("div",{className:"home-bg",children:[h.jsxs("header",{className:"home-hero",onMouseMove:x,children:[h.jsx("div",{className:"cursor-effect-container",ref:m}),h.jsxs("div",{className:"hero-content animate-on-scroll","data-id":"hero",children:[h.jsx("h1",{className:`hero-title ${l.hero?"visible":""}`,children:"Персональные программы питания и тренировок с гарантией результата"}),h.jsx("p",{className:`hero-subtitle ${l.hero?"visible":""}`,children:"Достигайте своих целей с индивидуальным планом, разработанным специально для вас"}),h.jsxs("div",{className:`hero-cta ${l.hero?"visible":""}`,children:[h.jsxs("div",{className:"top-buttons-row",children:[h.jsx("button",{className:"cta-button primary",onClick:()=>t("/questionnaire?type=food"),children:"Программа питания"}),h.jsx("button",{className:"cta-button secondary",onClick:()=>t("/questionnaire?type=workout"),children:"Программа тренировок"})]}),h.jsxs("button",{className:"cta-button combo premium",onClick:()=>t("/questionnaire?type=combo"),children:[h.jsx("span",{className:"premium-star",children:"★"})," Комплексная программа ",h.jsx("span",{className:"premium-star",children:"★"})]})]})]}),h.jsxs("div",{className:"hero-scroll-indicator",children:[h.jsx("div",{className:"scroll-icon"}),h.jsx("span",{children:"Прокрутите вниз"})]})]}),h.jsx("section",{className:"home-benefits",children:h.jsxs("div",{className:"section-container",children:[h.jsx("h2",{className:"section-title animate-on-scroll","data-id":"benefits-title",children:"Почему выбирают FitGenius?"}),h.jsxs("div",{className:"benefits-grid",children:[h.jsxs("div",{className:`benefit-card animate-on-scroll ${l.benefit1?"visible":""}`,"data-id":"benefit1",children:[h.jsx("div",{className:"benefit-icon",children:h.jsx("span",{role:"img","aria-label":"персонализация",children:"🎯"})}),h.jsx("h3",{children:"Индивидуальный подход"}),h.jsx("p",{children:"Программы, адаптированные под ваши параметры, цели и предпочтения"})]}),h.jsxs("div",{className:`benefit-card animate-on-scroll ${l.benefit2?"visible":""}`,"data-id":"benefit2",children:[h.jsx("div",{className:"benefit-icon",children:h.jsx("span",{role:"img","aria-label":"наука",children:"🧪"})}),h.jsx("h3",{children:"Научный подход"}),h.jsx("p",{children:"Программы основаны на современных исследованиях в области питания и тренировок"})]}),h.jsxs("div",{className:`benefit-card animate-on-scroll ${l.benefit3?"visible":""}`,"data-id":"benefit3",children:[h.jsx("div",{className:"benefit-icon",children:h.jsx("span",{role:"img","aria-label":"время",children:"⏱️"})}),h.jsx("h3",{children:"Экономия времени"}),h.jsx("p",{children:"Готовый план без необходимости самостоятельного составления и расчетов"})]}),h.jsxs("div",{className:`benefit-card animate-on-scroll ${l.benefit4?"visible":""}`,"data-id":"benefit4",children:[h.jsx("div",{className:"benefit-icon",children:h.jsx("span",{role:"img","aria-label":"результат",children:"📈"})}),h.jsx("h3",{children:"Гарантированный результат"}),h.jsx("p",{children:"Проверенные методики, которые приводят к желаемым изменениям"})]})]})]})}),h.jsx("section",{className:"home-examples",children:h.jsxs("div",{className:"section-container",children:[h.jsx("h2",{className:"section-title animate-on-scroll","data-id":"examples-title",children:"Примеры программ"}),h.jsxs("div",{className:"examples-grid",children:[h.jsxs("div",{className:`example-card animate-on-scroll ${l.example1?"visible":""}`,"data-id":"example1",children:[h.jsxs("div",{className:"example-header",children:[h.jsx("div",{className:"example-icon",children:h.jsx("span",{role:"img","aria-label":"питание",children:"🍎"})}),h.jsx("h3",{children:"Рацион для похудения"})]}),h.jsx("p",{className:"example-desc",children:"Сбалансированное меню на неделю, учитывающее ваши предпочтения и цели."}),h.jsx("button",{className:"example-btn",onClick:()=>g("./example-food-day.png"),children:"Посмотреть пример"})]}),h.jsxs("div",{className:`example-card animate-on-scroll ${l.example2?"visible":""}`,"data-id":"example2",children:[h.jsxs("div",{className:"example-header",children:[h.jsx("div",{className:"example-icon",children:h.jsx("span",{role:"img","aria-label":"тренировка",children:"💪"})}),h.jsx("h3",{children:"План тренировок"})]}),h.jsx("p",{className:"example-desc",children:"Эффективные упражнения с учетом вашего уровня и доступного инвентаря."}),h.jsx("button",{className:"example-btn",onClick:()=>g("./example-workout-day.png"),children:"Посмотреть пример"})]}),h.jsxs("div",{className:`example-card animate-on-scroll ${l.example3?"visible":""}`,"data-id":"example3",children:[h.jsxs("div",{className:"example-header",children:[h.jsx("div",{className:"example-icon",children:h.jsx("span",{role:"img","aria-label":"комплекс",children:"⚡"})}),h.jsx("h3",{children:"Комплексная программа"})]}),h.jsx("p",{className:"example-desc",children:"Максимальный результат — синергия рациона и физической активности."}),h.jsx("button",{className:"example-btn special-btn",onClick:()=>t("/questionnaire?type=combo"),children:"Создать комплекс"})]})]})]})}),h.jsx("section",{className:"home-cta-section",children:h.jsx("div",{className:"section-container",children:h.jsxs("div",{className:`cta-content animate-on-scroll ${l["cta-section"]?"visible":""}`,"data-id":"cta-section",children:[h.jsx("h2",{children:"Готовы начать свой путь к здоровому образу жизни?"}),h.jsx("p",{children:"Ответьте на несколько вопросов и получите персональную программу уже сегодня"}),h.jsx("button",{className:"cta-button primary large",onClick:()=>t("/questionnaire?type=combo"),children:"Пройти опрос"})]})})}),e&&h.jsx("div",{className:"modal-overlay",onClick:v,children:h.jsxs("div",{className:"modal-content",onClick:T=>T.stopPropagation(),children:[h.jsx("button",{className:"modal-close",onClick:v,children:"×"}),h.jsx("img",{src:s,alt:"Пример программы",className:"modal-image"})]})})]})}function rI(){return h.jsx("div",{children:"Выбор типа программы"})}const aI=()=>{};var Nx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},oI=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],d=t[n++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},Hb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,d=u?t[a+1]:0,m=a+2<t.length,g=m?t[a+2]:0,v=l>>2,x=(l&3)<<4|d>>4;let T=(d&15)<<2|g>>6,w=g&63;m||(w=64,u||(T=64)),s.push(n[v],n[x],n[T],n[w])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Fb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):oI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const x=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||g==null||x==null)throw new lI;const T=l<<2|d>>4;if(s.push(T),g!==64){const w=d<<4&240|g>>2;if(s.push(w),x!==64){const S=g<<6&192|x;s.push(S)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class lI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cI=function(t){const e=Fb(t);return Hb.encodeByteArray(e,!0)},jd=function(t){return cI(t).replace(/\./g,"")},qb=function(t){try{return Hb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=()=>uI().__FIREBASE_DEFAULTS__,dI=()=>{if(typeof process>"u"||typeof Nx>"u")return;const t=Nx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},fI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qb(t[1]);return e&&JSON.parse(e)},lf=()=>{try{return aI()||hI()||dI()||fI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Gb=t=>{var e,n;return(n=(e=lf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},$b=t=>{const e=Gb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Kb=()=>{var t;return(t=lf())===null||t===void 0?void 0:t.config},Yb=t=>{var e;return(e=lf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(t){return t.endsWith(".cloudworkstations.dev")}async function Ey(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[jd(JSON.stringify(n)),jd(JSON.stringify(u)),""].join(".")}const Pc={};function pI(){const t={prod:[],emulator:[]};for(const e of Object.keys(Pc))Pc[e]?t.emulator.push(e):t.prod.push(e);return t}function gI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Ix=!1;function sl(t,e){if(typeof window>"u"||typeof document>"u"||!il(window.location.host)||Pc[t]===e||Pc[t]||Ix)return;Pc[t]=e;function n(T){return`__firebase__banner__${T}`}const s="__firebase__banner",l=pI().prod.length>0;function u(){const T=document.getElementById(s);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function m(T,w){T.setAttribute("width","24"),T.setAttribute("id",w),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Ix=!0,u()},T}function v(T,w){T.setAttribute("id",w),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function x(){const T=gI(s),w=n("text"),S=document.getElementById(w)||document.createElement("span"),j=n("learnmore"),M=document.getElementById(j)||document.createElement("a"),V=n("preprendIcon"),Y=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const H=T.element;d(H),v(M,j);const te=g();m(Y,V),H.append(Y,S,M,te),document.body.appendChild(H)}l?(S.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function vI(){var t;const e=(t=lf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _I(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EI(){const t=un();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function bI(){return!vI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wI(){try{return typeof indexedDB=="object"}catch{return!1}}function SI(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="FirebaseError";class Qi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=AI,Object.setPrototypeOf(this,Qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fu.prototype.create)}}class fu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?CI(l,s):"Error",d=`${this.serviceName}: ${u} (${a}).`;return new Qi(a,d,s)}}function CI(t,e){return t.replace(RI,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const RI=/\{\$([^}]+)}/g;function NI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ra(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(jx(l)&&jx(u)){if(!Ra(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function jx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Cc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Rc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function II(t,e){const n=new jI(t,e);return n.subscribe.bind(n)}class jI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");DI(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Gp),a.error===void 0&&(a.error=Gp),a.complete===void 0&&(a.complete=Gp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(t){return t&&t._delegate?t._delegate:t}class _r{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new mI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PI(e))try{this.getOrInitializeService({instanceIdentifier:va})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=va){return this.instances.has(e)}getOptions(e=va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&u.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),l=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:kI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=va){return this.component?this.component.multipleInstances?e:va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kI(t){return t===va?void 0:t}function PI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new MI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Oe||(Oe={}));const OI={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},LI=Oe.INFO,UI={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},BI=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=UI[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class by{constructor(e){this.name=e,this._logLevel=LI,this._logHandler=BI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const zI=(t,e)=>e.some(n=>t instanceof n);let Dx,Mx;function FI(){return Dx||(Dx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HI(){return Mx||(Mx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xb=new WeakMap,xg=new WeakMap,Wb=new WeakMap,$p=new WeakMap,wy=new WeakMap;function qI(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(pr(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&Xb.set(n,t)}).catch(()=>{}),wy.set(e,t),e}function GI(t){if(xg.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});xg.set(t,e)}let Tg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return xg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Wb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $I(t){Tg=t(Tg)}function KI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Kp(this),e,...n);return Wb.set(s,e.sort?e.sort():[e]),pr(s)}:HI().includes(t)?function(...e){return t.apply(Kp(this),e),pr(Xb.get(this))}:function(...e){return pr(t.apply(Kp(this),e))}}function YI(t){return typeof t=="function"?KI(t):(t instanceof IDBTransaction&&GI(t),zI(t,FI())?new Proxy(t,Tg):t)}function pr(t){if(t instanceof IDBRequest)return qI(t);if($p.has(t))return $p.get(t);const e=YI(t);return e!==t&&($p.set(t,e),wy.set(e,t)),e}const Kp=t=>wy.get(t);function QI(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),d=pr(u);return s&&u.addEventListener("upgradeneeded",m=>{s(pr(u.result),m.oldVersion,m.newVersion,pr(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const XI=["get","getKey","getAll","getAllKeys","count"],WI=["put","add","delete","clear"],Yp=new Map;function kx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yp.get(e))return Yp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=WI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||XI.includes(n)))return;const l=async function(u,...d){const m=this.transaction(u,a?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),a&&m.done]))[0]};return Yp.set(e,l),l}$I(t=>({...t,get:(e,n,s)=>kx(e,n)||t.get(e,n,s),has:(e,n)=>!!kx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(JI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function JI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Eg="@firebase/app",Px="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new by("@firebase/app"),ej="@firebase/app-compat",tj="@firebase/analytics-compat",nj="@firebase/analytics",ij="@firebase/app-check-compat",sj="@firebase/app-check",rj="@firebase/auth",aj="@firebase/auth-compat",oj="@firebase/database",lj="@firebase/data-connect",cj="@firebase/database-compat",uj="@firebase/functions",hj="@firebase/functions-compat",dj="@firebase/installations",fj="@firebase/installations-compat",mj="@firebase/messaging",pj="@firebase/messaging-compat",gj="@firebase/performance",yj="@firebase/performance-compat",vj="@firebase/remote-config",_j="@firebase/remote-config-compat",xj="@firebase/storage",Tj="@firebase/storage-compat",Ej="@firebase/firestore",bj="@firebase/ai",wj="@firebase/firestore-compat",Sj="firebase",Aj="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg="[DEFAULT]",Cj={[Eg]:"fire-core",[ej]:"fire-core-compat",[nj]:"fire-analytics",[tj]:"fire-analytics-compat",[sj]:"fire-app-check",[ij]:"fire-app-check-compat",[rj]:"fire-auth",[aj]:"fire-auth-compat",[oj]:"fire-rtdb",[lj]:"fire-data-connect",[cj]:"fire-rtdb-compat",[uj]:"fire-fn",[hj]:"fire-fn-compat",[dj]:"fire-iid",[fj]:"fire-iid-compat",[mj]:"fire-fcm",[pj]:"fire-fcm-compat",[gj]:"fire-perf",[yj]:"fire-perf-compat",[vj]:"fire-rc",[_j]:"fire-rc-compat",[xj]:"fire-gcs",[Tj]:"fire-gcs-compat",[Ej]:"fire-fst",[wj]:"fire-fst-compat",[bj]:"fire-vertex","fire-js":"fire-js",[Sj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd=new Map,Rj=new Map,wg=new Map;function Vx(t,e){try{t.container.addComponent(e)}catch(n){Ns.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Na(t){const e=t.name;if(wg.has(e))return Ns.debug(`There were multiple attempts to register component ${e}.`),!1;wg.set(e,t);for(const n of Dd.values())Vx(n,t);for(const n of Rj.values())Vx(n,t);return!0}function cf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Sn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gr=new fu("app","Firebase",Nj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new _r("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=Aj;function Zb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:bg,automaticDataCollectionEnabled:!0},e),a=s.name;if(typeof a!="string"||!a)throw gr.create("bad-app-name",{appName:String(a)});if(n||(n=Kb()),!n)throw gr.create("no-options");const l=Dd.get(a);if(l){if(Ra(n,l.options)&&Ra(s,l.config))return l;throw gr.create("duplicate-app",{appName:a})}const u=new VI(a);for(const m of wg.values())u.addComponent(m);const d=new Ij(n,s,u);return Dd.set(a,d),d}function Sy(t=bg){const e=Dd.get(t);if(!e&&t===bg&&Kb())return Zb();if(!e)throw gr.create("no-app",{appName:t});return e}function Ui(t,e,n){var s;let a=(s=Cj[t])!==null&&s!==void 0?s:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ns.warn(d.join(" "));return}Na(new _r(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj="firebase-heartbeat-database",Dj=1,Kc="firebase-heartbeat-store";let Qp=null;function Jb(){return Qp||(Qp=QI(jj,Dj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Kc)}catch(n){console.warn(n)}}}}).catch(t=>{throw gr.create("idb-open",{originalErrorMessage:t.message})})),Qp}async function Mj(t){try{const n=(await Jb()).transaction(Kc),s=await n.objectStore(Kc).get(ew(t));return await n.done,s}catch(e){if(e instanceof Qi)Ns.warn(e.message);else{const n=gr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ns.warn(n.message)}}}async function Ox(t,e){try{const s=(await Jb()).transaction(Kc,"readwrite");await s.objectStore(Kc).put(e,ew(t)),await s.done}catch(n){if(n instanceof Qi)Ns.warn(n.message);else{const s=gr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ns.warn(s.message)}}}function ew(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj=1024,Pj=30;class Vj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Lj(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Lx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>Pj){const u=Uj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ns.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Lx(),{heartbeatsToSend:s,unsentEntries:a}=Oj(this._heartbeatsCache.heartbeats),l=jd(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Ns.warn(n),""}}}function Lx(){return new Date().toISOString().substring(0,10)}function Oj(t,e=kj){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),Ux(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Ux(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Lj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wI()?SI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Mj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Ox(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Ox(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Ux(t){return jd(JSON.stringify({version:2,heartbeats:t})).length}function Uj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(t){Na(new _r("platform-logger",e=>new ZI(e),"PRIVATE")),Na(new _r("heartbeat",e=>new Vj(e),"PRIVATE")),Ui(Eg,Px,t),Ui(Eg,Px,"esm2017"),Ui("fire-js","")}Bj("");var zj="firebase",Fj="11.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ui(zj,Fj,"app");function Ay(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(n[s[a]]=t[s[a]]);return n}function tw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Hj=tw,nw=new fu("auth","Firebase",tw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md=new by("@firebase/auth");function qj(t,...e){Md.logLevel<=Oe.WARN&&Md.warn(`Auth (${Va}): ${t}`,...e)}function gd(t,...e){Md.logLevel<=Oe.ERROR&&Md.error(`Auth (${Va}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(t,...e){throw Ry(t,...e)}function gi(t,...e){return Ry(t,...e)}function Cy(t,e,n){const s=Object.assign(Object.assign({},Hj()),{[e]:n});return new fu("auth","Firebase",s).create(e,{appName:t.name})}function Ss(t){return Cy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gj(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&ai(t,"argument-error"),Cy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ry(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return nw.create(t,...e)}function be(t,e,...n){if(!t)throw Ry(e,...n)}function Es(t){const e="INTERNAL ASSERTION FAILED: "+t;throw gd(e),new Error(e)}function Is(t,e){t||Es(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function $j(){return Bx()==="http:"||Bx()==="https:"}function Bx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($j()||xI()||"connection"in navigator)?navigator.onLine:!0}function Yj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Is(n>e,"Short delay should be less than long delay!"),this.isMobile=yI()||TI()}get(){return Kj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(t,e){Is(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Wj=new pu(3e4,6e4);function Rr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Nr(t,e,n,s,a={}){return sw(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const d=mu(Object.assign({key:t.config.apiKey},u)).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const g=Object.assign({method:e,headers:m},l);return _I()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&il(t.emulatorConfig.host)&&(g.credentials="include"),iw.fetch()(await rw(t,t.config.apiHost,n,d),g)})}async function sw(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},Qj),e);try{const a=new Jj(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw ed(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const d=l.ok?u.errorMessage:u.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw ed(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw ed(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw ed(t,"user-disabled",u);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Cy(t,v,g);ai(t,v)}}catch(a){if(a instanceof Qi)throw a;ai(t,"network-request-failed",{message:String(a)})}}async function gu(t,e,n,s,a={}){const l=await Nr(t,e,n,s,a);return"mfaPendingCredential"in l&&ai(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function rw(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?Ny(t.config,a):`${t.config.apiScheme}://${a}`;return Xj.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function Zj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Jj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(gi(this.auth,"network-request-failed")),Wj.get())})}}function ed(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=gi(t,e,s);return a.customData._tokenResponse=n,a}function zx(t){return t!==void 0&&t.enterprise!==void 0}class eD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Zj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function tD(t,e){return Nr(t,"GET","/v2/recaptchaConfig",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nD(t,e){return Nr(t,"POST","/v1/accounts:delete",e)}async function kd(t,e){return Nr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iD(t,e=!1){const n=Jt(t),s=await n.getIdToken(e),a=Iy(s);be(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:Vc(Xp(a.auth_time)),issuedAtTime:Vc(Xp(a.iat)),expirationTime:Vc(Xp(a.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Xp(t){return Number(t)*1e3}function Iy(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return gd("JWT malformed, contained fewer than 3 sections"),null;try{const a=qb(n);return a?JSON.parse(a):(gd("Failed to decode base64 JWT payload"),null)}catch(a){return gd("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Fx(t){const e=Iy(t);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yc(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Qi&&sD(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function sD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vc(this.lastLoginAt),this.creationTime=Vc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pd(t){var e;const n=t.auth,s=await t.getIdToken(),a=await Yc(t,kd(n,{idToken:s}));be(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?aw(l.providerUserInfo):[],d=oD(t.providerData,u),m=t.isAnonymous,g=!(t.email&&l.passwordHash)&&!(d!=null&&d.length),v=m?g:!1,x={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Ag(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(t,x)}async function aD(t){const e=Jt(t);await Pd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oD(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function aw(t){return t.map(e=>{var{providerId:n}=e,s=Ay(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lD(t,e){const n=await sw(t,{},async()=>{const s=mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await rw(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",iw.fetch()(u,{method:"POST",headers:d,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function cD(t,e){return Nr(t,"POST","/v2/accounts:revokeToken",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Fx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=Fx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await lD(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new Fo;return s&&(be(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(be(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(be(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fo,this.toJSON())}_performRefresh(){return Es("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(t,e){be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class mi{constructor(e){var{uid:n,auth:s,stsTokenManager:a}=e,l=Ay(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Ag(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Yc(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return iD(this,e)}reload(){return aD(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Pd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(Ss(this.auth));const e=await this.getIdToken();return await Yc(this,nD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,a,l,u,d,m,g,v;const x=(s=n.displayName)!==null&&s!==void 0?s:void 0,T=(a=n.email)!==null&&a!==void 0?a:void 0,w=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,S=(u=n.photoURL)!==null&&u!==void 0?u:void 0,j=(d=n.tenantId)!==null&&d!==void 0?d:void 0,M=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,V=(g=n.createdAt)!==null&&g!==void 0?g:void 0,Y=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:H,emailVerified:te,isAnonymous:F,providerData:U,stsTokenManager:N}=n;be(H&&N,e,"internal-error");const C=Fo.fromJSON(this.name,N);be(typeof H=="string",e,"internal-error"),cr(x,e.name),cr(T,e.name),be(typeof te=="boolean",e,"internal-error"),be(typeof F=="boolean",e,"internal-error"),cr(w,e.name),cr(S,e.name),cr(j,e.name),cr(M,e.name),cr(V,e.name),cr(Y,e.name);const D=new mi({uid:H,auth:e,email:T,emailVerified:te,displayName:x,isAnonymous:F,photoURL:S,phoneNumber:w,tenantId:j,stsTokenManager:C,createdAt:V,lastLoginAt:Y});return U&&Array.isArray(U)&&(D.providerData=U.map(O=>Object.assign({},O))),M&&(D._redirectEventId=M),D}static async _fromIdTokenResponse(e,n,s=!1){const a=new Fo;a.updateFromServerResponse(n);const l=new mi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Pd(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];be(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?aw(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new Fo;d.updateFromIdToken(s);const m=new mi({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:u}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Ag(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=new Map;function bs(t){Is(t instanceof Function,"Expected a class definition");let e=Hx.get(t);return e?(Is(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Hx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ow.type="NONE";const qx=ow;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(t,e,n){return`firebase:${t}:${e}:${n}`}class Ho{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=yd(this.userKey,a.apiKey,l),this.fullPersistenceKey=yd("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await kd(this.auth,{idToken:e}).catch(()=>{});return n?mi._fromGetAccountInfoResponse(this.auth,n,e):null}return mi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ho(bs(qx),e,s);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||bs(qx);const u=yd(s,e.config.apiKey,e.name);let d=null;for(const g of n)try{const v=await g._get(u);if(v){let x;if(typeof v=="string"){const T=await kd(e,{idToken:v}).catch(()=>{});if(!T)break;x=await mi._fromGetAccountInfoResponse(e,T,v)}else x=mi._fromJSON(e,v);g!==l&&(d=x),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Ho(l,e,s):(l=m[0],d&&await l._set(u,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(u)}catch{}})),new Ho(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fw(e))return"Blackberry";if(mw(e))return"Webos";if(cw(e))return"Safari";if((e.includes("chrome/")||uw(e))&&!e.includes("edge/"))return"Chrome";if(dw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function lw(t=un()){return/firefox\//i.test(t)}function cw(t=un()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uw(t=un()){return/crios\//i.test(t)}function hw(t=un()){return/iemobile/i.test(t)}function dw(t=un()){return/android/i.test(t)}function fw(t=un()){return/blackberry/i.test(t)}function mw(t=un()){return/webos/i.test(t)}function jy(t=un()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function uD(t=un()){var e;return jy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function hD(){return EI()&&document.documentMode===10}function pw(t=un()){return jy(t)||dw(t)||mw(t)||fw(t)||/windows phone/i.test(t)||hw(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(t,e=[]){let n;switch(t){case"Browser":n=Gx(un());break;case"Worker":n=`${Gx(un())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Va}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,d)=>{try{const m=e(l);u(m)}catch(m){d(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(t,e={}){return Nr(t,"GET","/v2/passwordPolicy",Rr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=6;class pD{constructor(e){var n,s,a,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:mD,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,a,l,u,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(u=m.containsNumericCharacter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $x(this),this.idTokenSubscription=new $x(this),this.beforeStateQueue=new dD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=bs(n)),this._initializationPromise=this.queue(async()=>{var s,a,l;if(!this._deleted&&(this.persistenceManager=await Ho.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kd(this,{idToken:e}),s=await mi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Sn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===d)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Pd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Yj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sn(this.app))return Promise.reject(Ss(this));const n=e?Jt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject(Ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sn(this.app)?Promise.reject(Ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fD(this),n=new pD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await cD(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&bs(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await Ho.create(this,[bs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(d,this,"internal-error"),d.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&qj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ir(t){return Jt(t)}class $x{constructor(e){this.auth=e,this.observer=null,this.addObserver=II(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yD(t){uf=t}function yw(t){return uf.loadJS(t)}function vD(){return uf.recaptchaEnterpriseScript}function _D(){return uf.gapiScript}function xD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class TD{constructor(){this.enterprise=new ED}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class ED{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const bD="recaptcha-enterprise",vw="NO_RECAPTCHA";class wD{constructor(e){this.type=bD,this.auth=Ir(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,d)=>{tD(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new eD(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,u(g.siteKey)}}).catch(m=>{d(m)})})}function a(l,u,d){const m=window.grecaptcha;zx(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{u(g)}).catch(()=>{u(vw)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new TD().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{s(this.auth).then(d=>{if(!n&&zx(window.grecaptcha))a(d,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=vD();m.length!==0&&(m+=d),yw(m).then(()=>{a(d,l,u)}).catch(g=>{u(g)})}}).catch(d=>{u(d)})})}}async function Kx(t,e,n,s=!1,a=!1){const l=new wD(t);let u;if(a)u=vw;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const d=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Cg(t,e,n,s,a){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Kx(t,e,n,n==="getOobCode");return s(t,u)}else return s(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Kx(t,e,n,n==="getOobCode");return s(t,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(t,e){const n=cf(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ra(l,e??{}))return a;ai(a,"already-initialized")}return n.initialize({options:e})}function AD(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(bs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function CD(t,e,n){const s=Ir(t);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=_w(e),{host:u,port:d}=RD(e),m=d===null?"":`:${d}`,g={url:`${l}//${u}${m}/`},v=Object.freeze({host:u,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(Ra(g,s.config.emulator)&&Ra(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,il(u)?(sl("Auth",!0),Ey(`${l}//${u}${m}`)):ND()}function _w(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function RD(t){const e=_w(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:Yx(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:Yx(u)}}}function Yx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ND(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Es("not implemented")}_getIdTokenResponse(e){return Es("not implemented")}_linkToIdToken(e,n){return Es("not implemented")}_getReauthenticationResolver(e){return Es("not implemented")}}async function ID(t,e){return Nr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jD(t,e){return gu(t,"POST","/v1/accounts:signInWithPassword",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(t,e){return gu(t,"POST","/v1/accounts:signInWithEmailLink",Rr(t,e))}async function MD(t,e){return gu(t,"POST","/v1/accounts:signInWithEmailLink",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc extends Dy{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Qc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Qc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cg(e,n,"signInWithPassword",jD);case"emailLink":return DD(e,{email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cg(e,s,"signUpPassword",ID);case"emailLink":return MD(e,{idToken:n,email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(t,e){return gu(t,"POST","/v1/accounts:signInWithIdp",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD="http://localhost";class Ia extends Dy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ai("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a}=n,l=Ay(n,["providerId","signInMethod"]);if(!s||!a)return null;const u=new Ia(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return qo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,qo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,qo(e,n)}buildRequest(){const e={requestUri:kD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VD(t){const e=Cc(Rc(t)).link,n=e?Cc(Rc(e)).deep_link_id:null,s=Cc(Rc(t)).deep_link_id;return(s?Cc(Rc(s)).link:null)||s||n||e||t}class My{constructor(e){var n,s,a,l,u,d;const m=Cc(Rc(e)),g=(n=m.apiKey)!==null&&n!==void 0?n:null,v=(s=m.oobCode)!==null&&s!==void 0?s:null,x=PD((a=m.mode)!==null&&a!==void 0?a:null);be(g&&v&&x,"argument-error"),this.apiKey=g,this.operation=x,this.code=v,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=m.lang)!==null&&u!==void 0?u:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=VD(e);try{return new My(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(){this.providerId=rl.PROVIDER_ID}static credential(e,n){return Qc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=My.parseLink(n);return be(s,"argument-error"),Qc._fromEmailAndCode(e,s.code,s.tenantId)}}rl.PROVIDER_ID="password";rl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";rl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends ky{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr extends yu{constructor(){super("facebook.com")}static credential(e){return Ia._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hr.credential(e.oauthAccessToken)}catch{return null}}}hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";hr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ia._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Li.credential(n,s)}catch{return null}}}Li.GOOGLE_SIGN_IN_METHOD="google.com";Li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends yu{constructor(){super("github.com")}static credential(e){return Ia._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return dr.credential(e.oauthAccessToken)}catch{return null}}}dr.GITHUB_SIGN_IN_METHOD="github.com";dr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends yu{constructor(){super("twitter.com")}static credential(e,n){return Ia._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return fr.credential(n,s)}catch{return null}}}fr.TWITTER_SIGN_IN_METHOD="twitter.com";fr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OD(t,e){return gu(t,"POST","/v1/accounts:signUp",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await mi._fromIdTokenResponse(e,s,a),u=Qx(s);return new ja({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=Qx(s);return new ja({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function Qx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd extends Qi{constructor(e,n,s,a){var l;super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Vd.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new Vd(e,n,s,a)}}function xw(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Vd._fromErrorAndOperation(t,l,e,s):l})}async function LD(t,e,n=!1){const s=await Yc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ja._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UD(t,e,n=!1){const{auth:s}=t;if(Sn(s.app))return Promise.reject(Ss(s));const a="reauthenticate";try{const l=await Yc(t,xw(s,a,e,t),n);be(l.idToken,s,"internal-error");const u=Iy(l.idToken);be(u,s,"internal-error");const{sub:d}=u;return be(t.uid===d,s,"user-mismatch"),ja._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ai(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tw(t,e,n=!1){if(Sn(t.app))return Promise.reject(Ss(t));const s="signIn",a=await xw(t,s,e),l=await ja._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function BD(t,e){return Tw(Ir(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ew(t){const e=Ir(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function zD(t,e,n){if(Sn(t.app))return Promise.reject(Ss(t));const s=Ir(t),u=await Cg(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",OD).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&Ew(t),m}),d=await ja._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(d.user),d}function FD(t,e,n){return Sn(t.app)?Promise.reject(Ss(t)):BD(Jt(t),rl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Ew(t),s})}function HD(t,e,n,s){return Jt(t).onIdTokenChanged(e,n,s)}function qD(t,e,n){return Jt(t).beforeAuthStateChanged(e,n)}const Od="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Od,"1"),this.storage.removeItem(Od),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=1e3,$D=10;class ww extends bw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,d,m)=>{this.notifyListeners(u,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);hD()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,$D):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},GD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ww.type="LOCAL";const KD=ww;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw extends bw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Sw.type="SESSION";const Aw=Sw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new hf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(u).map(async g=>g(n.origin,l)),m=await YD(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((d,m)=>{const g=Py("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(x){const T=x;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(T.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(){return window}function XD(t){Bi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(){return typeof Bi().WorkerGlobalScope<"u"&&typeof Bi().importScripts=="function"}async function WD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function JD(){return Cw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="firebaseLocalStorageDb",eM=1,Ld="firebaseLocalStorage",Nw="fbase_key";class vu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function df(t,e){return t.transaction([Ld],e?"readwrite":"readonly").objectStore(Ld)}function tM(){const t=indexedDB.deleteDatabase(Rw);return new vu(t).toPromise()}function Rg(){const t=indexedDB.open(Rw,eM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Ld,{keyPath:Nw})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Ld)?e(s):(s.close(),await tM(),e(await Rg()))})})}async function Xx(t,e,n){const s=df(t,!0).put({[Nw]:e,value:n});return new vu(s).toPromise()}async function nM(t,e){const n=df(t,!1).get(e),s=await new vu(n).toPromise();return s===void 0?null:s.value}function Wx(t,e){const n=df(t,!0).delete(e);return new vu(n).toPromise()}const iM=800,sM=3;class Iw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>sM)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Cw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hf._getInstance(JD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await WD(),!this.activeServiceWorker)return;this.sender=new QD(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rg();return await Xx(e,Od,"1"),await Wx(e,Od),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Xx(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>nM(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Wx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=df(a,!1).getAll();return new vu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Iw.type="LOCAL";const rM=Iw;new pu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(t,e){return e?bs(e):(be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy extends Dy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function aM(t){return Tw(t.auth,new Vy(t),t.bypassAuthState)}function oM(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),UD(n,new Vy(t),t.bypassAuthState)}async function lM(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),LD(n,new Vy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:d}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aM;case"linkViaPopup":case"linkViaRedirect":return lM;case"reauthViaPopup":case"reauthViaRedirect":return oM;default:ai(this.auth,"internal-error")}}resolve(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=new pu(2e3,1e4);async function Mw(t,e,n){if(Sn(t.app))return Promise.reject(gi(t,"operation-not-supported-in-this-environment"));const s=Ir(t);Gj(t,e,ky);const a=jw(s,n);return new xa(s,"signInViaPopup",e,a).executeNotNull()}class xa extends Dw{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,xa.currentPopupAction&&xa.currentPopupAction.cancel(),xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Is(this.filter.length===1,"Popup operations only handle one event");const e=Py();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cM.get())};e()}}xa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM="pendingRedirect",vd=new Map;class hM extends Dw{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=vd.get(this.auth._key());if(!e){try{const s=await dM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}vd.set(this.auth._key(),e)}return this.bypassAuthState||vd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dM(t,e){const n=pM(e),s=mM(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function fM(t,e){vd.set(t._key(),e)}function mM(t){return bs(t._redirectPersistence)}function pM(t){return yd(uM,t.config.apiKey,t.name)}async function gM(t,e,n=!1){if(Sn(t.app))return Promise.reject(Ss(t));const s=Ir(t),a=jw(s,e),u=await new hM(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM=10*60*1e3;class vM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_M(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!kw(e)){const a=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(gi(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yM&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zx(e))}saveEventToCache(e){this.cachedEventUids.add(Zx(e)),this.lastProcessedEventTime=Date.now()}}function Zx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kw({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _M(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xM(t,e={}){return Nr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EM=/^https?/;async function bM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await xM(t);for(const n of e)try{if(wM(n))return}catch{}ai(t,"unauthorized-domain")}function wM(t){const e=Sg(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!EM.test(n))return!1;if(TM.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=new pu(3e4,6e4);function Jx(){const t=Bi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function AM(t){return new Promise((e,n)=>{var s,a,l;function u(){Jx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Jx(),n(gi(t,"network-request-failed"))},timeout:SM.get()})}if(!((a=(s=Bi().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Bi().gapi)===null||l===void 0)&&l.load)u();else{const d=xD("iframefcb");return Bi()[d]=()=>{gapi.load?u():n(gi(t,"network-request-failed"))},yw(`${_D()}?onload=${d}`).catch(m=>n(m))}}).catch(e=>{throw _d=null,e})}let _d=null;function CM(t){return _d=_d||AM(t),_d}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM=new pu(5e3,15e3),NM="__/auth/iframe",IM="emulator/auth/iframe",jM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MM(t){const e=t.config;be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ny(e,IM):`https://${t.config.authDomain}/${NM}`,s={apiKey:e.apiKey,appName:t.name,v:Va},a=DM.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${mu(s).slice(1)}`}async function kM(t){const e=await CM(t),n=Bi().gapi;return be(n,t,"internal-error"),e.open({where:document.body,url:MM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jM,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=gi(t,"network-request-failed"),d=Bi().setTimeout(()=>{l(u)},RM.get());function m(){Bi().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VM=500,OM=600,LM="_blank",UM="http://localhost";class eT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BM(t,e,n,s=VM,a=OM){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m=Object.assign(Object.assign({},PM),{width:s.toString(),height:a.toString(),top:l,left:u}),g=un().toLowerCase();n&&(d=uw(g)?LM:n),lw(g)&&(e=e||UM,m.scrollbars="yes");const v=Object.entries(m).reduce((T,[w,S])=>`${T}${w}=${S},`,"");if(uD(g)&&d!=="_self")return zM(e||"",d),new eT(null);const x=window.open(e||"",d,v);be(x,t,"popup-blocked");try{x.focus()}catch{}return new eT(x)}function zM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM="__/auth/handler",HM="emulator/auth/handler",qM=encodeURIComponent("fac");async function tT(t,e,n,s,a,l){be(t.config.authDomain,t,"auth-domain-config-required"),be(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Va,eventId:a};if(e instanceof ky){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",NI(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,x]of Object.entries({}))u[v]=x}if(e instanceof yu){const v=e.getScopes().filter(x=>x!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await t._getAppCheckToken(),g=m?`#${qM}=${encodeURIComponent(m)}`:"";return`${GM(t)}?${mu(d).slice(1)}${g}`}function GM({config:t}){return t.emulator?Ny(t,HM):`https://${t.authDomain}/${FM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp="webStorageSupport";class $M{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Aw,this._completeRedirectFn=gM,this._overrideRedirectResult=fM}async _openPopup(e,n,s,a){var l;Is((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await tT(e,n,s,Sg(),a);return BM(e,u,Py())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await tT(e,n,s,Sg(),a);return XD(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Is(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await kM(e),s=new vM(e);return n.register("authEvent",a=>(be(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wp,{type:Wp},a=>{var l;const u=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Wp];u!==void 0&&n(!!u),ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pw()||cw()||jy()}}const KM=$M;var nT="@firebase/auth",iT="1.10.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XM(t){Na(new _r("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=s.options;be(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:u,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gw(t)},g=new gD(s,a,l,m);return AD(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Na(new _r("auth-internal",e=>{const n=Ir(e.getProvider("auth").getImmediate());return(s=>new YM(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ui(nT,iT,QM(t)),Ui(nT,iT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=5*60,ZM=Yb("authIdTokenMaxAge")||WM;let sT=null;const JM=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>ZM)return;const a=n==null?void 0:n.token;sT!==a&&(sT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function e5(t=Sy()){const e=cf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=SD(t,{popupRedirectResolver:KM,persistence:[rM,KD,Aw]}),s=Yb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=JM(l.toString());qD(n,u,()=>u(n.currentUser)),HD(n,d=>u(d))}}const a=Gb("auth");return a?CD(n,`http://${a}`):sl("Auth",!1),n}function t5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}yD({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=gi("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",t5().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XM("Browser");var rT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yr,Pw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,C){function D(){}D.prototype=C.prototype,N.D=C.prototype,N.prototype=new D,N.prototype.constructor=N,N.C=function(O,B,q){for(var k=Array(arguments.length-2),st=2;st<arguments.length;st++)k[st-2]=arguments[st];return C.prototype[B].apply(O,k)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,C,D){D||(D=0);var O=Array(16);if(typeof C=="string")for(var B=0;16>B;++B)O[B]=C.charCodeAt(D++)|C.charCodeAt(D++)<<8|C.charCodeAt(D++)<<16|C.charCodeAt(D++)<<24;else for(B=0;16>B;++B)O[B]=C[D++]|C[D++]<<8|C[D++]<<16|C[D++]<<24;C=N.g[0],D=N.g[1],B=N.g[2];var q=N.g[3],k=C+(q^D&(B^q))+O[0]+3614090360&4294967295;C=D+(k<<7&4294967295|k>>>25),k=q+(B^C&(D^B))+O[1]+3905402710&4294967295,q=C+(k<<12&4294967295|k>>>20),k=B+(D^q&(C^D))+O[2]+606105819&4294967295,B=q+(k<<17&4294967295|k>>>15),k=D+(C^B&(q^C))+O[3]+3250441966&4294967295,D=B+(k<<22&4294967295|k>>>10),k=C+(q^D&(B^q))+O[4]+4118548399&4294967295,C=D+(k<<7&4294967295|k>>>25),k=q+(B^C&(D^B))+O[5]+1200080426&4294967295,q=C+(k<<12&4294967295|k>>>20),k=B+(D^q&(C^D))+O[6]+2821735955&4294967295,B=q+(k<<17&4294967295|k>>>15),k=D+(C^B&(q^C))+O[7]+4249261313&4294967295,D=B+(k<<22&4294967295|k>>>10),k=C+(q^D&(B^q))+O[8]+1770035416&4294967295,C=D+(k<<7&4294967295|k>>>25),k=q+(B^C&(D^B))+O[9]+2336552879&4294967295,q=C+(k<<12&4294967295|k>>>20),k=B+(D^q&(C^D))+O[10]+4294925233&4294967295,B=q+(k<<17&4294967295|k>>>15),k=D+(C^B&(q^C))+O[11]+2304563134&4294967295,D=B+(k<<22&4294967295|k>>>10),k=C+(q^D&(B^q))+O[12]+1804603682&4294967295,C=D+(k<<7&4294967295|k>>>25),k=q+(B^C&(D^B))+O[13]+4254626195&4294967295,q=C+(k<<12&4294967295|k>>>20),k=B+(D^q&(C^D))+O[14]+2792965006&4294967295,B=q+(k<<17&4294967295|k>>>15),k=D+(C^B&(q^C))+O[15]+1236535329&4294967295,D=B+(k<<22&4294967295|k>>>10),k=C+(B^q&(D^B))+O[1]+4129170786&4294967295,C=D+(k<<5&4294967295|k>>>27),k=q+(D^B&(C^D))+O[6]+3225465664&4294967295,q=C+(k<<9&4294967295|k>>>23),k=B+(C^D&(q^C))+O[11]+643717713&4294967295,B=q+(k<<14&4294967295|k>>>18),k=D+(q^C&(B^q))+O[0]+3921069994&4294967295,D=B+(k<<20&4294967295|k>>>12),k=C+(B^q&(D^B))+O[5]+3593408605&4294967295,C=D+(k<<5&4294967295|k>>>27),k=q+(D^B&(C^D))+O[10]+38016083&4294967295,q=C+(k<<9&4294967295|k>>>23),k=B+(C^D&(q^C))+O[15]+3634488961&4294967295,B=q+(k<<14&4294967295|k>>>18),k=D+(q^C&(B^q))+O[4]+3889429448&4294967295,D=B+(k<<20&4294967295|k>>>12),k=C+(B^q&(D^B))+O[9]+568446438&4294967295,C=D+(k<<5&4294967295|k>>>27),k=q+(D^B&(C^D))+O[14]+3275163606&4294967295,q=C+(k<<9&4294967295|k>>>23),k=B+(C^D&(q^C))+O[3]+4107603335&4294967295,B=q+(k<<14&4294967295|k>>>18),k=D+(q^C&(B^q))+O[8]+1163531501&4294967295,D=B+(k<<20&4294967295|k>>>12),k=C+(B^q&(D^B))+O[13]+2850285829&4294967295,C=D+(k<<5&4294967295|k>>>27),k=q+(D^B&(C^D))+O[2]+4243563512&4294967295,q=C+(k<<9&4294967295|k>>>23),k=B+(C^D&(q^C))+O[7]+1735328473&4294967295,B=q+(k<<14&4294967295|k>>>18),k=D+(q^C&(B^q))+O[12]+2368359562&4294967295,D=B+(k<<20&4294967295|k>>>12),k=C+(D^B^q)+O[5]+4294588738&4294967295,C=D+(k<<4&4294967295|k>>>28),k=q+(C^D^B)+O[8]+2272392833&4294967295,q=C+(k<<11&4294967295|k>>>21),k=B+(q^C^D)+O[11]+1839030562&4294967295,B=q+(k<<16&4294967295|k>>>16),k=D+(B^q^C)+O[14]+4259657740&4294967295,D=B+(k<<23&4294967295|k>>>9),k=C+(D^B^q)+O[1]+2763975236&4294967295,C=D+(k<<4&4294967295|k>>>28),k=q+(C^D^B)+O[4]+1272893353&4294967295,q=C+(k<<11&4294967295|k>>>21),k=B+(q^C^D)+O[7]+4139469664&4294967295,B=q+(k<<16&4294967295|k>>>16),k=D+(B^q^C)+O[10]+3200236656&4294967295,D=B+(k<<23&4294967295|k>>>9),k=C+(D^B^q)+O[13]+681279174&4294967295,C=D+(k<<4&4294967295|k>>>28),k=q+(C^D^B)+O[0]+3936430074&4294967295,q=C+(k<<11&4294967295|k>>>21),k=B+(q^C^D)+O[3]+3572445317&4294967295,B=q+(k<<16&4294967295|k>>>16),k=D+(B^q^C)+O[6]+76029189&4294967295,D=B+(k<<23&4294967295|k>>>9),k=C+(D^B^q)+O[9]+3654602809&4294967295,C=D+(k<<4&4294967295|k>>>28),k=q+(C^D^B)+O[12]+3873151461&4294967295,q=C+(k<<11&4294967295|k>>>21),k=B+(q^C^D)+O[15]+530742520&4294967295,B=q+(k<<16&4294967295|k>>>16),k=D+(B^q^C)+O[2]+3299628645&4294967295,D=B+(k<<23&4294967295|k>>>9),k=C+(B^(D|~q))+O[0]+4096336452&4294967295,C=D+(k<<6&4294967295|k>>>26),k=q+(D^(C|~B))+O[7]+1126891415&4294967295,q=C+(k<<10&4294967295|k>>>22),k=B+(C^(q|~D))+O[14]+2878612391&4294967295,B=q+(k<<15&4294967295|k>>>17),k=D+(q^(B|~C))+O[5]+4237533241&4294967295,D=B+(k<<21&4294967295|k>>>11),k=C+(B^(D|~q))+O[12]+1700485571&4294967295,C=D+(k<<6&4294967295|k>>>26),k=q+(D^(C|~B))+O[3]+2399980690&4294967295,q=C+(k<<10&4294967295|k>>>22),k=B+(C^(q|~D))+O[10]+4293915773&4294967295,B=q+(k<<15&4294967295|k>>>17),k=D+(q^(B|~C))+O[1]+2240044497&4294967295,D=B+(k<<21&4294967295|k>>>11),k=C+(B^(D|~q))+O[8]+1873313359&4294967295,C=D+(k<<6&4294967295|k>>>26),k=q+(D^(C|~B))+O[15]+4264355552&4294967295,q=C+(k<<10&4294967295|k>>>22),k=B+(C^(q|~D))+O[6]+2734768916&4294967295,B=q+(k<<15&4294967295|k>>>17),k=D+(q^(B|~C))+O[13]+1309151649&4294967295,D=B+(k<<21&4294967295|k>>>11),k=C+(B^(D|~q))+O[4]+4149444226&4294967295,C=D+(k<<6&4294967295|k>>>26),k=q+(D^(C|~B))+O[11]+3174756917&4294967295,q=C+(k<<10&4294967295|k>>>22),k=B+(C^(q|~D))+O[2]+718787259&4294967295,B=q+(k<<15&4294967295|k>>>17),k=D+(q^(B|~C))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+C&4294967295,N.g[1]=N.g[1]+(B+(k<<21&4294967295|k>>>11))&4294967295,N.g[2]=N.g[2]+B&4294967295,N.g[3]=N.g[3]+q&4294967295}s.prototype.u=function(N,C){C===void 0&&(C=N.length);for(var D=C-this.blockSize,O=this.B,B=this.h,q=0;q<C;){if(B==0)for(;q<=D;)a(this,N,q),q+=this.blockSize;if(typeof N=="string"){for(;q<C;)if(O[B++]=N.charCodeAt(q++),B==this.blockSize){a(this,O),B=0;break}}else for(;q<C;)if(O[B++]=N[q++],B==this.blockSize){a(this,O),B=0;break}}this.h=B,this.o+=C},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var C=1;C<N.length-8;++C)N[C]=0;var D=8*this.o;for(C=N.length-8;C<N.length;++C)N[C]=D&255,D/=256;for(this.u(N),N=Array(16),C=D=0;4>C;++C)for(var O=0;32>O;O+=8)N[D++]=this.g[C]>>>O&255;return N};function l(N,C){var D=d;return Object.prototype.hasOwnProperty.call(D,N)?D[N]:D[N]=C(N)}function u(N,C){this.h=C;for(var D=[],O=!0,B=N.length-1;0<=B;B--){var q=N[B]|0;O&&q==C||(D[B]=q,O=!1)}this.g=D}var d={};function m(N){return-128<=N&&128>N?l(N,function(C){return new u([C|0],0>C?-1:0)}):new u([N|0],0>N?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return x;if(0>N)return M(g(-N));for(var C=[],D=1,O=0;N>=D;O++)C[O]=N/D|0,D*=4294967296;return new u(C,0)}function v(N,C){if(N.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(N.charAt(0)=="-")return M(v(N.substring(1),C));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=g(Math.pow(C,8)),O=x,B=0;B<N.length;B+=8){var q=Math.min(8,N.length-B),k=parseInt(N.substring(B,B+q),C);8>q?(q=g(Math.pow(C,q)),O=O.j(q).add(g(k))):(O=O.j(D),O=O.add(g(k)))}return O}var x=m(0),T=m(1),w=m(16777216);t=u.prototype,t.m=function(){if(j(this))return-M(this).m();for(var N=0,C=1,D=0;D<this.g.length;D++){var O=this.i(D);N+=(0<=O?O:4294967296+O)*C,C*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(S(this))return"0";if(j(this))return"-"+M(this).toString(N);for(var C=g(Math.pow(N,6)),D=this,O="";;){var B=te(D,C).g;D=V(D,B.j(C));var q=((0<D.g.length?D.g[0]:D.h)>>>0).toString(N);if(D=B,S(D))return q+O;for(;6>q.length;)q="0"+q;O=q+O}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function S(N){if(N.h!=0)return!1;for(var C=0;C<N.g.length;C++)if(N.g[C]!=0)return!1;return!0}function j(N){return N.h==-1}t.l=function(N){return N=V(this,N),j(N)?-1:S(N)?0:1};function M(N){for(var C=N.g.length,D=[],O=0;O<C;O++)D[O]=~N.g[O];return new u(D,~N.h).add(T)}t.abs=function(){return j(this)?M(this):this},t.add=function(N){for(var C=Math.max(this.g.length,N.g.length),D=[],O=0,B=0;B<=C;B++){var q=O+(this.i(B)&65535)+(N.i(B)&65535),k=(q>>>16)+(this.i(B)>>>16)+(N.i(B)>>>16);O=k>>>16,q&=65535,k&=65535,D[B]=k<<16|q}return new u(D,D[D.length-1]&-2147483648?-1:0)};function V(N,C){return N.add(M(C))}t.j=function(N){if(S(this)||S(N))return x;if(j(this))return j(N)?M(this).j(M(N)):M(M(this).j(N));if(j(N))return M(this.j(M(N)));if(0>this.l(w)&&0>N.l(w))return g(this.m()*N.m());for(var C=this.g.length+N.g.length,D=[],O=0;O<2*C;O++)D[O]=0;for(O=0;O<this.g.length;O++)for(var B=0;B<N.g.length;B++){var q=this.i(O)>>>16,k=this.i(O)&65535,st=N.i(B)>>>16,Ge=N.i(B)&65535;D[2*O+2*B]+=k*Ge,Y(D,2*O+2*B),D[2*O+2*B+1]+=q*Ge,Y(D,2*O+2*B+1),D[2*O+2*B+1]+=k*st,Y(D,2*O+2*B+1),D[2*O+2*B+2]+=q*st,Y(D,2*O+2*B+2)}for(O=0;O<C;O++)D[O]=D[2*O+1]<<16|D[2*O];for(O=C;O<2*C;O++)D[O]=0;return new u(D,0)};function Y(N,C){for(;(N[C]&65535)!=N[C];)N[C+1]+=N[C]>>>16,N[C]&=65535,C++}function H(N,C){this.g=N,this.h=C}function te(N,C){if(S(C))throw Error("division by zero");if(S(N))return new H(x,x);if(j(N))return C=te(M(N),C),new H(M(C.g),M(C.h));if(j(C))return C=te(N,M(C)),new H(M(C.g),C.h);if(30<N.g.length){if(j(N)||j(C))throw Error("slowDivide_ only works with positive integers.");for(var D=T,O=C;0>=O.l(N);)D=F(D),O=F(O);var B=U(D,1),q=U(O,1);for(O=U(O,2),D=U(D,2);!S(O);){var k=q.add(O);0>=k.l(N)&&(B=B.add(D),q=k),O=U(O,1),D=U(D,1)}return C=V(N,B.j(C)),new H(B,C)}for(B=x;0<=N.l(C);){for(D=Math.max(1,Math.floor(N.m()/C.m())),O=Math.ceil(Math.log(D)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),q=g(D),k=q.j(C);j(k)||0<k.l(N);)D-=O,q=g(D),k=q.j(C);S(q)&&(q=T),B=B.add(q),N=V(N,k)}return new H(B,N)}t.A=function(N){return te(this,N).h},t.and=function(N){for(var C=Math.max(this.g.length,N.g.length),D=[],O=0;O<C;O++)D[O]=this.i(O)&N.i(O);return new u(D,this.h&N.h)},t.or=function(N){for(var C=Math.max(this.g.length,N.g.length),D=[],O=0;O<C;O++)D[O]=this.i(O)|N.i(O);return new u(D,this.h|N.h)},t.xor=function(N){for(var C=Math.max(this.g.length,N.g.length),D=[],O=0;O<C;O++)D[O]=this.i(O)^N.i(O);return new u(D,this.h^N.h)};function F(N){for(var C=N.g.length+1,D=[],O=0;O<C;O++)D[O]=N.i(O)<<1|N.i(O-1)>>>31;return new u(D,N.h)}function U(N,C){var D=C>>5;C%=32;for(var O=N.g.length-D,B=[],q=0;q<O;q++)B[q]=0<C?N.i(q+D)>>>C|N.i(q+D+1)<<32-C:N.i(q+D);return new u(B,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Pw=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=v,yr=u}).apply(typeof rT<"u"?rT:typeof self<"u"?self:typeof window<"u"?window:{});var td=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vw,Nc,Ow,xd,Ng,Lw,Uw,Bw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,_,E){return f==Array.prototype||f==Object.prototype||(f[_]=E.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof td=="object"&&td];for(var _=0;_<f.length;++_){var E=f[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function a(f,_){if(_)e:{var E=s;f=f.split(".");for(var R=0;R<f.length-1;R++){var $=f[R];if(!($ in E))break e;E=E[$]}f=f[f.length-1],R=E[f],_=_(R),_!=R&&_!=null&&e(E,f,{configurable:!0,writable:!0,value:_})}}function l(f,_){f instanceof String&&(f+="");var E=0,R=!1,$={next:function(){if(!R&&E<f.length){var J=E++;return{value:_(J,f[J]),done:!1}}return R=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}a("Array.prototype.values",function(f){return f||function(){return l(this,function(_,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function m(f){var _=typeof f;return _=_!="object"?_:f?Array.isArray(f)?"array":_:"null",_=="array"||_=="object"&&typeof f.length=="number"}function g(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function v(f,_,E){return f.call.apply(f.bind,arguments)}function x(f,_,E){if(!f)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,R),f.apply(_,$)}}return function(){return f.apply(_,arguments)}}function T(f,_,E){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:x,T.apply(null,arguments)}function w(f,_){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function S(f,_){function E(){}E.prototype=_.prototype,f.aa=_.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(R,$,J){for(var ce=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)ce[Ue-2]=arguments[Ue];return _.prototype[$].apply(R,ce)}}function j(f){const _=f.length;if(0<_){const E=Array(_);for(let R=0;R<_;R++)E[R]=f[R];return E}return[]}function M(f,_){for(let E=1;E<arguments.length;E++){const R=arguments[E];if(m(R)){const $=f.length||0,J=R.length||0;f.length=$+J;for(let ce=0;ce<J;ce++)f[$+ce]=R[ce]}else f.push(R)}}class V{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function Y(f){return/^[\s\xa0]*$/.test(f)}function H(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function te(f){return te[" "](f),f}te[" "]=function(){};var F=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function U(f,_,E){for(const R in f)_.call(E,f[R],R,f)}function N(f,_){for(const E in f)_.call(void 0,f[E],E,f)}function C(f){const _={};for(const E in f)_[E]=f[E];return _}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(f,_){let E,R;for(let $=1;$<arguments.length;$++){R=arguments[$];for(E in R)f[E]=R[E];for(let J=0;J<D.length;J++)E=D[J],Object.prototype.hasOwnProperty.call(R,E)&&(f[E]=R[E])}}function B(f){var _=1;f=f.split(":");const E=[];for(;0<_&&f.length;)E.push(f.shift()),_--;return f.length&&E.push(f.join(":")),E}function q(f){d.setTimeout(()=>{throw f},0)}function k(){var f=Ve;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class st{constructor(){this.h=this.g=null}add(_,E){const R=Ge.get();R.set(_,E),this.h?this.h.next=R:this.g=R,this.h=R}}var Ge=new V(()=>new ee,f=>f.reset());class ee{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let le,fe=!1,Ve=new st,L=()=>{const f=d.Promise.resolve(void 0);le=()=>{f.then(oe)}};var oe=()=>{for(var f;f=k();){try{f.h.call(f.g)}catch(E){q(E)}var _=Ge;_.j(f),100>_.h&&(_.h++,f.next=_.g,_.g=f)}fe=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};d.addEventListener("test",E,_),d.removeEventListener("test",E,_)}catch{}return f}();function ye(f,_){if(Z.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget){if(F){e:{try{te(_.nodeName);var $=!0;break e}catch{}$=!1}$||(_=null)}}else E=="mouseover"?_=f.fromElement:E=="mouseout"&&(_=f.toElement);this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Te[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&ye.aa.h.call(this)}}S(ye,Z);var Te={2:"touch",3:"pen",4:"mouse"};ye.prototype.h=function(){ye.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var wt="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function Rn(f,_,E,R,$){this.listener=f,this.proxy=null,this.src=_,this.type=E,this.capture=!!R,this.ha=$,this.key=++Ze,this.da=this.fa=!1}function $e(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function hn(f){this.src=f,this.g={},this.h=0}hn.prototype.add=function(f,_,E,R,$){var J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);var ce=Pr(f,_,R,$);return-1<ce?(_=f[ce],E||(_.fa=!1)):(_=new Rn(_,this.src,J,!!R,$),_.fa=E,f.push(_)),_};function _n(f,_){var E=_.type;if(E in f.g){var R=f.g[E],$=Array.prototype.indexOf.call(R,_,void 0),J;(J=0<=$)&&Array.prototype.splice.call(R,$,1),J&&($e(_),f.g[E].length==0&&(delete f.g[E],f.h--))}}function Pr(f,_,E,R){for(var $=0;$<f.length;++$){var J=f[$];if(!J.da&&J.listener==_&&J.capture==!!E&&J.ha==R)return $}return-1}var Vr="closure_lm_"+(1e6*Math.random()|0),ml={};function Nu(f,_,E,R,$){if(Array.isArray(_)){for(var J=0;J<_.length;J++)Nu(f,_[J],E,R,$);return null}return E=Iu(E),f&&f[wt]?f.K(_,E,g(R)?!!R.capture:!1,$):Bn(f,_,E,!1,R,$)}function Bn(f,_,E,R,$,J){if(!_)throw Error("Invalid event type");var ce=g($)?!!$.capture:!!$,Ue=za(f);if(Ue||(f[Vr]=Ue=new hn(f)),E=Ue.add(_,E,R,ce,J),E.proxy)return E;if(R=Of(),E.proxy=R,R.src=f,R.listener=E,f.addEventListener)he||($=ce),$===void 0&&($=!1),f.addEventListener(_.toString(),R,$);else if(f.attachEvent)f.attachEvent(Or(_.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Of(){function f(E){return _.call(f.src,f.listener,E)}const _=Lf;return f}function pl(f,_,E,R,$){if(Array.isArray(_))for(var J=0;J<_.length;J++)pl(f,_[J],E,R,$);else R=g(R)?!!R.capture:!!R,E=Iu(E),f&&f[wt]?(f=f.i,_=String(_).toString(),_ in f.g&&(J=f.g[_],E=Pr(J,E,R,$),-1<E&&($e(J[E]),Array.prototype.splice.call(J,E,1),J.length==0&&(delete f.g[_],f.h--)))):f&&(f=za(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Pr(_,E,R,$)),(E=-1<f?_[f]:null)&&Ba(E))}function Ba(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[wt])_n(_.i,f);else{var E=f.type,R=f.proxy;_.removeEventListener?_.removeEventListener(E,R,f.capture):_.detachEvent?_.detachEvent(Or(E),R):_.addListener&&_.removeListener&&_.removeListener(R),(E=za(_))?(_n(E,f),E.h==0&&(E.src=null,_[Vr]=null)):$e(f)}}}function Or(f){return f in ml?ml[f]:ml[f]="on"+f}function Lf(f,_){if(f.da)f=!0;else{_=new ye(_,this);var E=f.listener,R=f.ha||f.src;f.fa&&Ba(f),f=E.call(R,_)}return f}function za(f){return f=f[Vr],f instanceof hn?f:null}var gl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Iu(f){return typeof f=="function"?f:(f[gl]||(f[gl]=function(_){return f.handleEvent(_)}),f[gl])}function pt(){ue.call(this),this.i=new hn(this),this.M=this,this.F=null}S(pt,ue),pt.prototype[wt]=!0,pt.prototype.removeEventListener=function(f,_,E,R){pl(this,f,_,E,R)};function Qe(f,_){var E,R=f.F;if(R)for(E=[];R;R=R.F)E.push(R);if(f=f.M,R=_.type||_,typeof _=="string")_=new Z(_,f);else if(_ instanceof Z)_.target=_.target||f;else{var $=_;_=new Z(R,f),O(_,$)}if($=!0,E)for(var J=E.length-1;0<=J;J--){var ce=_.g=E[J];$=Nn(ce,R,!0,_)&&$}if(ce=_.g=f,$=Nn(ce,R,!0,_)&&$,$=Nn(ce,R,!1,_)&&$,E)for(J=0;J<E.length;J++)ce=_.g=E[J],$=Nn(ce,R,!1,_)&&$}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var f=this.i,_;for(_ in f.g){for(var E=f.g[_],R=0;R<E.length;R++)$e(E[R]);delete f.g[_],f.h--}}this.F=null},pt.prototype.K=function(f,_,E,R){return this.i.add(String(f),_,!1,E,R)},pt.prototype.L=function(f,_,E,R){return this.i.add(String(f),_,!0,E,R)};function Nn(f,_,E,R){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();for(var $=!0,J=0;J<_.length;++J){var ce=_[J];if(ce&&!ce.da&&ce.capture==E){var Ue=ce.listener,Mt=ce.ha||ce.src;ce.fa&&_n(f.i,ce),$=Ue.call(Mt,R)!==!1&&$}}return $&&!R.defaultPrevented}function tn(f,_,E){if(typeof f=="function")E&&(f=T(f,E));else if(f&&typeof f.handleEvent=="function")f=T(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:d.setTimeout(f,_||0)}function ju(f){f.g=tn(()=>{f.g=null,f.i&&(f.i=!1,ju(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class Uf extends ue{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:ju(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lr(f){ue.call(this),this.h=f,this.g={}}S(Lr,ue);var Ur=[];function Br(f){U(f.g,function(_,E){this.g.hasOwnProperty(E)&&Ba(_)},f),f.g={}}Lr.prototype.N=function(){Lr.aa.N.call(this),Br(this)},Lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oi=d.JSON.stringify,Fa=d.JSON.parse,zr=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function yl(){}yl.prototype.h=null;function vl(f){return f.h||(f.h=f.i())}function _l(){}var Wi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zi(){Z.call(this,"d")}S(Zi,Z);function xl(){Z.call(this,"c")}S(xl,Z);var Ti={},Tl=null;function Ps(){return Tl=Tl||new pt}Ti.La="serverreachability";function Ha(f){Z.call(this,Ti.La,f)}S(Ha,Z);function Vs(f){const _=Ps();Qe(_,new Ha(_))}Ti.STAT_EVENT="statevent";function Du(f,_){Z.call(this,Ti.STAT_EVENT,f),this.stat=_}S(Du,Z);function lt(f){const _=Ps();Qe(_,new Du(_,f))}Ti.Ma="timingevent";function Dt(f,_){Z.call(this,Ti.Ma,f),this.size=_}S(Dt,Z);function St(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},_)}function zn(){this.g=!0}zn.prototype.xa=function(){this.g=!1};function El(f,_,E,R,$,J){f.info(function(){if(f.g)if(J)for(var ce="",Ue=J.split("&"),Mt=0;Mt<Ue.length;Mt++){var Be=Ue[Mt].split("=");if(1<Be.length){var Ut=Be[0];Be=Be[1];var kt=Ut.split("_");ce=2<=kt.length&&kt[1]=="type"?ce+(Ut+"="+Be+"&"):ce+(Ut+"=redacted&")}}else ce=null;else ce=J;return"XMLHTTP REQ ("+R+") [attempt "+$+"]: "+_+`
`+E+`
`+ce})}function Bf(f,_,E,R,$,J,ce){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+$+"]: "+_+`
`+E+`
`+J+" "+ce})}function Os(f,_,E,R){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+Fr(f,E)+(R?" "+R:"")})}function Mu(f,_){f.info(function(){return"TIMEOUT: "+_})}zn.prototype.info=function(){};function Fr(f,_){if(!f.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var R=E[f];if(!(2>R.length)){var $=R[1];if(Array.isArray($)&&!(1>$.length)){var J=$[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ce=1;ce<$.length;ce++)$[ce]=""}}}}return oi(E)}catch{return _}}var Ls={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ji={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ei;function bi(){}S(bi,yl),bi.prototype.g=function(){return new XMLHttpRequest},bi.prototype.i=function(){return{}},Ei=new bi;function dn(f,_,E,R){this.j=f,this.i=_,this.l=E,this.R=R||1,this.U=new Lr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _t}function _t(){this.i=null,this.g="",this.h=!1}var bl={},qa={};function li(f,_,E){f.L=1,f.v=Kr(In(_)),f.m=E,f.P=!0,es(f,null)}function es(f,_){f.F=Date.now(),Hr(f),f.A=In(f.v);var E=f.A,R=f.R;Array.isArray(R)||(R=[String(R)]),Nl(E.i,"t",R),f.C=0,E=f.j.J,f.h=new _t,f.g=Qu(f.j,E?_:null,!f.m),0<f.O&&(f.M=new Uf(T(f.Y,f,f.g),f.O)),_=f.U,E=f.g,R=f.ca;var $="readystatechange";Array.isArray($)||($&&(Ur[0]=$.toString()),$=Ur);for(var J=0;J<$.length;J++){var ce=Nu(E,$[J],R||_.handleEvent,!1,_.h||_);if(!ce)break;_.g[ce.key]=ce}_=f.H?C(f.H):{},f.m?(f.u||(f.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,_)):(f.u="GET",f.g.ea(f.A,f.u,null,_)),Vs(),El(f.i,f.u,f.A,f.l,f.R,f.m)}dn.prototype.ca=function(f){f=f.target;const _=this.M;_&&Gn(f)==3?_.j():this.Y(f)},dn.prototype.Y=function(f){try{if(f==this.g)e:{const kt=Gn(this.g);var _=this.g.Ba();const ls=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||zu(this.g)))){this.J||kt!=4||_==7||(_==8||0>=ls?Vs(3):Vs(2)),Us(this);var E=this.g.Z();this.X=E;t:if(ku(this)){var R=zu(this.g);f="";var $=R.length,J=Gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qt(this),wi(this);var ce="";break t}this.h.i=new d.TextDecoder}for(_=0;_<$;_++)this.h.h=!0,f+=this.h.i.decode(R[_],{stream:!(J&&_==$-1)});R.length=0,this.h.g+=f,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=E==200,Bf(this.i,this.u,this.A,this.l,this.R,kt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,Mt=this.g;if((Ue=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(Ue)){var Be=Ue;break t}}Be=null}if(E=Be)Os(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qr(this,E);else{this.o=!1,this.s=3,lt(12),qt(this),wi(this);break e}}if(this.P){E=!0;let Gt;for(;!this.J&&this.C<ce.length;)if(Gt=Pu(this,ce),Gt==qa){kt==4&&(this.s=4,lt(14),E=!1),Os(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==bl){this.s=4,lt(15),Os(this.i,this.l,ce,"[Invalid Chunk]"),E=!1;break}else Os(this.i,this.l,Gt,null),qr(this,Gt);if(ku(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||ce.length!=0||this.h.h||(this.s=1,lt(16),E=!1),this.o=this.o&&E,!E)Os(this.i,this.l,ce,"[Invalid Chunked Response]"),qt(this),wi(this);else if(0<ce.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),ta(Ut),Ut.M=!0,lt(11))}}else Os(this.i,this.l,ce,null),qr(this,ce);kt==4&&qt(this),this.o&&!this.J&&(kt==4?$u(this.j,this):(this.o=!1,Hr(this)))}else Gf(this.g),E==400&&0<ce.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),qt(this),wi(this)}}}catch{}finally{}};function ku(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Pu(f,_){var E=f.C,R=_.indexOf(`
`,E);return R==-1?qa:(E=Number(_.substring(E,R)),isNaN(E)?bl:(R+=1,R+E>_.length?qa:(_=_.slice(R,R+E),f.C=R+E,_)))}dn.prototype.cancel=function(){this.J=!0,qt(this)};function Hr(f){f.S=Date.now()+f.I,Vu(f,f.I)}function Vu(f,_){if(f.B!=null)throw Error("WatchDog timer not null");f.B=St(T(f.ba,f),_)}function Us(f){f.B&&(d.clearTimeout(f.B),f.B=null)}dn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Mu(this.i,this.A),this.L!=2&&(Vs(),lt(17)),qt(this),this.s=2,wi(this)):Vu(this,this.S-f)};function wi(f){f.j.G==0||f.J||$u(f.j,f)}function qt(f){Us(f);var _=f.M;_&&typeof _.ma=="function"&&_.ma(),f.M=null,Br(f.U),f.g&&(_=f.g,f.g=null,_.abort(),_.ma())}function qr(f,_){try{var E=f.j;if(E.G!=0&&(E.g==f||wl(E.h,f))){if(!f.K&&wl(E.h,f)&&E.G==3){try{var R=E.Da.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var $=R;if($[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)no(E),eo(E);else break e;kl(E),lt(18)}}else E.za=$[1],0<E.za-E.T&&37500>$[2]&&E.F&&E.v==0&&!E.C&&(E.C=St(T(E.Za,E),6e3));if(1>=$a(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else os(E,11)}else if((f.K||E.g==f)&&no(E),!Y(_))for($=E.Da.g.parse(_),_=0;_<$.length;_++){let Be=$[_];if(E.T=Be[0],Be=Be[1],E.G==2)if(Be[0]=="c"){E.K=Be[1],E.ia=Be[2];const Ut=Be[3];Ut!=null&&(E.la=Ut,E.j.info("VER="+E.la));const kt=Be[4];kt!=null&&(E.Aa=kt,E.j.info("SVER="+E.Aa));const ls=Be[5];ls!=null&&typeof ls=="number"&&0<ls&&(R=1.5*ls,E.L=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const Gt=f.g;if(Gt){const ji=Gt.g?Gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ji){var J=R.h;J.g||ji.indexOf("spdy")==-1&&ji.indexOf("quic")==-1&&ji.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Ka(J,J.h),J.h=null))}if(R.D){const Vl=Gt.g?Gt.g.getResponseHeader("X-HTTP-Session-Id"):null;Vl&&(R.ya=Vl,Je(R.I,R.D,Vl))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),R=E;var ce=f;if(R.qa=Yu(R,R.J?R.ia:null,R.W),ce.K){fn(R.h,ce);var Ue=ce,Mt=R.L;Mt&&(Ue.I=Mt),Ue.B&&(Us(Ue),Hr(Ue)),R.g=ce}else qu(R);0<E.i.length&&to(E)}else Be[0]!="stop"&&Be[0]!="close"||os(E,7);else E.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?os(E,7):Dl(E):Be[0]!="noop"&&E.l&&E.l.ta(Be),E.v=0)}}Vs(4)}catch{}}var Ou=class{constructor(f,_){this.g=f,this.map=_}};function ts(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ga(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function $a(f){return f.h?1:f.g?f.g.size:0}function wl(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function Ka(f,_){f.g?f.g.add(_):f.h=_}function fn(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}ts.prototype.cancel=function(){if(this.i=Sl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Sl(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const E of f.g.values())_=_.concat(E.D);return _}return j(f.i)}function zf(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(m(f)){for(var _=[],E=f.length,R=0;R<E;R++)_.push(f[R]);return _}_=[],E=0;for(R in f)_[E++]=f[R];return _}function Ya(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(m(f)||typeof f=="string"){var _=[];f=f.length;for(var E=0;E<f;E++)_.push(E);return _}_=[],E=0;for(const R in f)_[E++]=R;return _}}}function Al(f,_){if(f.forEach&&typeof f.forEach=="function")f.forEach(_,void 0);else if(m(f)||typeof f=="string")Array.prototype.forEach.call(f,_,void 0);else for(var E=Ya(f),R=zf(f),$=R.length,J=0;J<$;J++)_.call(void 0,R[J],E&&E[J],f)}var Gr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ff(f,_){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var R=f[E].indexOf("="),$=null;if(0<=R){var J=f[E].substring(0,R);$=f[E].substring(R+1)}else J=f[E];_(J,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function At(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof At){this.h=f.h,$r(this,f.j),this.o=f.o,this.g=f.g,Bs(this,f.s),this.l=f.l;var _=f.i,E=new is;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),ns(this,E),this.m=f.m}else f&&(_=String(f).match(Gr))?(this.h=!1,$r(this,_[1]||"",!0),this.o=Fn(_[2]||""),this.g=Fn(_[3]||"",!0),Bs(this,_[4]),this.l=Fn(_[5]||"",!0),ns(this,_[6]||"",!0),this.m=Fn(_[7]||"")):(this.h=!1,this.i=new is(null,this.h))}At.prototype.toString=function(){var f=[],_=this.j;_&&f.push(Yr(_,Cl,!0),":");var E=this.g;return(E||_=="file")&&(f.push("//"),(_=this.o)&&f.push(Yr(_,Cl,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(Yr(E,E.charAt(0)=="/"?Hf:Rl,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",Yr(E,Qa)),f.join("")};function In(f){return new At(f)}function $r(f,_,E){f.j=E?Fn(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function Bs(f,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);f.s=_}else f.s=null}function ns(f,_,E){_ instanceof is?(f.i=_,Uu(f.i,f.h)):(E||(_=Yr(_,qf)),f.i=new is(_,f.h))}function Je(f,_,E){f.i.set(_,E)}function Kr(f){return Je(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Fn(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Yr(f,_,E){return typeof f=="string"?(f=encodeURI(f).replace(_,Lu),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Lu(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Cl=/[#\/\?@]/g,Rl=/[#\?:]/g,Hf=/[#\?]/g,qf=/[#\?@]/g,Qa=/#/g;function is(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function Hn(f){f.g||(f.g=new Map,f.h=0,f.i&&Ff(f.i,function(_,E){f.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=is.prototype,t.add=function(f,_){Hn(this),this.i=null,f=Si(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(_),this.h+=1,this};function ss(f,_){Hn(f),_=Si(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function rs(f,_){return Hn(f),_=Si(f,_),f.g.has(_)}t.forEach=function(f,_){Hn(this),this.g.forEach(function(E,R){E.forEach(function($){f.call(_,$,R,this)},this)},this)},t.na=function(){Hn(this);const f=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let R=0;R<_.length;R++){const $=f[R];for(let J=0;J<$.length;J++)E.push(_[R])}return E},t.V=function(f){Hn(this);let _=[];if(typeof f=="string")rs(this,f)&&(_=_.concat(this.g.get(Si(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)_=_.concat(f[E])}return _},t.set=function(f,_){return Hn(this),this.i=null,f=Si(this,f),rs(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},t.get=function(f,_){return f?(f=this.V(f),0<f.length?String(f[0]):_):_};function Nl(f,_,E){ss(f,_),0<E.length&&(f.i=null,f.g.set(Si(f,_),j(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var R=_[E];const J=encodeURIComponent(String(R)),ce=this.V(R);for(R=0;R<ce.length;R++){var $=J;ce[R]!==""&&($+="="+encodeURIComponent(String(ce[R]))),f.push($)}}return this.i=f.join("&")};function Si(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function Uu(f,_){_&&!f.j&&(Hn(f),f.i=null,f.g.forEach(function(E,R){var $=R.toLowerCase();R!=$&&(ss(this,R),Nl(this,$,E))},f)),f.j=_}function Qr(f,_){const E=new zn;if(d.Image){const R=new Image;R.onload=w(qn,E,"TestLoadImage: loaded",!0,_,R),R.onerror=w(qn,E,"TestLoadImage: error",!1,_,R),R.onabort=w(qn,E,"TestLoadImage: abort",!1,_,R),R.ontimeout=w(qn,E,"TestLoadImage: timeout",!1,_,R),d.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else _(!1)}function ci(f,_){const E=new zn,R=new AbortController,$=setTimeout(()=>{R.abort(),qn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:R.signal}).then(J=>{clearTimeout($),J.ok?qn(E,"TestPingServer: ok",!0,_):qn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout($),qn(E,"TestPingServer: error",!1,_)})}function qn(f,_,E,R,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),R(E)}catch{}}function Xr(){this.g=new zr}function Ai(f,_,E){const R=E||"";try{Al(f,function($,J){let ce=$;g($)&&(ce=oi($)),_.push(R+J+"="+encodeURIComponent(ce))})}catch($){throw _.push(R+"type="+encodeURIComponent("_badmap")),$}}function zs(f){this.l=f.Ub||null,this.j=f.eb||!1}S(zs,yl),zs.prototype.g=function(){return new as(this.l,this.j)},zs.prototype.i=function(f){return function(){return f}}({});function as(f,_){pt.call(this),this.D=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(as,pt),t=as.prototype,t.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=_,this.readyState=1,Ri(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(_.body=f),(this.D||d).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ci(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ri(this)),this.g&&(this.readyState=3,Ri(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Il(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Il(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?Ci(this):Ri(this),this.readyState==3&&Il(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Ci(this))},t.Qa=function(f){this.g&&(this.response=f,Ci(this))},t.ga=function(){this.g&&Ci(this)};function Ci(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Ri(f)}t.setRequestHeader=function(f,_){this.u.append(f,_)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=_.next();return f.join(`\r
`)};function Ri(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(as.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function jl(f){let _="";return U(f,function(E,R){_+=R,_+=":",_+=E,_+=`\r
`}),_}function Lt(f,_,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=jl(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):Je(f,_,E))}function Ke(f){pt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Ke,pt);var Xa=/^https?$/i,Wr=["POST","PUT"];t=Ke.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,_,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ei.g(),this.v=this.o?vl(this.o):vl(Ei),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(J){Bu(this,J);return}if(f=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var $ in R)E.set($,R[$]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const J of R.keys())E.set(J,R.get(J));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(J=>J.toLowerCase()=="content-type"),$=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Wr,_,void 0))||R||$||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ce]of E)this.g.setRequestHeader(J,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zr(this),this.u=!0,this.g.send(f),this.u=!1}catch(J){Bu(this,J)}};function Bu(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.m=5,Wa(f),Ni(f)}function Wa(f){f.A||(f.A=!0,Qe(f,"complete"),Qe(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Qe(this,"complete"),Qe(this,"abort"),Ni(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),Ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Za(this):this.bb())},t.bb=function(){Za(this)};function Za(f){if(f.h&&typeof u<"u"&&(!f.v[1]||Gn(f)!=4||f.Z()!=2)){if(f.u&&Gn(f)==4)tn(f.Ea,0,f);else if(Qe(f,"readystatechange"),Gn(f)==4){f.h=!1;try{const ce=f.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var R;if(R=ce===0){var $=String(f.D).match(Gr)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),R=!Xa.test($?$.toLowerCase():"")}E=R}if(E)Qe(f,"complete"),Qe(f,"success");else{f.m=6;try{var J=2<Gn(f)?f.g.statusText:""}catch{J=""}f.l=J+" ["+f.Z()+"]",Wa(f)}}finally{Ni(f)}}}}function Ni(f,_){if(f.g){Zr(f);const E=f.g,R=f.v[0]?()=>{}:null;f.g=null,f.v=null,_||Qe(f,"ready");try{E.onreadystatechange=R}catch{}}}function Zr(f){f.I&&(d.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Gn(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Gn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),Fa(_)}};function zu(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Gf(f){const _={};f=(f.g&&2<=Gn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(Y(f[R]))continue;var E=B(f[R]);const $=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const J=_[$]||[];_[$]=J,J.push(E)}N(_,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jr(f,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||_}function Ja(f){this.Aa=0,this.i=[],this.j=new zn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jr("baseRetryDelayMs",5e3,f),this.cb=Jr("retryDelaySeedMs",1e4,f),this.Wa=Jr("forwardChannelMaxRetries",2,f),this.wa=Jr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ts(f&&f.concurrentRequestLimit),this.Da=new Xr,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ja.prototype,t.la=8,t.G=1,t.connect=function(f,_,E,R){lt(0),this.W=f,this.H=_||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.I=Yu(this,null,this.W),to(this)};function Dl(f){if(Fu(f),f.G==3){var _=f.U++,E=In(f.I);if(Je(E,"SID",f.K),Je(E,"RID",_),Je(E,"TYPE","terminate"),ea(f,E),_=new dn(f,f.j,_),_.L=2,_.v=Kr(In(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=_.v,E=!0),E||(_.g=Qu(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Hr(_)}Ku(f)}function eo(f){f.g&&(ta(f),f.g.cancel(),f.g=null)}function Fu(f){eo(f),f.u&&(d.clearTimeout(f.u),f.u=null),no(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function to(f){if(!Ga(f.h)&&!f.s){f.s=!0;var _=f.Ga;le||L(),fe||(le(),fe=!0),Ve.add(_,f),f.B=0}}function $f(f,_){return $a(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=_.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=St(T(f.Ga,f,_),Pl(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const $=new dn(this,this.j,f);let J=this.o;if(this.S&&(J?(J=C(J),O(J,this.S)):J=this.S),this.m!==null||this.O||($.H=J,J=null),this.P)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,4096<_){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=Hu(this,$,_),E=In(this.I),Je(E,"RID",f),Je(E,"CVER",22),this.D&&Je(E,"X-HTTP-Session-Id",this.D),ea(this,E),J&&(this.O?_="headers="+encodeURIComponent(String(jl(J)))+"&"+_:this.m&&Lt(E,this.m,J)),Ka(this.h,$),this.Ua&&Je(E,"TYPE","init"),this.P?(Je(E,"$req",_),Je(E,"SID","null"),$.T=!0,li($,E,null)):li($,E,_),this.G=2}}else this.G==3&&(f?Ml(this,f):this.i.length==0||Ga(this.h)||Ml(this))};function Ml(f,_){var E;_?E=_.l:E=f.U++;const R=In(f.I);Je(R,"SID",f.K),Je(R,"RID",E),Je(R,"AID",f.T),ea(f,R),f.m&&f.o&&Lt(R,f.m,f.o),E=new dn(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),_&&(f.i=_.D.concat(f.i)),_=Hu(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Ka(f.h,E),li(E,R,_)}function ea(f,_){f.H&&U(f.H,function(E,R){Je(_,R,E)}),f.l&&Al({},function(E,R){Je(_,R,E)})}function Hu(f,_,E){E=Math.min(f.i.length,E);var R=f.l?T(f.l.Na,f.l,f):null;e:{var $=f.i;let J=-1;for(;;){const ce=["count="+E];J==-1?0<E?(J=$[0].g,ce.push("ofs="+J)):J=0:ce.push("ofs="+J);let Ue=!0;for(let Mt=0;Mt<E;Mt++){let Be=$[Mt].g;const Ut=$[Mt].map;if(Be-=J,0>Be)J=Math.max(0,$[Mt].g-100),Ue=!1;else try{Ai(Ut,ce,"req"+Be+"_")}catch{R&&R(Ut)}}if(Ue){R=ce.join("&");break e}}}return f=f.i.splice(0,E),_.D=f,R}function qu(f){if(!f.g&&!f.u){f.Y=1;var _=f.Fa;le||L(),fe||(le(),fe=!0),Ve.add(_,f),f.v=0}}function kl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=St(T(f.Fa,f),Pl(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Gu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=St(T(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),eo(this),Gu(this))};function ta(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function Gu(f){f.g=new dn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var _=In(f.qa);Je(_,"RID","rpc"),Je(_,"SID",f.K),Je(_,"AID",f.T),Je(_,"CI",f.F?"0":"1"),!f.F&&f.ja&&Je(_,"TO",f.ja),Je(_,"TYPE","xmlhttp"),ea(f,_),f.m&&f.o&&Lt(_,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=Kr(In(_)),E.m=null,E.P=!0,es(E,f)}t.Za=function(){this.C!=null&&(this.C=null,eo(this),kl(this),lt(19))};function no(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function $u(f,_){var E=null;if(f.g==_){no(f),ta(f),f.g=null;var R=2}else if(wl(f.h,_))E=_.D,fn(f.h,_),R=1;else return;if(f.G!=0){if(_.o)if(R==1){E=_.m?_.m.length:0,_=Date.now()-_.F;var $=f.B;R=Ps(),Qe(R,new Dt(R,E)),to(f)}else qu(f);else if($=_.s,$==3||$==0&&0<_.X||!(R==1&&$f(f,_)||R==2&&kl(f)))switch(E&&0<E.length&&(_=f.h,_.i=_.i.concat(E)),$){case 1:os(f,5);break;case 4:os(f,10);break;case 3:os(f,6);break;default:os(f,2)}}}function Pl(f,_){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*_}function os(f,_){if(f.j.info("Error code "+_),_==2){var E=T(f.fb,f),R=f.Xa;const $=!R;R=new At(R||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||$r(R,"https"),Kr(R),$?Qr(R.toString(),E):ci(R.toString(),E)}else lt(2);f.G=0,f.l&&f.l.sa(_),Ku(f),Fu(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function Ku(f){if(f.G=0,f.ka=[],f.l){const _=Sl(f.h);(_.length!=0||f.i.length!=0)&&(M(f.ka,_),M(f.ka,f.i),f.h.i.length=0,j(f.i),f.i.length=0),f.l.ra()}}function Yu(f,_,E){var R=E instanceof At?In(E):new At(E);if(R.g!="")_&&(R.g=_+"."+R.g),Bs(R,R.s);else{var $=d.location;R=$.protocol,_=_?_+"."+$.hostname:$.hostname,$=+$.port;var J=new At(null);R&&$r(J,R),_&&(J.g=_),$&&Bs(J,$),E&&(J.l=E),R=J}return E=f.D,_=f.ya,E&&_&&Je(R,E,_),Je(R,"VER",f.la),ea(f,R),R}function Qu(f,_,E){if(_&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Ca&&!f.pa?new Ke(new zs({eb:E})):new Ke(f.pa),_.Ha(f.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xu(){}t=Xu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function io(){}io.prototype.g=function(f,_){return new mn(f,_)};function mn(f,_){pt.call(this),this.g=new Ja(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(f?f["X-WebChannel-Client-Profile"]=_.va:f={"X-WebChannel-Client-Profile":_.va}),this.g.S=f,(f=_&&_.Sb)&&!Y(f)&&(this.g.m=f),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!Y(_)&&(this.g.D=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new Ii(this)}S(mn,pt),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Dl(this.g)},mn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=oi(f),f=E);_.i.push(new Ou(_.Ya++,f)),_.G==3&&to(_)},mn.prototype.N=function(){this.g.l=null,delete this.j,Dl(this.g),delete this.g,mn.aa.N.call(this)};function Wu(f){Zi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const E in _){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}S(Wu,Zi);function Zu(){xl.call(this),this.status=1}S(Zu,xl);function Ii(f){this.g=f}S(Ii,Xu),Ii.prototype.ua=function(){Qe(this.g,"a")},Ii.prototype.ta=function(f){Qe(this.g,new Wu(f))},Ii.prototype.sa=function(f){Qe(this.g,new Zu)},Ii.prototype.ra=function(){Qe(this.g,"b")},io.prototype.createWebChannel=io.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Bw=function(){return new io},Uw=function(){return Ps()},Lw=Ti,Ng={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ls.NO_ERROR=0,Ls.TIMEOUT=8,Ls.HTTP_ERROR=6,xd=Ls,Ji.COMPLETE="complete",Ow=Ji,_l.EventType=Wi,Wi.OPEN="a",Wi.CLOSE="b",Wi.ERROR="c",Wi.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Nc=_l,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,Vw=Ke}).apply(typeof td<"u"?td:typeof self<"u"?self:typeof window<"u"?window:{});const aT="@firebase/firestore",oT="4.7.15";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let al="11.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=new by("@firebase/firestore");function Mo(){return Da.logLevel}function me(t,...e){if(Da.logLevel<=Oe.DEBUG){const n=e.map(Oy);Da.debug(`Firestore (${al}): ${t}`,...n)}}function js(t,...e){if(Da.logLevel<=Oe.ERROR){const n=e.map(Oy);Da.error(`Firestore (${al}): ${t}`,...n)}}function $o(t,...e){if(Da.logLevel<=Oe.WARN){const n=e.map(Oy);Da.warn(`Firestore (${al}): ${t}`,...n)}}function Oy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,zw(t,s,n)}function zw(t,e,n){let s=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw js(s),new Error(s)}function Ye(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||zw(e,a,s)}function Re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Qi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class n5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(on.UNAUTHENTICATED))}shutdown(){}}class i5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class s5{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new As;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new As,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},d=m=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new As)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string",31837,{l:s}),new Fw(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class r5{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class a5{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new r5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class o5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Sn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const s=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const a=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new lT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new lT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=l5(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function je(t,e){return t<e?-1:t>e?1:0}function Ig(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=t.codePointAt(n),a=e.codePointAt(n);if(s!==a){if(s<128&&a<128)return je(s,a);{const l=Hw(),u=c5(l.encode(cT(t,n)),l.encode(cT(e,n)));return u!==0?u:je(s,a)}}n+=s>65535?2:1}return je(t.length,e.length)}function cT(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function c5(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return je(t[n],e[n]);return je(t.length,e.length)}function Ko(t,e,n){return t.length===e.length&&t.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=-62135596800,hT=1e6;class Me{static now(){return Me.fromMillis(Date.now())}static fromDate(e){return Me.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*hT);return new Me(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<uT)throw new de(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hT}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-uT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Me(0,0))}static max(){return new Ce(new Me(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="__name__";class Oi{constructor(e,n,s){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&we(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=Oi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return je(e.length,n.length)}static compareSegments(e,n){const s=Oi.isNumericId(e),a=Oi.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Oi.extractNumericId(e).compare(Oi.extractNumericId(n)):Ig(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yr.fromString(e.substring(4,e.length-2))}}class ot extends Oi{construct(e,n,s){return new ot(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(se.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new ot(n)}static emptyPath(){return new ot([])}}const u5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Oi{construct(e,n,s){return new Zt(e,n,s)}static isValidIdentifier(e){return u5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dT}static keyField(){return new Zt([dT])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new de(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new de(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new de(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else d==="`"?(u=!u,a++):d!=="."||u?(s+=d,a++):(l(),a++)}if(l(),u)throw new de(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ot.fromString(e))}static fromName(e){return new _e(ot.fromString(e).popFirst(5))}static empty(){return new _e(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ot(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=-1;function h5(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ce.fromTimestamp(s===1e9?new Me(n+1,0):new Me(n,s));return new xr(a,_e.empty(),e)}function d5(t){return new xr(t.readTime,t.key,Xc)}class xr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new xr(Ce.min(),_e.empty(),Xc)}static max(){return new xr(Ce.max(),_e.empty(),Xc)}}function f5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class p5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ol(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==m5)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.reject(n)}static resolve(e){return new ae((n,s)=>{n(e)})}static reject(e){return new ae((n,s)=>{s(e)})}static waitFor(e){return new ae((n,s)=>{let a=0,l=0,u=!1;e.forEach(d=>{++a,d.next(()=>{++l,u&&l===a&&n()},m=>s(m))}),u=!0,l===a&&n()})}static or(e){let n=ae.resolve(!1);for(const s of e)n=n.next(a=>a?ae.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,l)=>{s.push(n.call(this,a,l))}),this.waitFor(s)}static mapArray(e,n){return new ae((s,a)=>{const l=e.length,u=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;n(e[g]).next(v=>{u[g]=v,++d,d===l&&s(u)},v=>a(v))}})}static doWhile(e,n){return new ae((s,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):s()};l()})}}function g5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ll(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}ff.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=-1;function mf(t){return t==null}function Ud(t){return t===0&&1/t==-1/0}function y5(t){return typeof t=="number"&&Number.isInteger(t)&&!Ud(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="";function v5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=fT(e)),e=_5(t.get(n),e);return fT(e)}function _5(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case Gw:n+="";break;default:n+=l}}return n}function fT(t){return t+Gw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function jr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $w(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){this.comparator=e,this.root=n||Wt.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nd(this.root,e,this.comparator,!1)}getReverseIterator(){return new nd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nd(this.root,e,this.comparator,!0)}}class nd{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??Wt.RED,this.left=a??Wt.EMPTY,this.right=l??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new Wt(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Wt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new Wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pT(this.data.getIterator())}getIteratorFrom(e){return new pT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class pT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new Ln([])}unionWith(e){let n=new Ot(Zt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ko(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Kw("Invalid base64 string: "+l):l}}(e);return new en(n)}static fromUint8Array(e){const n=function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l}(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const x5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tr(t){if(Ye(!!t,39018),typeof t=="string"){let e=0;const n=x5.exec(t);if(Ye(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:bt(t.seconds),nanos:bt(t.nanos)}}function bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Er(t){return typeof t=="string"?en.fromBase64String(t):en.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="server_timestamp",Qw="__type__",Xw="__previous_value__",Ww="__local_write_time__";function Uy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Qw])===null||n===void 0?void 0:n.stringValue)===Yw}function pf(t){const e=t.mapValue.fields[Xw];return Uy(e)?pf(e):e}function Wc(t){const e=Tr(t.mapValue.fields[Ww].timestampValue);return new Me(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e,n,s,a,l,u,d,m,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const Bd="(default)";class Zc{constructor(e,n){this.projectId=e,this.database=n||Bd}static empty(){return new Zc("","")}get isDefaultDatabase(){return this.database===Bd}isEqual(e){return e instanceof Zc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="__type__",E5="__max__",id={mapValue:{}},Jw="__vector__",zd="value";function br(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Uy(t)?4:w5(t)?9007199254740991:b5(t)?10:11:we(28295,{value:t})}function $i(t,e){if(t===e)return!0;const n=br(t);if(n!==br(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wc(t).isEqual(Wc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Tr(a.timestampValue),d=Tr(l.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,l){return Er(a.bytesValue).isEqual(Er(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,l){return bt(a.geoPointValue.latitude)===bt(l.geoPointValue.latitude)&&bt(a.geoPointValue.longitude)===bt(l.geoPointValue.longitude)}(t,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return bt(a.integerValue)===bt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=bt(a.doubleValue),d=bt(l.doubleValue);return u===d?Ud(u)===Ud(d):isNaN(u)&&isNaN(d)}return!1}(t,e);case 9:return Ko(t.arrayValue.values||[],e.arrayValue.values||[],$i);case 10:case 11:return function(a,l){const u=a.mapValue.fields||{},d=l.mapValue.fields||{};if(mT(u)!==mT(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(d[m]===void 0||!$i(u[m],d[m])))return!1;return!0}(t,e);default:return we(52216,{left:t})}}function Jc(t,e){return(t.values||[]).find(n=>$i(n,e))!==void 0}function Yo(t,e){if(t===e)return 0;const n=br(t),s=br(e);if(n!==s)return je(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return function(l,u){const d=bt(l.integerValue||l.doubleValue),m=bt(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(t,e);case 3:return gT(t.timestampValue,e.timestampValue);case 4:return gT(Wc(t),Wc(e));case 5:return Ig(t.stringValue,e.stringValue);case 6:return function(l,u){const d=Er(l),m=Er(u);return d.compareTo(m)}(t.bytesValue,e.bytesValue);case 7:return function(l,u){const d=l.split("/"),m=u.split("/");for(let g=0;g<d.length&&g<m.length;g++){const v=je(d[g],m[g]);if(v!==0)return v}return je(d.length,m.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,u){const d=je(bt(l.latitude),bt(u.latitude));return d!==0?d:je(bt(l.longitude),bt(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return yT(t.arrayValue,e.arrayValue);case 10:return function(l,u){var d,m,g,v;const x=l.fields||{},T=u.fields||{},w=(d=x[zd])===null||d===void 0?void 0:d.arrayValue,S=(m=T[zd])===null||m===void 0?void 0:m.arrayValue,j=je(((g=w==null?void 0:w.values)===null||g===void 0?void 0:g.length)||0,((v=S==null?void 0:S.values)===null||v===void 0?void 0:v.length)||0);return j!==0?j:yT(w,S)}(t.mapValue,e.mapValue);case 11:return function(l,u){if(l===id.mapValue&&u===id.mapValue)return 0;if(l===id.mapValue)return 1;if(u===id.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=u.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let x=0;x<m.length&&x<v.length;++x){const T=Ig(m[x],v[x]);if(T!==0)return T;const w=Yo(d[m[x]],g[v[x]]);if(w!==0)return w}return je(m.length,v.length)}(t.mapValue,e.mapValue);default:throw we(23264,{Pe:n})}}function gT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);const n=Tr(t),s=Tr(e),a=je(n.seconds,s.seconds);return a!==0?a:je(n.nanos,s.nanos)}function yT(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Yo(n[a],s[a]);if(l)return l}return je(n.length,s.length)}function Qo(t){return jg(t)}function jg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=Tr(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Er(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return _e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=jg(l);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${jg(n.fields[u])}`;return a+"}"}(t.mapValue):we(61005,{value:t})}function Td(t){switch(br(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pf(t);return e?16+Td(e):16;case 5:return 2*t.stringValue.length;case 6:return Er(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,l)=>a+Td(l),0)}(t.arrayValue);case 10:case 11:return function(s){let a=0;return jr(s.fields,(l,u)=>{a+=l.length+Td(u)}),a}(t.mapValue);default:throw we(13486,{value:t})}}function vT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Dg(t){return!!t&&"integerValue"in t}function By(t){return!!t&&"arrayValue"in t}function _T(t){return!!t&&"nullValue"in t}function xT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ed(t){return!!t&&"mapValue"in t}function b5(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Zw])===null||n===void 0?void 0:n.stringValue)===Jw}function Oc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return jr(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Oc(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Oc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function w5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===E5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ed(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oc(n)}setAll(e){let n=Zt.emptyPath(),s={},a=[];e.forEach((u,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=d.popLast()}u?s[d.lastSegment()]=Oc(u):a.push(d.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Ed(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $i(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Ed(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){jr(n,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new An(Oc(this.value))}}function eS(t){const e=[];return jr(t.fields,(n,s)=>{const a=new Zt([n]);if(Ed(s)){const l=eS(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,n,s,a,l,u,d){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=d}static newInvalidDocument(e){return new ln(e,0,Ce.min(),Ce.min(),Ce.min(),An.empty(),0)}static newFoundDocument(e,n,s,a){return new ln(e,1,n,Ce.min(),s,a,0)}static newNoDocument(e,n){return new ln(e,2,n,Ce.min(),Ce.min(),An.empty(),0)}static newUnknownDocument(e,n){return new ln(e,3,n,Ce.min(),Ce.min(),An.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n){this.position=e,this.inclusive=n}}function TT(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?s=_e.comparator(_e.fromName(u.referenceValue),n.key):s=Yo(u,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function ET(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$i(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n="asc"){this.field=e,this.dir=n}}function S5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{}class jt extends tS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new C5(e,n,s):n==="array-contains"?new I5(e,s):n==="in"?new j5(e,s):n==="not-in"?new D5(e,s):n==="array-contains-any"?new M5(e,s):new jt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new R5(e,s):new N5(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Yo(n,this.value)):n!==null&&br(this.value)===br(n)&&this.matchesComparison(Yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yi extends tS{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new yi(e,n)}matches(e){return nS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function nS(t){return t.op==="and"}function iS(t){return A5(t)&&nS(t)}function A5(t){for(const e of t.filters)if(e instanceof yi)return!1;return!0}function Mg(t){if(t instanceof jt)return t.field.canonicalString()+t.op.toString()+Qo(t.value);if(iS(t))return t.filters.map(e=>Mg(e)).join(",");{const e=t.filters.map(n=>Mg(n)).join(",");return`${t.op}(${e})`}}function sS(t,e){return t instanceof jt?function(s,a){return a instanceof jt&&s.op===a.op&&s.field.isEqual(a.field)&&$i(s.value,a.value)}(t,e):t instanceof yi?function(s,a){return a instanceof yi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((l,u,d)=>l&&sS(u,a.filters[d]),!0):!1}(t,e):void we(19439)}function rS(t){return t instanceof jt?function(n){return`${n.field.canonicalString()} ${n.op} ${Qo(n.value)}`}(t):t instanceof yi?function(n){return n.op.toString()+" {"+n.getFilters().map(rS).join(" ,")+"}"}(t):"Filter"}class C5 extends jt{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class R5 extends jt{constructor(e,n){super(e,"in",n),this.keys=aS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class N5 extends jt{constructor(e,n){super(e,"not-in",n),this.keys=aS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function aS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>_e.fromName(s.referenceValue))}class I5 extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return By(n)&&Jc(n.arrayValue,this.value)}}class j5 extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jc(this.value.arrayValue,n)}}class D5 extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Jc(this.value.arrayValue,n)}}class M5 extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!By(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Jc(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e,n=null,s=[],a=[],l=null,u=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=d,this.Ie=null}}function bT(t,e=null,n=[],s=[],a=null,l=null,u=null){return new k5(t,e,n,s,a,l,u)}function zy(t){const e=Re(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Mg(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),mf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Qo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Qo(s)).join(",")),e.Ie=n}return e.Ie}function Fy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!S5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ET(t.startAt,e.startAt)&&ET(t.endAt,e.endAt)}function kg(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n=null,s=[],a=[],l=null,u="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=d,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function P5(t,e,n,s,a,l,u,d){return new cl(t,e,n,s,a,l,u,d)}function Hy(t){return new cl(t)}function wT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function oS(t){return t.collectionGroup!==null}function Lc(t){const e=Re(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Ot(Zt.comparator);return u.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new eu(l,s))}),n.has(Zt.keyField().canonicalString())||e.Ee.push(new eu(Zt.keyField(),s))}return e.Ee}function zi(t){const e=Re(t);return e.de||(e.de=V5(e,Lc(t))),e.de}function V5(t,e){if(t.limitType==="F")return bT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new eu(a.field,l)});const n=t.endAt?new Fd(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Fd(t.startAt.position,t.startAt.inclusive):null;return bT(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Pg(t,e){const n=t.filters.concat([e]);return new cl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Hd(t,e,n){return new cl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gf(t,e){return Fy(zi(t),zi(e))&&t.limitType===e.limitType}function lS(t){return`${zy(zi(t))}|lt:${t.limitType}`}function ko(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>rS(a)).join(", ")}]`),mf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>Qo(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>Qo(a)).join(",")),`Target(${s})`}(zi(t))}; limitType=${t.limitType})`}function yf(t,e){return e.isFoundDocument()&&function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):_e.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(t,e)&&function(s,a){for(const l of Lc(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(t,e)&&function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0}(t,e)&&function(s,a){return!(s.startAt&&!function(u,d,m){const g=TT(u,d,m);return u.inclusive?g<=0:g<0}(s.startAt,Lc(s),a)||s.endAt&&!function(u,d,m){const g=TT(u,d,m);return u.inclusive?g>=0:g>0}(s.endAt,Lc(s),a))}(t,e)}function O5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cS(t){return(e,n)=>{let s=!1;for(const a of Lc(t)){const l=L5(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function L5(t,e,n){const s=t.field.isKeyField()?_e.comparator(e.key,n.key):function(l,u,d){const m=u.data.field(l),g=d.data.field(l);return m!==null&&g!==null?Yo(m,g):we(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return we(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){jr(this.inner,(n,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return $w(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5=new mt(_e.comparator);function Ds(){return U5}const uS=new mt(_e.comparator);function Ic(...t){let e=uS;for(const n of t)e=e.insert(n.key,n);return e}function hS(t){let e=uS;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ta(){return Uc()}function dS(){return Uc()}function Uc(){return new Oa(t=>t.toString(),(t,e)=>t.isEqual(e))}const B5=new mt(_e.comparator),z5=new Ot(_e.comparator);function Le(...t){let e=z5;for(const n of t)e=e.add(n);return e}const F5=new Ot(je);function H5(){return F5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ud(e)?"-0":e}}function fS(t){return{integerValue:""+t}}function q5(t,e){return y5(e)?fS(e):qy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(){this._=void 0}}function G5(t,e,n){return t instanceof tu?function(a,l){const u={fields:{[Qw]:{stringValue:Yw},[Ww]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Uy(l)&&(l=pf(l)),l&&(u.fields[Xw]=l),{mapValue:u}}(n,e):t instanceof nu?pS(t,e):t instanceof iu?gS(t,e):function(a,l){const u=mS(a,l),d=ST(u)+ST(a.Re);return Dg(u)&&Dg(a.Re)?fS(d):qy(a.serializer,d)}(t,e)}function $5(t,e,n){return t instanceof nu?pS(t,e):t instanceof iu?gS(t,e):n}function mS(t,e){return t instanceof qd?function(s){return Dg(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class tu extends vf{}class nu extends vf{constructor(e){super(),this.elements=e}}function pS(t,e){const n=yS(e);for(const s of t.elements)n.some(a=>$i(a,s))||n.push(s);return{arrayValue:{values:n}}}class iu extends vf{constructor(e){super(),this.elements=e}}function gS(t,e){let n=yS(e);for(const s of t.elements)n=n.filter(a=>!$i(a,s));return{arrayValue:{values:n}}}class qd extends vf{constructor(e,n){super(),this.serializer=e,this.Re=n}}function ST(t){return bt(t.integerValue||t.doubleValue)}function yS(t){return By(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e,n){this.field=e,this.transform=n}}function Y5(t,e){return t.field.isEqual(e.field)&&function(s,a){return s instanceof nu&&a instanceof nu||s instanceof iu&&a instanceof iu?Ko(s.elements,a.elements,$i):s instanceof qd&&a instanceof qd?$i(s.Re,a.Re):s instanceof tu&&a instanceof tu}(t.transform,e.transform)}class Q5{constructor(e,n){this.version=e,this.transformResults=n}}class ii{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ii}static exists(e){return new ii(void 0,e)}static updateTime(e){return new ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _f{}function vS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Gy(t.key,ii.none()):new _u(t.key,t.data,ii.none());{const n=t.data,s=An.empty();let a=new Ot(Zt.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new Dr(t.key,s,new Ln(a.toArray()),ii.none())}}function X5(t,e,n){t instanceof _u?function(a,l,u){const d=a.value.clone(),m=CT(a.fieldTransforms,l,u.transformResults);d.setAll(m),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(t,e,n):t instanceof Dr?function(a,l,u){if(!bd(a.precondition,l))return void l.convertToUnknownDocument(u.version);const d=CT(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(_S(a)),m.setAll(d),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(t,e,n):function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Bc(t,e,n,s){return t instanceof _u?function(l,u,d,m){if(!bd(l.precondition,u))return d;const g=l.value.clone(),v=RT(l.fieldTransforms,m,u);return g.setAll(v),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null}(t,e,n,s):t instanceof Dr?function(l,u,d,m){if(!bd(l.precondition,u))return d;const g=RT(l.fieldTransforms,m,u),v=u.data;return v.setAll(_S(l)),v.setAll(g),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(x=>x.field))}(t,e,n,s):function(l,u,d){return bd(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(t,e,n)}function W5(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=mS(s.transform,a||null);l!=null&&(n===null&&(n=An.empty()),n.set(s.field,l))}return n||null}function AT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Ko(s,a,(l,u)=>Y5(l,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _u extends _f{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Dr extends _f{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function _S(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function CT(t,e,n){const s=new Map;Ye(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,d=e.data.field(l.field);s.set(l.field,$5(u,d,n[a]))}return s}function RT(t,e,n){const s=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);s.set(a.field,G5(l,u,e))}return s}class Gy extends _f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Z5 extends _f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&X5(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Bc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Bc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=dS();return this.mutations.forEach(a=>{const l=e.get(a.key),u=l.overlayedDocument;let d=this.applyToLocalView(u,l.mutatedFields);d=n.has(a.key)?null:d;const m=vS(u,d);m!==null&&s.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Ce.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&Ko(this.mutations,e.mutations,(n,s)=>AT(n,s))&&Ko(this.baseMutations,e.baseMutations,(n,s)=>AT(n,s))}}class $y{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Ye(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let a=function(){return B5}();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new $y(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,Fe;function nk(t){switch(t){case se.OK:return we(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return we(15467,{code:t})}}function xS(t){if(t===void 0)return js("GRPC error has no .code"),se.UNKNOWN;switch(t){case Nt.OK:return se.OK;case Nt.CANCELLED:return se.CANCELLED;case Nt.UNKNOWN:return se.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return se.INTERNAL;case Nt.UNAVAILABLE:return se.UNAVAILABLE;case Nt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Nt.NOT_FOUND:return se.NOT_FOUND;case Nt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Nt.ABORTED:return se.ABORTED;case Nt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Nt.DATA_LOSS:return se.DATA_LOSS;default:return we(39323,{code:t})}}(Fe=Nt||(Nt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=new yr([4294967295,4294967295],0);function NT(t){const e=Hw().encode(t),n=new Pw;return n.update(e),new Uint8Array(n.digest())}function IT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new yr([n,s],0),new yr([a,l],0)]}class Ky{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new jc(`Invalid padding: ${n}`);if(s<0)throw new jc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new jc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new jc(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=yr.fromNumber(this.pe)}we(e,n,s){let a=e.add(n.multiply(yr.fromNumber(s)));return a.compare(ik)===1&&(a=new yr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=NT(e),[s,a]=IT(n);for(let l=0;l<this.hashCount;l++){const u=this.we(s,a,l);if(!this.Se(u))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Ky(l,a,n);return s.forEach(d=>u.insert(d)),u}insert(e){if(this.pe===0)return;const n=NT(e),[s,a]=IT(n);for(let l=0;l<this.hashCount;l++){const u=this.we(s,a,l);this.be(u)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class jc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,xu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new xf(Ce.min(),a,new mt(je),Ds(),Le())}}class xu{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new xu(s,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n,s,a){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=a}}class TS{constructor(e,n){this.targetId=e,this.Ce=n}}class ES{constructor(e,n,s=en.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class jT{constructor(){this.Fe=0,this.Me=DT(),this.xe=en.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Le(),n=Le(),s=Le();return this.Me.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:we(38017,{changeType:l})}}),new xu(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=DT()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ye(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class sk{constructor(e){this.ze=e,this.je=new Map,this.He=Ds(),this.Je=sd(),this.Ye=sd(),this.Ze=new mt(je)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:we(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,a)=>{this.it(a)&&n(a)})}ot(e){const n=e.targetId,s=e.Ce.count,a=this._t(n);if(a){const l=a.target;if(kg(l))if(s===0){const u=new _e(l.path);this.tt(n,u,ln.newNoDocument(u,Ce.min()))}else Ye(s===1,20013,{expectedCount:s});else{const u=this.ut(n);if(u!==s){const d=this.ct(e),m=d?this.lt(d,e,u):1;if(m!==0){this.st(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let u,d;try{u=Er(s).toUint8Array()}catch(m){if(m instanceof Kw)return $o("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Ky(u,a,l)}catch(m){return $o(m instanceof jc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.pe===0?null:d}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let a=0;return s.forEach(l=>{const u=this.ze.Pt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.tt(n,l,null),a++)}),a}It(e){const n=new Map;this.je.forEach((l,u)=>{const d=this._t(u);if(d){if(l.current&&kg(d.target)){const m=new _e(d.target.path);this.Et(m).has(u)||this.dt(u,m)||this.tt(u,m,ln.newNoDocument(m,e))}l.Le&&(n.set(u,l.qe()),l.Qe())}});let s=Le();this.Ye.forEach((l,u)=>{let d=!0;u.forEachWhile(m=>{const g=this._t(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.He.forEach((l,u)=>u.setReadTime(e));const a=new xf(e,n,this.Ze,this.He,s);return this.He=Ds(),this.Je=sd(),this.Ye=sd(),this.Ze=new mt(je),a}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const a=this.rt(e);this.dt(e,n)?a.$e(n,1):a.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new jT,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Ot(je),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Ot(je),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new jT),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function sd(){return new mt(_e.comparator)}function DT(){return new mt(_e.comparator)}const rk={asc:"ASCENDING",desc:"DESCENDING"},ak={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ok={and:"AND",or:"OR"};class lk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Vg(t,e){return t.useProto3Json||mf(e)?e:{value:e}}function Gd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ck(t,e){return Gd(t,e.toTimestamp())}function Fi(t){return Ye(!!t,49232),Ce.fromTimestamp(function(n){const s=Tr(n);return new Me(s.seconds,s.nanos)}(t))}function Yy(t,e){return Og(t,e).canonicalString()}function Og(t,e){const n=function(a){return new ot(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function wS(t){const e=ot.fromString(t);return Ye(NS(e),10190,{key:e.toString()}),e}function Lg(t,e){return Yy(t.databaseId,e.path)}function Zp(t,e){const n=wS(e);if(n.get(1)!==t.databaseId.projectId)throw new de(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(AS(n))}function SS(t,e){return Yy(t.databaseId,e)}function uk(t){const e=wS(t);return e.length===4?ot.emptyPath():AS(e)}function Ug(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function AS(t){return Ye(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function MT(t,e,n){return{name:Lg(t,e),fields:n.value.mapValue.fields}}function hk(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:we(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(g,v){return g.useProto3Json?(Ye(v===void 0||typeof v=="string",58123),en.fromBase64String(v||"")):(Ye(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),en.fromUint8Array(v||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(g){const v=g.code===void 0?se.UNKNOWN:xS(g.code);return new de(v,g.message||"")}(u);n=new ES(s,a,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Zp(t,s.document.name),l=Fi(s.document.updateTime),u=s.document.createTime?Fi(s.document.createTime):Ce.min(),d=new An({mapValue:{fields:s.document.fields}}),m=ln.newFoundDocument(a,l,u,d),g=s.targetIds||[],v=s.removedTargetIds||[];n=new wd(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Zp(t,s.document),l=s.readTime?Fi(s.readTime):Ce.min(),u=ln.newNoDocument(a,l),d=s.removedTargetIds||[];n=new wd([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Zp(t,s.document),l=s.removedTargetIds||[];n=new wd([],l,a,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new tk(a,l),d=s.targetId;n=new TS(d,u)}}return n}function dk(t,e){let n;if(e instanceof _u)n={update:MT(t,e.key,e.value)};else if(e instanceof Gy)n={delete:Lg(t,e.key)};else if(e instanceof Dr)n={update:MT(t,e.key,e.data),updateMask:Tk(e.fieldMask)};else{if(!(e instanceof Z5))return we(16599,{ft:e.type});n={verify:Lg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(l,u){const d=u.transform;if(d instanceof tu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof nu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof iu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof qd)return{fieldPath:u.field.canonicalString(),increment:d.Re};throw we(20930,{transform:u.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:ck(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:we(27497)}(t,e.precondition)),n}function fk(t,e){return t&&t.length>0?(Ye(e!==void 0,14353),t.map(n=>function(a,l){let u=a.updateTime?Fi(a.updateTime):Fi(l);return u.isEqual(Ce.min())&&(u=Fi(l)),new Q5(u,a.transformResults||[])}(n,e))):[]}function mk(t,e){return{documents:[SS(t,e.path)]}}function pk(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=SS(t,a);const l=function(g){if(g.length!==0)return RS(yi.create(g,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const u=function(g){if(g.length!==0)return g.map(v=>function(T){return{field:Po(T.field),direction:vk(T.dir)}}(v))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const d=Vg(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:n,parent:a}}function gk(t){let e=uk(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Ye(s===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=function(x){const T=CS(x);return T instanceof yi&&iS(T)?T.getFilters():[T]}(n.where));let u=[];n.orderBy&&(u=function(x){return x.map(T=>function(S){return new eu(Vo(S.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(T))}(n.orderBy));let d=null;n.limit&&(d=function(x){let T;return T=typeof x=="object"?x.value:x,mf(T)?null:T}(n.limit));let m=null;n.startAt&&(m=function(x){const T=!!x.before,w=x.values||[];return new Fd(w,T)}(n.startAt));let g=null;return n.endAt&&(g=function(x){const T=!x.before,w=x.values||[];return new Fd(w,T)}(n.endAt)),P5(e,a,u,l,d,"F",m,g)}function yk(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function CS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Vo(n.unaryFilter.field);return jt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Vo(n.unaryFilter.field);return jt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Vo(n.unaryFilter.field);return jt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Vo(n.unaryFilter.field);return jt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}}(t):t.fieldFilter!==void 0?function(n){return jt.create(Vo(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return yi.create(n.compositeFilter.filters.map(s=>CS(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return we(1026)}}(n.compositeFilter.op))}(t):we(30097,{filter:t})}function vk(t){return rk[t]}function _k(t){return ak[t]}function xk(t){return ok[t]}function Po(t){return{fieldPath:t.canonicalString()}}function Vo(t){return Zt.fromServerFormat(t.fieldPath)}function RS(t){return t instanceof jt?function(n){if(n.op==="=="){if(xT(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NAN"}};if(_T(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xT(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NOT_NAN"}};if(_T(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Po(n.field),op:_k(n.op),value:n.value}}}(t):t instanceof yi?function(n){const s=n.getFilters().map(a=>RS(a));return s.length===1?s[0]:{compositeFilter:{op:xk(n.op),filters:s}}}(t):we(54877,{filter:t})}function Tk(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function NS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n,s,a,l=Ce.min(),u=Ce.min(),d=en.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new mr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e){this.wt=e}}function bk(t){const e=gk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Hd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(){this.Cn=new Sk}addToCollectionParentIndex(e,n){return this.Cn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(xr.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(xr.min())}updateCollectionGroup(e,n,s){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class Sk{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Ot(ot.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Ot(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},IS=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(IS,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Xo(0)}static lr(){return new Xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="LruGarbageCollector",Ak=1048576;function VT([t,e],[n,s]){const a=je(t,n);return a===0?je(e,s):a}class Ck{constructor(e){this.Er=e,this.buffer=new Ot(VT),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();VT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Rk{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){me(PT,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ll(n)?me(PT,"Ignoring IndexedDB error during garbage collection: ",n):await ol(n)}await this.mr(3e5)})}}class Nk{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(ff.le);const s=new Ck(n);return this.gr.forEachTarget(e,a=>s.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>s.Rr(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.gr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(kT)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kT):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let s,a,l,u,d,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),a=this.params.maximumSequenceNumbersToCollect):a=x,u=Date.now(),this.nthSequenceNumber(e,a))).next(x=>(s=x,d=Date.now(),this.removeTargets(e,s,n))).next(x=>(l=x,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(x=>(g=Date.now(),Mo()<=Oe.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(d-u)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${x} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:x})))}}function Ik(t,e){return new Nk(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(){this.changes=new Oa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ae.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&Bc(s.mutation,a,Ln.empty(),Me.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Le()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Le()){const a=Ta();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(l=>{let u=Ic();return l.forEach((d,m)=>{u=u.insert(d,m.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const s=Ta();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Le()))}populateOverlays(e,n,s){const a=[];return s.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((u,d)=>{n.set(u,d)})})}computeViews(e,n,s,a){let l=Ds();const u=Uc(),d=function(){return Uc()}();return n.forEach((m,g)=>{const v=s.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof Dr)?l=l.insert(g.key,g):v!==void 0?(u.set(g.key,v.mutation.getFieldMask()),Bc(v.mutation,g,v.mutation.getFieldMask(),Me.now())):u.set(g.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((g,v)=>u.set(g,v)),n.forEach((g,v)=>{var x;return d.set(g,new Dk(v,(x=u.get(g))!==null&&x!==void 0?x:null))}),d))}recalculateAndSaveOverlays(e,n){const s=Uc();let a=new mt((u,d)=>u-d),l=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const d of u)d.keys().forEach(m=>{const g=n.get(m);if(g===null)return;let v=s.get(m)||Ln.empty();v=d.applyToLocalView(g,v),s.set(m,v);const x=(a.get(d.batchId)||Le()).add(m);a=a.insert(d.batchId,x)})}).next(()=>{const u=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,v=m.value,x=dS();v.forEach(T=>{if(!l.has(T)){const w=vS(n.get(T),s.get(T));w!==null&&x.set(T,w),l=l.add(T)}}),u.push(this.documentOverlayCache.saveOverlays(e,g,x))}return ae.waitFor(u)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(u){return _e.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):oS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):ae.resolve(Ta());let d=Xc,m=l;return u.next(g=>ae.forEach(g,(v,x)=>(d<x.largestBatchId&&(d=x.largestBatchId),l.get(v)?ae.resolve():this.remoteDocumentCache.getEntry(e,v).next(T=>{m=m.insert(v,T)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,m,g,Le())).next(v=>({batchId:d,changes:hS(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(s=>{let a=Ic();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let u=Ic();return this.indexManager.getCollectionParents(e,l).next(d=>ae.forEach(d,m=>{const g=function(x,T){return new cl(T,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)}(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,a).next(v=>{v.forEach((x,T)=>{u=u.insert(x,T)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a))).next(u=>{l.forEach((m,g)=>{const v=g.getKey();u.get(v)===null&&(u=u.insert(v,ln.newInvalidDocument(v)))});let d=Ic();return u.forEach((m,g)=>{const v=l.get(m);v!==void 0&&Bc(v.mutation,g,Ln.empty(),Me.now()),yf(n,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ae.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Fi(a.createTime)}}(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(a){return{name:a.name,query:bk(a.bundledQuery),readTime:Fi(a.readTime)}}(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(){this.overlays=new mt(_e.comparator),this.Qr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ta();return ae.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&s.set(a,l)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,l)=>{this.bt(e,n,l)}),ae.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Qr.get(s);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(s)),ae.resolve()}getOverlaysForCollection(e,n,s){const a=Ta(),l=n.length+1,u=new _e(n.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new mt((g,v)=>g-v);const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=l.get(g.largestBatchId);v===null&&(v=Ta(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Ta(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=a)););return ae.resolve(d)}bt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.Qr.get(a.largestBatchId).delete(s.key);this.Qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new ek(n,s));let l=this.Qr.get(n);l===void 0&&(l=Le(),this.Qr.set(n,l)),this.Qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(){this.$r=new Ot(Ht.Ur),this.Kr=new Ot(Ht.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const s=new Ht(e,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.zr(new Ht(e,n))}jr(e,n){e.forEach(s=>this.removeReference(s,n))}Hr(e){const n=new _e(new ot([])),s=new Ht(n,e),a=new Ht(n,e+1),l=[];return this.Kr.forEachInRange([s,a],u=>{this.zr(u),l.push(u.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new _e(new ot([])),s=new Ht(n,e),a=new Ht(n,e+1);let l=Le();return this.Kr.forEachInRange([s,a],u=>{l=l.add(u.key)}),l}containsKey(e){const n=new Ht(e,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ht{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return _e.comparator(e.key,n.key)||je(e.Zr,n.Zr)}static Wr(e,n){return je(e.Zr,n.Zr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Ot(Ht.Ur)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new J5(l,n,s,a);this.mutationQueue.push(u);for(const d of a)this.Xr=this.Xr.add(new Ht(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ae.resolve(u)}lookupMutationBatch(e,n){return ae.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ti(s),l=a<0?0:a;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Ly:this.nr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ht(n,0),a=new Ht(n,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([s,a],u=>{const d=this.ei(u.Zr);l.push(d)}),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ot(je);return n.forEach(a=>{const l=new Ht(a,0),u=new Ht(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,u],d=>{s=s.add(d.Zr)})}),ae.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;_e.isDocumentKey(l)||(l=l.child(""));const u=new Ht(new _e(l),0);let d=new Ot(je);return this.Xr.forEachWhile(m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(d=d.add(m.Zr)),!0)},u),ae.resolve(this.ni(d))}ni(e){const n=[];return e.forEach(s=>{const a=this.ei(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Ye(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return ae.forEach(n.mutations,a=>{const l=new Ht(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,n){const s=new Ht(n,0),a=this.Xr.firstAfterOrEqual(s);return ae.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e){this.ii=e,this.docs=function(){return new mt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,u=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ae.resolve(s?s.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(e,n){let s=Ds();return n.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():ln.newInvalidDocument(a))}),ae.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Ds();const u=n.path,d=new _e(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||f5(d5(v),s)<=0||(a.has(v.key)||yf(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,n,s,a){we(9500)}si(e,n){return ae.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new Uk(this)}getSize(e){return ae.resolve(this.size)}}class Uk extends jk{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.Br.addEntry(e,a)):this.Br.removeEntry(s)}),ae.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.persistence=e,this.oi=new Oa(n=>zy(n),Fy),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this._i=0,this.ai=new Qy,this.targetCount=0,this.ui=Xo.cr()}forEachTarget(e,n){return this.oi.forEach((s,a)=>n(a)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),ae.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Xo(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.Tr(n),ae.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.oi.forEach((u,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.oi.delete(u),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),ae.waitFor(l).next(()=>a)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const s=this.oi.get(n)||null;return ae.resolve(s)}addMatchingKeys(e,n,s){return this.ai.Gr(n,s),ae.resolve()}removeMatchingKeys(e,n,s){this.ai.jr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(u=>{l.push(a.markPotentiallyOrphaned(e,u))}),ae.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ai.Yr(n);return ae.resolve(s)}containsKey(e,n){return ae.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,n){this.ci={},this.overlays={},this.li=new ff(0),this.hi=!1,this.hi=!0,this.Pi=new Vk,this.referenceDelegate=e(this),this.Ti=new Bk(this),this.indexManager=new wk,this.remoteDocumentCache=function(a){return new Lk(a)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new Ek(n),this.Ei=new kk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Pk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ci[e.toKey()];return s||(s=new Ok(n,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,s){me("MemoryPersistence","Starting transaction:",e);const a=new zk(this.li.next());return this.referenceDelegate.di(),s(a).next(l=>this.referenceDelegate.Ai(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ri(e,n){return ae.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,n)))}}class zk extends p5{constructor(e){super(),this.currentSequenceNumber=e}}class Xy{constructor(e){this.persistence=e,this.Vi=new Qy,this.mi=null}static fi(e){return new Xy(e)}get gi(){if(this.mi)return this.mi;throw we(60996)}addReference(e,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),ae.resolve()}removeReference(e,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(a=>this.gi.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.gi.add(l.toString()))}).next(()=>s.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.gi,s=>{const a=_e.fromPath(s);return this.pi(e,a).next(l=>{l||n.removeEntry(a,Ce.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ae.or([()=>ae.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class $d{constructor(e,n){this.persistence=e,this.yi=new Oa(s=>v5(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=Ik(this,n)}static fi(e,n){return new $d(e,n)}di(){}Ai(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}Sr(e){let n=0;return this.yr(e,s=>{n++}).next(()=>n)}yr(e,n){return ae.forEach(this.yi,(s,a)=>this.Dr(e,s,a).next(l=>l?ae.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.si(e,u=>this.Dr(e,u,n).next(d=>{d||(s++,l.removeEntry(u,Ce.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ae.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Td(e.data.value)),n}Dr(e,n,s){return ae.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.yi.get(n);return ae.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.ds=s,this.As=a}static Rs(e,n){let s=Le(),a=Le();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Wy(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return bI()?8:g5(un())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ws(e,n).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.Ss(e,n,a,s).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new Fk;return this.bs(e,n,u).next(d=>{if(l.result=d,this.fs)return this.Ds(e,n,u,d.size)})}).next(()=>l.result)}Ds(e,n,s,a){return s.documentReadCount<this.gs?(Mo()<=Oe.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",ko(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ae.resolve()):(Mo()<=Oe.DEBUG&&me("QueryEngine","Query:",ko(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ps*a?(Mo()<=Oe.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",ko(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zi(n))):ae.resolve())}ws(e,n){if(wT(n))return ae.resolve(null);let s=zi(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Hd(n,null,"F"),s=zi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const u=Le(...l);return this.ys.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,s).next(m=>{const g=this.vs(n,d);return this.Cs(n,g,u,m.readTime)?this.ws(e,Hd(n,null,"F")):this.Fs(e,g,n,m)}))})))}Ss(e,n,s,a){return wT(n)||a.isEqual(Ce.min())?ae.resolve(null):this.ys.getDocuments(e,s).next(l=>{const u=this.vs(n,l);return this.Cs(n,u,s,a)?ae.resolve(null):(Mo()<=Oe.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ko(n)),this.Fs(e,u,n,h5(a,Xc)).next(d=>d))})}vs(e,n){let s=new Ot(cS(e));return n.forEach((a,l)=>{yf(e,l)&&(s=s.add(l))}),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}bs(e,n,s){return Mo()<=Oe.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",ko(n)),this.ys.getDocumentsMatchingQuery(e,n,xr.min(),s)}Fs(e,n,s,a){return this.ys.getDocumentsMatchingQuery(e,s,a).next(l=>(n.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="LocalStore",qk=3e8;class Gk{constructor(e,n,s,a){this.persistence=e,this.Ms=n,this.serializer=a,this.xs=new mt(je),this.Os=new Oa(l=>zy(l),Fy),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Mk(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function $k(t,e,n,s){return new Gk(t,e,n,s)}async function DS(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,n.Ls(e),n.mutationQueue.getAllMutationBatches(s))).next(l=>{const u=[],d=[];let m=Le();for(const g of a){u.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(s,m).next(g=>({ks:g,removedBatchIds:u,addedBatchIds:d}))})})}function Kk(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=n.Bs.newChangeBuffer({trackRemovals:!0});return function(d,m,g,v){const x=g.batch,T=x.keys();let w=ae.resolve();return T.forEach(S=>{w=w.next(()=>v.getEntry(m,S)).next(j=>{const M=g.docVersions.get(S);Ye(M!==null,48541),j.version.compareTo(M)<0&&(x.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),v.addEntry(j)))})}),w.next(()=>d.mutationQueue.removeMutationBatch(m,x))}(n,s,e,l).next(()=>l.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let m=Le();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function MS(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function Yk(t,e){const n=Re(t),s=e.snapshotVersion;let a=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=n.Bs.newChangeBuffer({trackRemovals:!0});a=n.xs;const d=[];e.targetChanges.forEach((v,x)=>{const T=a.get(x);if(!T)return;d.push(n.Ti.removeMatchingKeys(l,v.removedDocuments,x).next(()=>n.Ti.addMatchingKeys(l,v.addedDocuments,x)));let w=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(x)!==null?w=w.withResumeToken(en.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):v.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(v.resumeToken,s)),a=a.insert(x,w),function(j,M,V){return j.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=qk?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(T,w,v)&&d.push(n.Ti.updateTargetData(l,w))});let m=Ds(),g=Le();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push(Qk(l,u,e.documentUpdates).next(v=>{m=v.qs,g=v.Qs})),!s.isEqual(Ce.min())){const v=n.Ti.getLastRemoteSnapshotVersion(l).next(x=>n.Ti.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(v)}return ae.waitFor(d).next(()=>u.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,m,g)).next(()=>m)}).then(l=>(n.xs=a,l))}function Qk(t,e,n){let s=Le(),a=Le();return n.forEach(l=>s=s.add(l)),e.getEntries(t,s).next(l=>{let u=Ds();return n.forEach((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Ce.min())?(e.removeEntry(d,m.readTime),u=u.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),u=u.insert(d,m)):me(Zy,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{qs:u,Qs:a}})}function Xk(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Ly),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Wk(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Ti.getTargetData(s,e).next(l=>l?(a=l,ae.resolve(a)):n.Ti.allocateTargetId(s).next(u=>(a=new mr(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.xs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(e,s.targetId)),s})}async function Bg(t,e,n){const s=Re(t),a=s.xs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,u=>s.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!ll(u))throw u;me(Zy,`Failed to update sequence numbers for target ${e}: ${u}`)}s.xs=s.xs.remove(e),s.Os.delete(a.target)}function OT(t,e,n){const s=Re(t);let a=Ce.min(),l=Le();return s.persistence.runTransaction("Execute query","readwrite",u=>function(m,g,v){const x=Re(m),T=x.Os.get(v);return T!==void 0?ae.resolve(x.xs.get(T)):x.Ti.getTargetData(g,v)}(s,u,zi(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(u,d.targetId).next(m=>{l=m})}).next(()=>s.Ms.getDocumentsMatchingQuery(u,e,n?a:Ce.min(),n?l:Le())).next(d=>(Zk(s,O5(e),d),{documents:d,$s:l})))}function Zk(t,e,n){let s=t.Ns.get(e)||Ce.min();n.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),t.Ns.set(e,s)}class LT{constructor(){this.activeTargetIds=H5()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Jk{constructor(){this.xo=new LT,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,s){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new LT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="ConnectivityMonitor";class BT{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){me(UT,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){me(UT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rd=null;function zg(){return rd===null?rd=function(){return 268435456+Math.round(2147483648*Math.random())}():rd++,"0x"+rd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="RestConnection",t4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class n4{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${s}/databases/${a}`,this.Go=this.databaseId.database===Bd?`project_id=${s}`:`project_id=${s}&database_id=${a}`}zo(e,n,s,a,l){const u=zg(),d=this.jo(e,n.toUriEncodedString());me(Jp,`Sending RPC '${e}' ${u}:`,d,s);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,a,l);const{host:g}=new URL(d),v=il(g);return this.Jo(e,d,m,s,v).then(x=>(me(Jp,`Received RPC '${e}' ${u}: `,x),x),x=>{throw $o(Jp,`RPC '${e}' ${u} failed with error: `,x,"url: ",d,"request:",s),x})}Yo(e,n,s,a,l,u){return this.zo(e,n,s,a,l)}Ho(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+al}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>e[l]=a),s&&s.headers.forEach((a,l)=>e[l]=a)}jo(e,n){const s=t4[e];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class s4 extends n4{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const u=zg();return new Promise((d,m)=>{const g=new Vw;g.setWithCredentials(!0),g.listenOnce(Ow.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case xd.NO_ERROR:const x=g.getResponseJson();me(rn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(x)),d(x);break;case xd.TIMEOUT:me(rn,`RPC '${e}' ${u} timed out`),m(new de(se.DEADLINE_EXCEEDED,"Request time out"));break;case xd.HTTP_ERROR:const T=g.getStatus();if(me(rn,`RPC '${e}' ${u} failed with status:`,T,"response text:",g.getResponseText()),T>0){let w=g.getResponseJson();Array.isArray(w)&&(w=w[0]);const S=w==null?void 0:w.error;if(S&&S.status&&S.message){const j=function(V){const Y=V.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(Y)>=0?Y:se.UNKNOWN}(S.status);m(new de(j,S.message))}else m(new de(se.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new de(se.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{me(rn,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(a);me(rn,`RPC '${e}' ${u} sending request:`,a),g.send(n,"POST",v,s,15)})}T_(e,n,s){const a=zg(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Bw(),d=Uw(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const v=l.join("");me(rn,`Creating RPC '${e}' stream ${a}: ${v}`,m);const x=u.createWebChannel(v,m);let T=!1,w=!1;const S=new i4({Zo:M=>{w?me(rn,`Not sending because RPC '${e}' stream ${a} is closed:`,M):(T||(me(rn,`Opening RPC '${e}' stream ${a} transport.`),x.open(),T=!0),me(rn,`RPC '${e}' stream ${a} sending:`,M),x.send(M))},Xo:()=>x.close()}),j=(M,V,Y)=>{M.listen(V,H=>{try{Y(H)}catch(te){setTimeout(()=>{throw te},0)}})};return j(x,Nc.EventType.OPEN,()=>{w||(me(rn,`RPC '${e}' stream ${a} transport opened.`),S.__())}),j(x,Nc.EventType.CLOSE,()=>{w||(w=!0,me(rn,`RPC '${e}' stream ${a} transport closed`),S.u_())}),j(x,Nc.EventType.ERROR,M=>{w||(w=!0,$o(rn,`RPC '${e}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),S.u_(new de(se.UNAVAILABLE,"The operation could not be completed")))}),j(x,Nc.EventType.MESSAGE,M=>{var V;if(!w){const Y=M.data[0];Ye(!!Y,16349);const H=Y,te=(H==null?void 0:H.error)||((V=H[0])===null||V===void 0?void 0:V.error);if(te){me(rn,`RPC '${e}' stream ${a} received error:`,te);const F=te.status;let U=function(D){const O=Nt[D];if(O!==void 0)return xS(O)}(F),N=te.message;U===void 0&&(U=se.INTERNAL,N="Unknown error status: "+F+" with message "+te.message),w=!0,S.u_(new de(U,N)),x.close()}else me(rn,`RPC '${e}' stream ${a} received:`,Y),S.c_(Y)}}),j(d,Lw.STAT_EVENT,M=>{M.stat===Ng.PROXY?me(rn,`RPC '${e}' stream ${a} detected buffering proxy`):M.stat===Ng.NOPROXY&&me(rn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{S.a_()},0),S}}function eg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(t){return new lk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,n,s=1e3,a=1.5,l=6e4){this.xi=e,this.timerId=n,this.I_=s,this.E_=a,this.d_=l,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),s=Math.max(0,Date.now()-this.V_),a=Math.max(0,n-s);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="PersistentStream";class PS{constructor(e,n,s,a,l,u,d,m){this.xi=e,this.y_=s,this.w_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new kS(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(js(n.toString()),js("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.S_===n&&this.K_(s,a)},s=>{e(()=>{const a=new de(se.UNKNOWN,"Fetching auth token failed: "+s.message);return this.W_(a)})})}K_(e,n){const s=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{s(()=>this.W_(a))}),this.stream.onMessage(a=>{s(()=>++this.v_==1?this.z_(a):this.onNext(a))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return me(zT,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(me(zT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class r4 extends PS{constructor(e,n,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=hk(this.serializer,e),s=function(l){if(!("targetChange"in l))return Ce.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ce.min():u.readTime?Fi(u.readTime):Ce.min()}(e);return this.listener.j_(n,s)}H_(e){const n={};n.database=Ug(this.serializer),n.addTarget=function(l,u){let d;const m=u.target;if(d=kg(m)?{documents:mk(l,m)}:{query:pk(l,m).gt},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=bS(l,u.resumeToken);const g=Vg(l,u.expectedCount);g!==null&&(d.expectedCount=g)}else if(u.snapshotVersion.compareTo(Ce.min())>0){d.readTime=Gd(l,u.snapshotVersion.toTimestamp());const g=Vg(l,u.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=yk(this.serializer,e);s&&(n.labels=s),this.L_(n)}J_(e){const n={};n.database=Ug(this.serializer),n.removeTarget=e,this.L_(n)}}class a4 extends PS{constructor(e,n,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=fk(e.writeResults,e.commitTime),s=Fi(e.commitTime);return this.listener.ea(s,n)}ta(){const e={};e.database=Ug(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>dk(this.serializer,s))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{}class l4 extends o4{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.na=!1}ra(){if(this.na)throw new de(se.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,s,a){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.zo(e,Og(n,s),a,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(se.UNKNOWN,l.toString())})}Yo(e,n,s,a,l){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Yo(e,Og(n,s),a,u,d,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(se.UNKNOWN,u.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class c4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(js(n),this.oa=!1):me("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="RemoteStore";class u4{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=l,this.Ea.No(u=>{s.enqueueAndForget(async()=>{La(this)&&(me(Ma,"Restarting streams for network reachability change."),await async function(m){const g=Re(m);g.Ta.add(4),await Tu(g),g.da.set("Unknown"),g.Ta.delete(4),await Ef(g)}(this))})}),this.da=new c4(s,a)}}async function Ef(t){if(La(t))for(const e of t.Ia)await e(!0)}async function Tu(t){for(const e of t.Ia)await e(!1)}function VS(t,e){const n=Re(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),nv(n)?tv(n):ul(n).M_()&&ev(n,e))}function Jy(t,e){const n=Re(t),s=ul(n);n.Pa.delete(e),s.M_()&&OS(n,e),n.Pa.size===0&&(s.M_()?s.N_():La(n)&&n.da.set("Unknown"))}function ev(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ul(t).H_(e)}function OS(t,e){t.Aa.Ke(e),ul(t).J_(e)}function tv(t){t.Aa=new sk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),ul(t).start(),t.da._a()}function nv(t){return La(t)&&!ul(t).F_()&&t.Pa.size>0}function La(t){return Re(t).Ta.size===0}function LS(t){t.Aa=void 0}async function h4(t){t.da.set("Online")}async function d4(t){t.Pa.forEach((e,n)=>{ev(t,e)})}async function f4(t,e){LS(t),nv(t)?(t.da.ca(e),tv(t)):t.da.set("Unknown")}async function m4(t,e,n){if(t.da.set("Online"),e instanceof ES&&e.state===2&&e.cause)try{await async function(a,l){const u=l.cause;for(const d of l.targetIds)a.Pa.has(d)&&(await a.remoteSyncer.rejectListen(d,u),a.Pa.delete(d),a.Aa.removeTarget(d))}(t,e)}catch(s){me(Ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Kd(t,s)}else if(e instanceof wd?t.Aa.Xe(e):e instanceof TS?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual(Ce.min()))try{const s=await MS(t.localStore);n.compareTo(s)>=0&&await function(l,u){const d=l.Aa.It(u);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Pa.get(g);v&&l.Pa.set(g,v.withResumeToken(m.resumeToken,u))}}),d.targetMismatches.forEach((m,g)=>{const v=l.Pa.get(m);if(!v)return;l.Pa.set(m,v.withResumeToken(en.EMPTY_BYTE_STRING,v.snapshotVersion)),OS(l,m);const x=new mr(v.target,m,g,v.sequenceNumber);ev(l,x)}),l.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(s){me(Ma,"Failed to raise snapshot:",s),await Kd(t,s)}}async function Kd(t,e,n){if(!ll(e))throw e;t.Ta.add(1),await Tu(t),t.da.set("Offline"),n||(n=()=>MS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{me(Ma,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await Ef(t)})}function US(t,e){return e().catch(n=>Kd(t,n,e))}async function bf(t){const e=Re(t),n=wr(e);let s=e.ha.length>0?e.ha[e.ha.length-1].batchId:Ly;for(;p4(e);)try{const a=await Xk(e.localStore,s);if(a===null){e.ha.length===0&&n.N_();break}s=a.batchId,g4(e,a)}catch(a){await Kd(e,a)}BS(e)&&zS(e)}function p4(t){return La(t)&&t.ha.length<10}function g4(t,e){t.ha.push(e);const n=wr(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function BS(t){return La(t)&&!wr(t).F_()&&t.ha.length>0}function zS(t){wr(t).start()}async function y4(t){wr(t).ta()}async function v4(t){const e=wr(t);for(const n of t.ha)e.Z_(n.mutations)}async function _4(t,e,n){const s=t.ha.shift(),a=$y.from(s,e,n);await US(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await bf(t)}async function x4(t,e){e&&wr(t).Y_&&await async function(s,a){if(function(u){return nk(u)&&u!==se.ABORTED}(a.code)){const l=s.ha.shift();wr(s).O_(),await US(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a)),await bf(s)}}(t,e),BS(t)&&zS(t)}async function FT(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),me(Ma,"RemoteStore received new credentials");const s=La(n);n.Ta.add(3),await Tu(n),s&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await Ef(n)}async function T4(t,e){const n=Re(t);e?(n.Ta.delete(2),await Ef(n)):e||(n.Ta.add(2),await Tu(n),n.da.set("Unknown"))}function ul(t){return t.Ra||(t.Ra=function(n,s,a){const l=Re(n);return l.ra(),new r4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{e_:h4.bind(null,t),n_:d4.bind(null,t),i_:f4.bind(null,t),j_:m4.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),nv(t)?tv(t):t.da.set("Unknown")):(await t.Ra.stop(),LS(t))})),t.Ra}function wr(t){return t.Va||(t.Va=function(n,s,a){const l=Re(n);return l.ra(),new a4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:y4.bind(null,t),i_:x4.bind(null,t),X_:v4.bind(null,t),ea:_4.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await bf(t)):(await t.Va.stop(),t.ha.length>0&&(me(Ma,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new As,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const u=Date.now()+s,d=new iv(e,n,u,a,l);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sv(t,e){if(js("AsyncQueue",`${e}: ${t}`),ll(t))return new de(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{static emptySet(e){return new Go(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=Ic(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Go;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(){this.ma=new mt(_e.comparator)}track(e){const n=e.doc.key,s=this.ma.get(n);s?e.type!==0&&s.type===3?this.ma=this.ma.insert(n,e):e.type===3&&s.type!==1?this.ma=this.ma.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ma=this.ma.remove(n):e.type===1&&s.type===2?this.ma=this.ma.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):we(63341,{Vt:e,fa:s}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,s)=>{e.push(s)}),e}}class Wo{constructor(e,n,s,a,l,u,d,m,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,a,l){const u=[];return n.forEach(d=>{u.push({type:0,doc:d})}),new Wo(e,n,Go.emptySet(n),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class b4{constructor(){this.queries=qT(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,s){const a=Re(n),l=a.queries;a.queries=qT(),l.forEach((u,d)=>{for(const m of d.ya)m.onError(s)})})(this,new de(se.ABORTED,"Firestore shutting down"))}}function qT(){return new Oa(t=>lS(t),gf)}async function FS(t,e){const n=Re(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.wa()&&e.Sa()&&(s=2):(l=new E4,s=e.Sa()?0:1);try{switch(s){case 0:l.pa=await n.onListen(a,!0);break;case 1:l.pa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const d=sv(u,`Initialization of query '${ko(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.ya.push(e),e.Da(n.onlineState),l.pa&&e.va(l.pa)&&rv(n)}async function HS(t,e){const n=Re(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const u=l.ya.indexOf(e);u>=0&&(l.ya.splice(u,1),l.ya.length===0?a=e.Sa()?0:1:!l.wa()&&e.Sa()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function w4(t,e){const n=Re(t);let s=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const d of u.ya)d.va(a)&&(s=!0);u.pa=a}}s&&rv(n)}function S4(t,e,n){const s=Re(t),a=s.queries.get(e);if(a)for(const l of a.ya)l.onError(n);s.queries.delete(e)}function rv(t){t.ba.forEach(e=>{e.next()})}var Fg,GT;(GT=Fg||(Fg={})).Ca="default",GT.Cache="cache";class qS{constructor(e,n,s){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=s||{}}va(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Wo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const s=n!=="Offline";return(!this.options.La||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=Wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==Fg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this.key=e}}class $S{constructor(e){this.key=e}}class A4{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Le(),this.mutatedKeys=Le(),this.Ha=cS(e),this.Ja=new Go(this.Ha)}get Ya(){return this.Ga}Za(e,n){const s=n?n.Xa:new HT,a=n?n.Ja:this.Ja;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((v,x)=>{const T=a.get(v),w=yf(this.query,x)?x:null,S=!!T&&this.mutatedKeys.has(T.key),j=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let M=!1;T&&w?T.data.isEqual(w.data)?S!==j&&(s.track({type:3,doc:w}),M=!0):this.eu(T,w)||(s.track({type:2,doc:w}),M=!0,(m&&this.Ha(w,m)>0||g&&this.Ha(w,g)<0)&&(d=!0)):!T&&w?(s.track({type:0,doc:w}),M=!0):T&&!w&&(s.track({type:1,doc:T}),M=!0,(m||g)&&(d=!0)),M&&(w?(u=u.add(w),l=j?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{Ja:u,Xa:s,Cs:d,mutatedKeys:l}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const u=e.Xa.ga();u.sort((v,x)=>function(w,S){const j=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:M})}};return j(w)-j(S)}(v.type,x.type)||this.Ha(v.doc,x.doc)),this.tu(s),a=a!=null&&a;const d=n&&!a?this.nu():[],m=this.ja.size===0&&this.current&&!a?1:0,g=m!==this.za;return this.za=m,u.length!==0||g?{snapshot:new Wo(this.query,e.Ja,l,u,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ru:d}:{ru:d}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new HT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Le(),this.Ja.forEach(s=>{this.iu(s.key)&&(this.ja=this.ja.add(s.key))});const n=[];return e.forEach(s=>{this.ja.has(s)||n.push(new $S(s))}),this.ja.forEach(s=>{e.has(s)||n.push(new GS(s))}),n}su(e){this.Ga=e.$s,this.ja=Le();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return Wo.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const av="SyncEngine";class C4{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class R4{constructor(e){this.key=e,this._u=!1}}class N4{constructor(e,n,s,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.au={},this.uu=new Oa(d=>lS(d),gf),this.cu=new Map,this.lu=new Set,this.hu=new mt(_e.comparator),this.Pu=new Map,this.Tu=new Qy,this.Iu={},this.Eu=new Map,this.du=Xo.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function I4(t,e,n=!0){const s=ZS(t);let a;const l=s.uu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.ou()):a=await KS(s,e,n,!0),a}async function j4(t,e){const n=ZS(t);await KS(n,e,!0,!1)}async function KS(t,e,n,s){const a=await Wk(t.localStore,zi(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await D4(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&VS(t.remoteStore,a),d}async function D4(t,e,n,s,a){t.Ru=(x,T,w)=>async function(j,M,V,Y){let H=M.view.Za(V);H.Cs&&(H=await OT(j.localStore,M.query,!1).then(({documents:N})=>M.view.Za(N,H)));const te=Y&&Y.targetChanges.get(M.targetId),F=Y&&Y.targetMismatches.get(M.targetId)!=null,U=M.view.applyChanges(H,j.isPrimaryClient,te,F);return KT(j,M.targetId,U.ru),U.snapshot}(t,x,T,w);const l=await OT(t.localStore,e,!0),u=new A4(e,l.$s),d=u.Za(l.documents),m=xu.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),g=u.applyChanges(d,t.isPrimaryClient,m);KT(t,n,g.ru);const v=new C4(e,n,u);return t.uu.set(e,v),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),g.snapshot}async function M4(t,e,n){const s=Re(t),a=s.uu.get(e),l=s.cu.get(a.targetId);if(l.length>1)return s.cu.set(a.targetId,l.filter(u=>!gf(u,e))),void s.uu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Bg(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Jy(s.remoteStore,a.targetId),Hg(s,a.targetId)}).catch(ol)):(Hg(s,a.targetId),await Bg(s.localStore,a.targetId,!0))}async function k4(t,e){const n=Re(t),s=n.uu.get(e),a=n.cu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Jy(n.remoteStore,s.targetId))}async function P4(t,e,n){const s=F4(t);try{const a=await function(u,d){const m=Re(u),g=Me.now(),v=d.reduce((w,S)=>w.add(S.key),Le());let x,T;return m.persistence.runTransaction("Locally write mutations","readwrite",w=>{let S=Ds(),j=Le();return m.Bs.getEntries(w,v).next(M=>{S=M,S.forEach((V,Y)=>{Y.isValidDocument()||(j=j.add(V))})}).next(()=>m.localDocuments.getOverlayedDocuments(w,S)).next(M=>{x=M;const V=[];for(const Y of d){const H=W5(Y,x.get(Y.key).overlayedDocument);H!=null&&V.push(new Dr(Y.key,H,eS(H.value.mapValue),ii.exists(!0)))}return m.mutationQueue.addMutationBatch(w,g,V,d)}).next(M=>{T=M;const V=M.applyToLocalDocumentSet(x,j);return m.documentOverlayCache.saveOverlays(w,M.batchId,V)})}).then(()=>({batchId:T.batchId,changes:hS(x)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(u,d,m){let g=u.Iu[u.currentUser.toKey()];g||(g=new mt(je)),g=g.insert(d,m),u.Iu[u.currentUser.toKey()]=g}(s,a.batchId,n),await Eu(s,a.changes),await bf(s.remoteStore)}catch(a){const l=sv(a,"Failed to persist write");n.reject(l)}}async function YS(t,e){const n=Re(t);try{const s=await Yk(n.localStore,e);e.targetChanges.forEach((a,l)=>{const u=n.Pu.get(l);u&&(Ye(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u._u=!0:a.modifiedDocuments.size>0?Ye(u._u,14607):a.removedDocuments.size>0&&(Ye(u._u,42227),u._u=!1))}),await Eu(n,s,e)}catch(s){await ol(s)}}function $T(t,e,n){const s=Re(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.uu.forEach((l,u)=>{const d=u.view.Da(e);d.snapshot&&a.push(d.snapshot)}),function(u,d){const m=Re(u);m.onlineState=d;let g=!1;m.queries.forEach((v,x)=>{for(const T of x.ya)T.Da(d)&&(g=!0)}),g&&rv(m)}(s.eventManager,e),a.length&&s.au.j_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function V4(t,e,n){const s=Re(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Pu.get(e),l=a&&a.key;if(l){let u=new mt(_e.comparator);u=u.insert(l,ln.newNoDocument(l,Ce.min()));const d=Le().add(l),m=new xf(Ce.min(),new Map,new mt(je),u,d);await YS(s,m),s.hu=s.hu.remove(l),s.Pu.delete(e),ov(s)}else await Bg(s.localStore,e,!1).then(()=>Hg(s,e,n)).catch(ol)}async function O4(t,e){const n=Re(t),s=e.batch.batchId;try{const a=await Kk(n.localStore,e);XS(n,s,null),QS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Eu(n,a)}catch(a){await ol(a)}}async function L4(t,e,n){const s=Re(t);try{const a=await function(u,d){const m=Re(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return m.mutationQueue.lookupMutationBatch(g,d).next(x=>(Ye(x!==null,37113),v=x.keys(),m.mutationQueue.removeMutationBatch(g,x))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>m.localDocuments.getDocuments(g,v))})}(s.localStore,e);XS(s,e,n),QS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Eu(s,a)}catch(a){await ol(a)}}function QS(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function XS(t,e,n){const s=Re(t);let a=s.Iu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Iu[s.currentUser.toKey()]=a}}function Hg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.cu.get(e))t.uu.delete(s),n&&t.au.Vu(s,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(s=>{t.Tu.containsKey(s)||WS(t,s)})}function WS(t,e){t.lu.delete(e.path.canonicalString());const n=t.hu.get(e);n!==null&&(Jy(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),ov(t))}function KT(t,e,n){for(const s of n)s instanceof GS?(t.Tu.addReference(s.key,e),U4(t,s)):s instanceof $S?(me(av,"Document no longer in limbo: "+s.key),t.Tu.removeReference(s.key,e),t.Tu.containsKey(s.key)||WS(t,s.key)):we(19791,{mu:s})}function U4(t,e){const n=e.key,s=n.path.canonicalString();t.hu.get(n)||t.lu.has(s)||(me(av,"New document in limbo: "+n),t.lu.add(s),ov(t))}function ov(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const n=new _e(ot.fromString(e)),s=t.du.next();t.Pu.set(s,new R4(n)),t.hu=t.hu.insert(n,s),VS(t.remoteStore,new mr(zi(Hy(n.path)),s,"TargetPurposeLimboResolution",ff.le))}}async function Eu(t,e,n){const s=Re(t),a=[],l=[],u=[];s.uu.isEmpty()||(s.uu.forEach((d,m)=>{u.push(s.Ru(m,e,n).then(g=>{var v;if((g||n)&&s.isPrimaryClient){const x=g?!g.fromCache:(v=n==null?void 0:n.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(m.targetId,x?"current":"not-current")}if(g){a.push(g);const x=Wy.Rs(m.targetId,g);l.push(x)}}))}),await Promise.all(u),s.au.j_(a),await async function(m,g){const v=Re(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>ae.forEach(g,T=>ae.forEach(T.ds,w=>v.persistence.referenceDelegate.addReference(x,T.targetId,w)).next(()=>ae.forEach(T.As,w=>v.persistence.referenceDelegate.removeReference(x,T.targetId,w)))))}catch(x){if(!ll(x))throw x;me(Zy,"Failed to update sequence numbers: "+x)}for(const x of g){const T=x.targetId;if(!x.fromCache){const w=v.xs.get(T),S=w.snapshotVersion,j=w.withLastLimboFreeSnapshotVersion(S);v.xs=v.xs.insert(T,j)}}}(s.localStore,l))}async function B4(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){me(av,"User change. New user:",e.toKey());const s=await DS(n.localStore,e);n.currentUser=e,function(l,u){l.Eu.forEach(d=>{d.forEach(m=>{m.reject(new de(se.CANCELLED,u))})}),l.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Eu(n,s.ks)}}function z4(t,e){const n=Re(t),s=n.Pu.get(e);if(s&&s._u)return Le().add(s.key);{let a=Le();const l=n.cu.get(e);if(!l)return a;for(const u of l){const d=n.uu.get(u);a=a.unionWith(d.view.Ya)}return a}}function ZS(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=YS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=z4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=V4.bind(null,e),e.au.j_=w4.bind(null,e.eventManager),e.au.Vu=S4.bind(null,e.eventManager),e}function F4(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=L4.bind(null,e),e}class Yd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tf(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return $k(this.persistence,new Hk,e.initialUser,this.serializer)}yu(e){return new jS(Xy.fi,this.serializer)}pu(e){return new Jk}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yd.provider={build:()=>new Yd};class H4 extends Yd{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){Ye(this.persistence.referenceDelegate instanceof $d,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Rk(s,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new jS(s=>$d.fi(s,n),this.serializer)}}class qg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>$T(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=B4.bind(null,this.syncEngine),await T4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new b4}()}createDatastore(e){const n=Tf(e.databaseInfo.databaseId),s=function(l){return new s4(l)}(e.databaseInfo);return function(l,u,d,m){return new l4(l,u,d,m)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,l,u,d){return new u4(s,a,l,u,d)}(this.localStore,this.datastore,e.asyncQueue,n=>$T(this.syncEngine,n,0),function(){return BT.C()?new BT:new e4}())}createSyncEngine(e,n){return function(a,l,u,d,m,g,v){const x=new N4(a,l,u,d,m,g);return v&&(x.Au=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const l=Re(a);me(Ma,"RemoteStore shutting down."),l.Ta.add(5),await Tu(l),l.Ea.shutdown(),l.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}qg.provider={build:()=>new qg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):js("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="FirestoreClient";class q4{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=on.UNAUTHENTICATED,this.clientId=qw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async u=>{me(Sr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(s,u=>(me(Sr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new As;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=sv(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function tg(t,e){t.asyncQueue.verifyOperationInProgress(),me(Sr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async a=>{s.isEqual(a)||(await DS(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function YT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await G4(t);me(Sr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>FT(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,a)=>FT(e.remoteStore,a)),t._onlineComponents=e}async function G4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(Sr,"Using user provided OfflineComponentProvider");try{await tg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;$o("Error using user provided cache. Falling back to memory cache: "+n),await tg(t,new Yd)}}else me(Sr,"Using default OfflineComponentProvider"),await tg(t,new H4(void 0));return t._offlineComponents}async function e2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(Sr,"Using user provided OnlineComponentProvider"),await YT(t,t._uninitializedComponentsProvider._online)):(me(Sr,"Using default OnlineComponentProvider"),await YT(t,new qg))),t._onlineComponents}function $4(t){return e2(t).then(e=>e.syncEngine)}async function t2(t){const e=await e2(t),n=e.eventManager;return n.onListen=I4.bind(null,e.syncEngine),n.onUnlisten=M4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=j4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=k4.bind(null,e.syncEngine),n}function K4(t,e,n={}){const s=new As;return t.asyncQueue.enqueueAndForget(async()=>function(l,u,d,m,g){const v=new JS({next:T=>{v.Cu(),u.enqueueAndForget(()=>HS(l,x));const w=T.docs.has(d);!w&&T.fromCache?g.reject(new de(se.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&T.fromCache&&m&&m.source==="server"?g.reject(new de(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),x=new qS(Hy(d.path),v,{includeMetadataChanges:!0,La:!0});return FS(l,x)}(await t2(t),t.asyncQueue,e,n,s)),s.promise}function Y4(t,e,n={}){const s=new As;return t.asyncQueue.enqueueAndForget(async()=>function(l,u,d,m,g){const v=new JS({next:T=>{v.Cu(),u.enqueueAndForget(()=>HS(l,x)),T.fromCache&&m.source==="server"?g.reject(new de(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),x=new qS(d,v,{includeMetadataChanges:!0,La:!0});return FS(l,x)}(await t2(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(t,e,n){if(!n)throw new de(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Q4(t,e,n,s){if(e===!0&&s===!0)throw new de(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function XT(t){if(!_e.isDocumentKey(t))throw new de(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function WT(t){if(_e.isDocumentKey(t))throw new de(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":we(12329,{type:typeof t})}function vi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wf(t);throw new de(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function X4(t,e){if(e<=0)throw new de(se.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2="firestore.googleapis.com",ZT=!0;class JT{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new de(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=s2,this.ssl=ZT}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:ZT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=IS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ak)throw new de(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Q4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=n2((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new de(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new de(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new de(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sf{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new n5;switch(s.type){case"firstParty":return new a5(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,sl("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=QT.get(n);s&&(me("ComponentProvider","Removing Datastore"),QT.delete(n),s.terminate())}(this),Promise.resolve()}}function W4(t,e,n,s={}){var a;t=vi(t,Sf);const l=il(e),u=t._getSettings(),d=Object.assign(Object.assign({},u),{emulatorOptions:t._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==s2&&u.host!==m&&$o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:m,ssl:l,emulatorOptions:s});if(!Ra(g,d)&&(t._setSettings(g),l&&(Ey(`https://${m}`),sl("Firestore",!0)),s.mockUserToken)){let v,x;if(typeof s.mockUserToken=="string")v=s.mockUserToken,x=on.MOCK_USER;else{v=Qb(s.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new de(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new on(T)}t._authCredentials=new i5(new Fw(v,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Mr(this.firestore,e,this._query)}}class vn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class vr extends Mr{constructor(e,n,s){super(e,n,Hy(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new _e(e))}withConverter(e){return new vr(this.firestore,e,this._path)}}function wn(t,e,...n){if(t=Jt(t),i2("collection","path",e),t instanceof Sf){const s=ot.fromString(e,...n);return WT(s),new vr(t,null,s)}{if(!(t instanceof vn||t instanceof vr))throw new de(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ot.fromString(e,...n));return WT(s),new vr(t.firestore,null,s)}}function gn(t,e,...n){if(t=Jt(t),arguments.length===1&&(e=qw.newId()),i2("doc","path",e),t instanceof Sf){const s=ot.fromString(e,...n);return XT(s),new vn(t,null,new _e(s))}{if(!(t instanceof vn||t instanceof vr))throw new de(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ot.fromString(e,...n));return XT(s),new vn(t.firestore,t instanceof vr?t.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="AsyncQueue";class tE{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new kS(this,"async_queue_retry"),this.ec=()=>{const s=eg();s&&me(eE,"Visibility state changed to "+s.visibilityState),this.C_.p_()},this.tc=e;const n=eg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=eg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new As;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!ll(e))throw e;me(eE,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(s=>{throw this.Ju=s,this.Yu=!1,js("INTERNAL UNHANDLED ERROR: ",nE(s)),s}).then(s=>(this.Yu=!1,s))));return this.tc=n,n}enqueueAfterDelay(e,n,s){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const a=iv.createAndSchedule(this,e,n,s,l=>this.oc(l));return this.Hu.push(a),a}nc(){this.Ju&&we(47125,{_c:nE(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function nE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ua extends Sf{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new tE,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tE(e),this._firestoreClient=void 0,await e}}}function Z4(t,e){const n=typeof t=="object"?t:Sy(),s=typeof t=="string"?t:Bd,a=cf(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=$b("firestore");l&&W4(a,...l)}return a}function lv(t){if(t._terminated)throw new de(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||J4(t),t._firestoreClient}function J4(t){var e,n,s;const a=t._freezeSettings(),l=function(d,m,g,v){return new T5(d,m,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,n2(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new q4(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zo(en.fromBase64String(e))}catch(n){throw new de(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zo(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=/^__.*__$/;class t3{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Dr(e,this.data,this.fieldMask,n,this.fieldTransforms):new _u(e,this.data,n,this.fieldTransforms)}}class r2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Dr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function a2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{hc:t})}}class hv{constructor(e,n,s,a,l,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Pc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new hv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Tc({path:s,Ec:!1});return a.dc(e),a}Ac(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Tc({path:s,Ec:!1});return a.Pc(),a}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Qd(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(a2(this.hc)&&e3.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class n3{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Tf(e)}gc(e,n,s,a=!1){return new hv({hc:e,methodName:n,fc:s,path:Zt.emptyPath(),Ec:!1,mc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rf(t){const e=t._freezeSettings(),n=Tf(t._databaseId);return new n3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function o2(t,e,n,s,a,l={}){const u=t.gc(l.merge||l.mergeFields?2:0,e,n,a);fv("Data must be an object, but it was:",u,s);const d=l2(s,u);let m,g;if(l.merge)m=new Ln(u.fieldMask),g=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const x of l.mergeFields){const T=Gg(e,x,n);if(!u.contains(T))throw new de(se.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);u2(v,T)||v.push(T)}m=new Ln(v),g=u.fieldTransforms.filter(x=>m.covers(x.field))}else m=null,g=u.fieldTransforms;return new t3(new An(d),m,g)}class Nf extends Cf{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nf}}class dv extends Cf{_toFieldTransform(e){return new K5(e.path,new tu)}isEqual(e){return e instanceof dv}}function i3(t,e,n,s){const a=t.gc(1,e,n);fv("Data must be an object, but it was:",a,s);const l=[],u=An.empty();jr(s,(m,g)=>{const v=mv(e,m,n);g=Jt(g);const x=a.Ac(v);if(g instanceof Nf)l.push(v);else{const T=bu(g,x);T!=null&&(l.push(v),u.set(v,T))}});const d=new Ln(l);return new r2(u,d,a.fieldTransforms)}function s3(t,e,n,s,a,l){const u=t.gc(1,e,n),d=[Gg(e,s,n)],m=[a];if(l.length%2!=0)throw new de(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)d.push(Gg(e,l[T])),m.push(l[T+1]);const g=[],v=An.empty();for(let T=d.length-1;T>=0;--T)if(!u2(g,d[T])){const w=d[T];let S=m[T];S=Jt(S);const j=u.Ac(w);if(S instanceof Nf)g.push(w);else{const M=bu(S,j);M!=null&&(g.push(w),v.set(w,M))}}const x=new Ln(g);return new r2(v,x,u.fieldTransforms)}function r3(t,e,n,s=!1){return bu(n,t.gc(s?4:3,e))}function bu(t,e){if(c2(t=Jt(t)))return fv("Unsupported field value:",e,t),l2(t,e);if(t instanceof Cf)return function(s,a){if(!a2(a.hc))throw a.Vc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Vc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(s,a){const l=[];let u=0;for(const d of s){let m=bu(d,a.Rc(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}}(t,e)}return function(s,a){if((s=Jt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return q5(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Me.fromDate(s);return{timestampValue:Gd(a.serializer,l)}}if(s instanceof Me){const l=new Me(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Gd(a.serializer,l)}}if(s instanceof cv)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Zo)return{bytesValue:bS(a.serializer,s._byteString)};if(s instanceof vn){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.Vc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Yy(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof uv)return function(u,d){return{mapValue:{fields:{[Zw]:{stringValue:Jw},[zd]:{arrayValue:{values:u.toArray().map(g=>{if(typeof g!="number")throw d.Vc("VectorValues must only contain numeric values.");return qy(d.serializer,g)})}}}}}}(s,a);throw a.Vc(`Unsupported field value: ${wf(s)}`)}(t,e)}function l2(t,e){const n={};return $w(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jr(t,(s,a)=>{const l=bu(a,e.Ic(s));l!=null&&(n[s]=l)}),{mapValue:{fields:n}}}function c2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Me||t instanceof cv||t instanceof Zo||t instanceof vn||t instanceof Cf||t instanceof uv)}function fv(t,e,n){if(!c2(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=wf(n);throw s==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+s)}}function Gg(t,e,n){if((e=Jt(e))instanceof Af)return e._internalPath;if(typeof e=="string")return mv(t,e);throw Qd("Field path arguments must be of type string or ",t,!1,void 0,n)}const a3=new RegExp("[~\\*/\\[\\]]");function mv(t,e,n){if(e.search(a3)>=0)throw Qd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Af(...e.split("."))._internalPath}catch{throw Qd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qd(t,e,n,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${s}`),u&&(m+=` in document ${a}`),m+=")"),new de(se.INVALID_ARGUMENT,d+t+m)}function u2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new o3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(If("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class o3 extends h2{data(){return super.data()}}function If(t,e){return typeof e=="string"?mv(t,e):e instanceof Af?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pv{}class gv extends pv{}function ti(t,e,...n){let s=[];e instanceof pv&&s.push(e),s=s.concat(n),function(l){const u=l.filter(m=>m instanceof yv).length,d=l.filter(m=>m instanceof jf).length;if(u>1||u>0&&d>0)throw new de(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)t=a._apply(t);return t}class jf extends gv{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new jf(e,n,s)}_apply(e){const n=this._parse(e);return d2(e._query,n),new Mr(e.firestore,e.converter,Pg(e._query,n))}_parse(e){const n=Rf(e.firestore);return function(l,u,d,m,g,v,x){let T;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new de(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){sE(x,v);const S=[];for(const j of x)S.push(iE(m,l,j));T={arrayValue:{values:S}}}else T=iE(m,l,x)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||sE(x,v),T=r3(d,u,x,v==="in"||v==="not-in");return jt.create(g,v,T)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function wa(t,e,n){const s=e,a=If("where",t);return jf._create(a,s,n)}class yv extends pv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new yv(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:yi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,l){let u=a;const d=l.getFlattenedFilters();for(const m of d)d2(u,m),u=Pg(u,m)}(e._query,n),new Mr(e.firestore,e.converter,Pg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vv extends gv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new vv(e,n)}_apply(e){const n=function(a,l,u){if(a.startAt!==null)throw new de(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new de(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new eu(l,u)}(e._query,this._field,this._direction);return new Mr(e.firestore,e.converter,function(a,l){const u=a.explicitOrderBy.concat([l]);return new cl(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,n))}}function Xd(t,e="asc"){const n=e,s=If("orderBy",t);return vv._create(s,n)}class _v extends gv{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new _v(e,n,s)}_apply(e){return new Mr(e.firestore,e.converter,Hd(e._query,this._limit,this._limitType))}}function $g(t){return X4("limit",t),_v._create("limit",t,"F")}function iE(t,e,n){if(typeof(n=Jt(n))=="string"){if(n==="")throw new de(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oS(e)&&n.indexOf("/")!==-1)throw new de(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ot.fromString(n));if(!_e.isDocumentKey(s))throw new de(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return vT(t,new _e(s))}if(n instanceof vn)return vT(t,n._key);throw new de(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wf(n)}.`)}function sE(t,e){if(!Array.isArray(t)||t.length===0)throw new de(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function d2(t,e){const n=function(a,l){for(const u of a)for(const d of u.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new de(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class c3{convertValue(e,n="none"){switch(br(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Er(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return jr(e,(a,l)=>{s[a]=this.convertValue(l,n)}),s}convertVectorValue(e){var n,s,a;const l=(a=(s=(n=e.fields)===null||n===void 0?void 0:n[zd].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(u=>bt(u.doubleValue));return new uv(l)}convertGeoPoint(e){return new cv(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=pf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Wc(e));default:return null}}convertTimestamp(e){const n=Tr(e);return new Me(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ot.fromString(e);Ye(NS(s),9688,{name:e});const a=new Zc(s.get(1),s.get(3)),l=new _e(s.popFirst(5));return a.isEqual(n)||js(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class m2 extends h2{constructor(e,n,s,a,l,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(If("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Sd extends m2{data(e={}){return super.data(e)}}class u3{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Dc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Sd(this._firestore,this._userDataWriter,s.key,s,new Dc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(d=>{const m=new Sd(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Dc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new Sd(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Dc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return d.type!==0&&(g=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:h3(d.type),doc:m,oldIndex:g,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function h3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(t){t=vi(t,vn);const e=vi(t.firestore,Ua);return K4(lv(e),t._key).then(n=>f3(e,t,n))}class p2 extends c3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,n)}}function ni(t){t=vi(t,Mr);const e=vi(t.firestore,Ua),n=lv(e),s=new p2(e);return l3(t._query),Y4(n,t._query).then(a=>new u3(e,s,t,a))}function Sa(t,e,n){t=vi(t,vn);const s=vi(t.firestore,Ua),a=f2(t.converter,e,n);return Df(s,[o2(Rf(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,ii.none())])}function Kg(t,e,n,...s){t=vi(t,vn);const a=vi(t.firestore,Ua),l=Rf(a);let u;return u=typeof(e=Jt(e))=="string"||e instanceof Af?s3(l,"updateDoc",t._key,e,n,s):i3(l,"updateDoc",t._key,e),Df(a,[u.toMutation(t._key,ii.exists(!0))])}function d3(t){return Df(vi(t.firestore,Ua),[new Gy(t._key,ii.none())])}function g2(t,e){const n=vi(t.firestore,Ua),s=gn(t),a=f2(t.converter,e);return Df(n,[o2(Rf(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,ii.exists(!1))]).then(()=>s)}function Df(t,e){return function(s,a){const l=new As;return s.asyncQueue.enqueueAndForget(async()=>P4(await $4(s),a,l)),l.promise}(lv(t),e)}function f3(t,e,n){const s=n.docs.get(e._key),a=new p2(t);return new m2(t,a,e._key,s,new Dc(n.hasPendingWrites,n.fromCache),e.converter)}function y2(){return new dv("serverTimestamp")}(function(e,n=!0){(function(a){al=a})(Va),Na(new _r("firestore",(s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),d=new Ua(new s5(s.getProvider("auth-internal")),new o5(u,s.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new de(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zc(g.options.projectId,v)}(u,a),u);return l=Object.assign({useFetchStreams:n},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Ui(aT,oT,e),Ui(aT,oT,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="firebasestorage.googleapis.com",m3="storageBucket",p3=2*60*1e3,g3=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends Qi{constructor(e,n,s=0){super(ng(e),`Firebase Storage: ${n} (${ng(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ng(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ki;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ki||(Ki={}));function ng(t){return"storage/"+t}function y3(){const t="An unknown error occurred, please check the error payload for server response.";return new Xi(Ki.UNKNOWN,t)}function v3(){return new Xi(Ki.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _3(){return new Xi(Ki.CANCELED,"User canceled the upload/download.")}function x3(t){return new Xi(Ki.INVALID_URL,"Invalid URL '"+t+"'.")}function T3(t){return new Xi(Ki.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function rE(t){return new Xi(Ki.INVALID_ARGUMENT,t)}function _2(){return new Xi(Ki.APP_DELETED,"The Firebase app was deleted.")}function E3(t){return new Xi(Ki.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=pi.makeFromUrl(e,n)}catch{return new pi(e,"")}if(s.path==="")return s;throw T3(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(te){te.path.charAt(te.path.length-1)==="/"&&(te.path_=te.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+a+u,"i"),m={bucket:1,path:3};function g(te){te.path_=decodeURIComponent(te.path)}const v="v[A-Za-z0-9_]+",x=n.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",w=new RegExp(`^https?://${x}/${v}/b/${a}/o${T}`,"i"),S={bucket:1,path:3},j=n===v2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,M="([^?#]*)",V=new RegExp(`^https?://${j}/${a}/${M}`,"i"),H=[{regex:d,indices:m,postModify:l},{regex:w,indices:S,postModify:g},{regex:V,indices:{bucket:1,path:2},postModify:g}];for(let te=0;te<H.length;te++){const F=H[te],U=F.regex.exec(e);if(U){const N=U[F.indices.bucket];let C=U[F.indices.path];C||(C=""),s=new pi(N,C),F.postModify(s);break}}if(s==null)throw x3(e);return s}}class b3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(t,e,n){let s=1,a=null,l=null,u=!1,d=0;function m(){return d===2}let g=!1;function v(...M){g||(g=!0,e.apply(null,M))}function x(M){a=setTimeout(()=>{a=null,t(w,m())},M)}function T(){l&&clearTimeout(l)}function w(M,...V){if(g){T();return}if(M){T(),v.call(null,M,...V);return}if(m()||u){T(),v.call(null,M,...V);return}s<64&&(s*=2);let H;d===1?(d=2,H=0):H=(s+Math.random())*1e3,x(H)}let S=!1;function j(M){S||(S=!0,T(),!g&&(a!==null?(M||(d=2),clearTimeout(a),x(0)):M||(d=1)))}return x(0),l=setTimeout(()=>{u=!0,j(!0)},n),j}function S3(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(t){return t!==void 0}function aE(t,e,n,s){if(s<e)throw rE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw rE(`Invalid value for '${t}'. Expected ${n} or less.`)}function C3(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var Wd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Wd||(Wd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,n,s,a,l,u,d,m,g,v,x,T=!0,w=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=x,this.retry=T,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,j)=>{this.resolve_=S,this.reject_=j,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new ad(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=d=>{const m=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const d=l.getErrorCode()===Wd.NO_ERROR,m=l.getStatus();if(!d||R3(m,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Wd.ABORT;s(!1,new ad(!1,null,v));return}const g=this.successCodes_.indexOf(m)!==-1;s(!0,new ad(g,l))})},n=(s,a)=>{const l=this.resolve_,u=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());A3(m)?l(m):l()}catch(m){u(m)}else if(d!==null){const m=y3();m.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,m)):u(m)}else if(a.canceled){const m=this.appDelete_?_2():_3();u(m)}else{const m=v3();u(m)}};this.canceled_?n(!1,new ad(!1,null,!0)):this.backoffId_=w3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&S3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ad{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function I3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function j3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function D3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function M3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function k3(t,e,n,s,a,l,u=!0,d=!1){const m=C3(t.urlParams),g=t.url+m,v=Object.assign({},t.headers);return D3(v,e),I3(v,n),j3(v,l),M3(v,s),new N3(g,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function V3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n){this._service=e,n instanceof pi?this._location=n:this._location=pi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Zd(e,n)}get root(){const e=new pi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return V3(this._location.path)}get storage(){return this._service}get parent(){const e=P3(this._location.path);if(e===null)return null;const n=new pi(this._location.bucket,e);return new Zd(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw E3(e)}}function oE(t,e){const n=e==null?void 0:e[m3];return n==null?null:pi.makeFromBucketSpec(n,t)}function O3(t,e,n,s={}){t.host=`${e}:${n}`;const a=il(e);a&&(Ey(`https://${t.host}`),sl("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:Qb(l,t.app.options.projectId))}class L3{constructor(e,n,s,a,l,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=v2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=p3,this._maxUploadRetryTime=g3,this._requests=new Set,a!=null?this._bucket=pi.makeFromBucketSpec(a,this._host):this._bucket=oE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=pi.makeFromBucketSpec(this._url,e):this._bucket=oE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){aE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){aE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Zd(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new b3(_2());{const u=k3(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const lE="@firebase/storage",cE="0.13.11";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="storage";function U3(t=Sy(),e){t=Jt(t),sl("Storage",!1);const s=cf(t,x2).getImmediate({identifier:e}),a=$b("storage");return a&&B3(s,...a),s}function B3(t,e,n,s={}){O3(t,e,n,s)}function z3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new L3(n,s,a,e,Va)}function F3(){Na(new _r(x2,z3,"PUBLIC").setMultipleInstances(!0)),Ui(lE,cE,""),Ui(lE,cE,"esm2017")}F3();const H3={apiKey:"AIzaSyALOlJat7fxD5MpAaftT_e3KhTkDoWuxZw",authDomain:"fitness-planner-d6cf0.firebaseapp.com",projectId:"fitness-planner-d6cf0",storageBucket:"fitness-planner-d6cf0.appspot.com",messagingSenderId:"968893369273",appId:"1:968893369273:web:cf83a0d67ce62e557cc468"},Tv=Zb(H3),Jd=e5(Tv),it=Z4(Tv);U3(Tv);const q3="dd458df7e7be1cfa4a6c9f57a909237f";async function G3({email:t,ip:e,userAgent:n,page:s}){try{await g2(wn(it,"visit_logs"),{email:t||null,ip:e||null,userAgent:n||null,page:s||null,timestamp:y2()})}catch{}}async function Cs({email:t,type:e,desc:n}){try{await g2(wn(it,"user_activity"),{email:t||null,type:e||null,desc:n||null,timestamp:y2()})}catch{}}async function $3(t){if(!t)return console.log("Не могу получить аватар: email не указан"),null;try{console.log(`Получаем аватар для пользователя: ${t}`);const e=gn(it,"users",t),n=await xv(e);if(n.exists()){const s=n.data();if(s.avatar)return console.log(`Аватар найден: ${s.avatar.substring(0,30)}...`),s.avatar;console.log("Документ пользователя существует, но аватар не найден")}else console.log("Документ пользователя не найден");return null}catch(e){return console.error("Ошибка при получении аватара:",e),null}}async function K3(t,e){var n;if(!t||!e)throw console.error("Ошибка загрузки аватара: нет email или файла"),new Error("Нет email или файла");try{const s=g=>new Promise((v,x)=>{const T=new FileReader;T.readAsDataURL(g),T.onload=()=>{try{const w=T.result.split(",")[1];v(w)}catch{x(new Error("Ошибка при чтении файла как base64"))}},T.onerror=w=>x(w)});console.log("Начинаем чтение файла как base64...");const a=await s(e);console.log("Файл успешно прочитан как base64");const l=new FormData;l.append("key",q3),l.append("image",a),console.log("Отправляем запрос на ImgBB...");const u=await fetch("https://api.imgbb.com/1/upload",{method:"POST",body:l});if(!u.ok)throw new Error(`Ошибка HTTP: ${u.status} ${u.statusText}`);const d=await u.json();if(console.log("Получен ответ от ImgBB:",d.success?"успешно":"ошибка"),!d.success)throw new Error(`Ошибка загрузки на ImgBB: ${((n=d.error)==null?void 0:n.message)||"Неизвестная ошибка"}`);const m=d.data.display_url||d.data.url;return console.log("URL изображения:",m),console.log("Сохраняем URL в Firestore..."),await Sa(gn(it,"users",t),{avatar:m},{merge:!0}),console.log("URL успешно сохранен в Firestore"),m}catch(s){throw console.error("Ошибка при загрузке аватара на ImgBB:",s),s}}const ig=[{name:"gender",label:"Пол",type:"select",options:["Мужской","Женский"]},{name:"age",label:"Возраст",type:"number",min:10,max:100},{name:"weight",label:"Вес (кг)",type:"number",min:30,max:250},{name:"height",label:"Рост (см)",type:"number",min:120,max:230},{name:"activity",label:"Уровень активности",type:"select",options:["Сидячий","Умеренный","Высокий"]},{name:"goal",label:"Цель",type:"select",options:["Похудение","Поддержание веса","Набор массы","Тонус","Выносливость"]}],uE=[{name:"diet",label:"Тип диеты",type:"select",options:["Обычная","Веган","Кето","Палео","Другое"]},{name:"allergies",label:"Аллергии/непереносимости",type:"text"},{name:"dislikes",label:"Нелюбимые продукты",type:"text"},{name:"budget",label:"Бюджет на еду",type:"select",options:["Эконом","Стандарт","Премиум"]},{name:"cooktime",label:"Время на готовку (минут в день)",type:"number",min:10,max:180}],hE=[{name:"experience",label:"Опыт тренировок",type:"select",options:["Новичок","Средний","Продвинутый"]},{name:"equipment",label:"Доступный инвентарь",type:"multiselect",options:["Только тело","Гантели","Тренажёры"]},{name:"preference",label:"Предпочтения",type:"select",options:["Силовые","Кардио","Йога","Функционалка"]},{name:"days",label:"Тренировок в неделю",type:"number",min:1,max:7},{name:"injuries",label:"Травмы/ограничения",type:"text"}];function Y3(t){return t==="food"?[...ig,...uE]:t==="workout"?[...ig,...hE]:[...ig,...uE,...hE]}function Q3(){const t=Un(),{search:e}=xi(),n=new URLSearchParams(e).get("type")||"combo",s=I.useMemo(()=>Y3(n),[n]),[a,l]=I.useState(0),[u,d]=I.useState({}),m=s[a],g=a===s.length-1,v=j=>{d({...u,[m.name]:j.target.value})},x=j=>{const M=u[m.name]||[];let V;M.includes(j)?V=M.filter(Y=>Y!==j):V=[...M,j],d({...u,[m.name]:V})},T=()=>{m.type==="multiselect"&&(!u[m.name]||u[m.name].length===0)||!u[m.name]&&m.type!=="text"||l(j=>j+1)},w=()=>{l(j=>Math.max(0,j-1))},S=async j=>{j.preventDefault(),localStorage.setItem("fitgenius_selected_type",n),localStorage.setItem("fitgenius_questionnaire_answers",JSON.stringify(u));const M=localStorage.getItem("fitgenius_user")||"";await Cs({email:M,type:"Опрос",desc:`Пройден опрос: ${n}`}),t("/pay")};return h.jsx("div",{className:"questionnaire-bg",children:h.jsxs("div",{className:"questionnaire-center",children:[h.jsxs("h2",{style:{textAlign:"center",marginBottom:24},children:["Анкета: ",n==="food"?"Питание":n==="workout"?"Тренировки":"Комбо"]}),h.jsxs("div",{style:{marginBottom:16,textAlign:"center"},children:[h.jsx("progress",{value:a+1,max:s.length,style:{width:"80%"}}),h.jsxs("div",{style:{fontSize:14,color:"#888",marginTop:4},children:["Шаг ",a+1," из ",s.length]})]}),h.jsxs("form",{onSubmit:S,children:[h.jsxs("div",{style:{marginBottom:24},children:[h.jsx("label",{style:{fontWeight:600,display:"block",marginBottom:8},children:m.label}),m.type==="select"&&h.jsxs("select",{value:u[m.name]||"",onChange:v,required:!0,style:{width:"100%",padding:12,borderRadius:8,border:"1px solid #ccc",fontSize:18},children:[h.jsx("option",{value:"",disabled:!0,children:"Выберите..."}),m.options.map(j=>h.jsx("option",{value:j,children:j},j))]}),m.type==="multiselect"&&h.jsxs("div",{className:"multiselect-options",children:[m.options.map(j=>h.jsx("div",{className:"multiselect-option",children:h.jsxs("label",{className:"checkbox-container",children:[h.jsx("input",{type:"checkbox",checked:(u[m.name]||[]).includes(j),onChange:()=>x(j)}),h.jsx("span",{className:"checkbox-text",children:j})]})},j)),(!u[m.name]||u[m.name].length===0)&&h.jsx("div",{className:"multiselect-hint",children:"Выберите один или несколько вариантов"})]}),m.type==="number"&&h.jsx("input",{type:"number",min:m.min,max:m.max,value:u[m.name]||"",onChange:v,required:!0,style:{width:"100%",padding:12,borderRadius:8,border:"1px solid #ccc",fontSize:18}}),m.type==="text"&&h.jsx("input",{type:"text",value:u[m.name]||"",onChange:v,placeholder:"Введите...",style:{width:"100%",padding:12,borderRadius:8,border:"1px solid #ccc",fontSize:18}})]}),h.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[h.jsx("button",{type:"button",onClick:w,disabled:a===0,style:{padding:"12px 28px",borderRadius:10,border:"none",background:"#eee",color:"#333",fontWeight:500,fontSize:16,cursor:a===0?"not-allowed":"pointer"},children:"Назад"}),!g&&h.jsx("button",{type:"button",onClick:T,style:{padding:"12px 28px",borderRadius:10,border:"none",background:"#4fd165",color:"#fff",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Далее"}),g&&h.jsx("button",{type:"submit",style:{padding:"12px 28px",borderRadius:10,border:"none",background:"#1a3a2b",color:"#fff",fontWeight:600,fontSize:16,cursor:"pointer"},children:"Сгенерировать программу"})]})]})]})})}const Ev=I.createContext({});function bv(t){const e=I.useRef(null);return e.current===null&&(e.current=t()),e.current}const wv=typeof window<"u",T2=wv?I.useLayoutEffect:I.useEffect,Mf=I.createContext(null);function Sv(t,e){t.indexOf(e)===-1&&t.push(e)}function Av(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ms=(t,e,n)=>n>e?e:n<t?t:n;let Cv=()=>{};const ks={},E2=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function b2(t){return typeof t=="object"&&t!==null}const w2=t=>/^0[^.\s]+$/u.test(t);function Rv(t){let e;return()=>(e===void 0&&(e=t()),e)}const si=t=>t,X3=(t,e)=>n=>e(t(n)),wu=(...t)=>t.reduce(X3),su=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Nv{constructor(){this.subscriptions=[]}add(e){return Sv(this.subscriptions,e),()=>Av(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Hi=t=>t*1e3,qi=t=>t/1e3;function S2(t,e){return e?t*(1e3/e):0}const A2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,W3=1e-7,Z3=12;function J3(t,e,n,s,a){let l,u,d=0;do u=e+(n-e)/2,l=A2(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>W3&&++d<Z3);return u}function Su(t,e,n,s){if(t===e&&n===s)return si;const a=l=>J3(l,0,1,t,n);return l=>l===0||l===1?l:A2(a(l),e,s)}const C2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,R2=t=>e=>1-t(1-e),N2=Su(.33,1.53,.69,.99),Iv=R2(N2),I2=C2(Iv),j2=t=>(t*=2)<1?.5*Iv(t):.5*(2-Math.pow(2,-10*(t-1))),jv=t=>1-Math.sin(Math.acos(t)),D2=R2(jv),M2=C2(jv),eP=Su(.42,0,1,1),tP=Su(0,0,.58,1),k2=Su(.42,0,.58,1),nP=t=>Array.isArray(t)&&typeof t[0]!="number",P2=t=>Array.isArray(t)&&typeof t[0]=="number",iP={linear:si,easeIn:eP,easeInOut:k2,easeOut:tP,circIn:jv,circInOut:M2,circOut:D2,backIn:Iv,backInOut:I2,backOut:N2,anticipate:j2},sP=t=>typeof t=="string",dE=t=>{if(P2(t)){Cv(t.length===4);const[e,n,s,a]=t;return Su(e,n,s,a)}else if(sP(t))return iP[t];return t},od=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],fE={value:null};function rP(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1},m=0;function g(x){u.has(x)&&(v.schedule(x),t()),m++,x(d)}const v={schedule:(x,T=!1,w=!1)=>{const j=w&&a?n:s;return T&&u.add(x),j.has(x)||j.add(x),x},cancel:x=>{s.delete(x),u.delete(x)},process:x=>{if(d=x,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(g),e&&fE.value&&fE.value.frameloop[e].push(m),m=0,n.clear(),a=!1,l&&(l=!1,v.process(x))}};return v}const aP=40;function V2(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=od.reduce((H,te)=>(H[te]=rP(l,e?te:void 0),H),{}),{setup:d,read:m,resolveKeyframes:g,preUpdate:v,update:x,preRender:T,render:w,postRender:S}=u,j=()=>{const H=ks.useManualTiming?a.timestamp:performance.now();n=!1,ks.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(H-a.timestamp,aP),1)),a.timestamp=H,a.isProcessing=!0,d.process(a),m.process(a),g.process(a),v.process(a),x.process(a),T.process(a),w.process(a),S.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(j))},M=()=>{n=!0,s=!0,a.isProcessing||t(j)};return{schedule:od.reduce((H,te)=>{const F=u[te];return H[te]=(U,N=!1,C=!1)=>(n||M(),F.schedule(U,N,C)),H},{}),cancel:H=>{for(let te=0;te<od.length;te++)u[od[te]].cancel(H)},state:a,steps:u}}const{schedule:ft,cancel:Ar,state:Xt,steps:sg}=V2(typeof requestAnimationFrame<"u"?requestAnimationFrame:si,!0);let Ad;function oP(){Ad=void 0}const Cn={now:()=>(Ad===void 0&&Cn.set(Xt.isProcessing||ks.useManualTiming?Xt.timestamp:performance.now()),Ad),set:t=>{Ad=t,queueMicrotask(oP)}},O2=t=>e=>typeof e=="string"&&e.startsWith(t),Dv=O2("--"),lP=O2("var(--"),Mv=t=>lP(t)?cP.test(t.split("/*")[0].trim()):!1,cP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,hl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ru={...hl,transform:t=>Ms(0,1,t)},ld={...hl,default:1},zc=t=>Math.round(t*1e5)/1e5,kv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function uP(t){return t==null}const hP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Pv=(t,e)=>n=>!!(typeof n=="string"&&hP.test(n)&&n.startsWith(t)||e&&!uP(n)&&Object.prototype.hasOwnProperty.call(n,e)),L2=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,d]=s.match(kv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},dP=t=>Ms(0,255,t),rg={...hl,transform:t=>Math.round(dP(t))},Ea={test:Pv("rgb","red"),parse:L2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+rg.transform(t)+", "+rg.transform(e)+", "+rg.transform(n)+", "+zc(ru.transform(s))+")"};function fP(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Yg={test:Pv("#"),parse:fP,transform:Ea.transform},Au=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ur=Au("deg"),Gi=Au("%"),Ae=Au("px"),mP=Au("vh"),pP=Au("vw"),mE={...Gi,parse:t=>Gi.parse(t)/100,transform:t=>Gi.transform(t*100)},Oo={test:Pv("hsl","hue"),parse:L2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Gi.transform(zc(e))+", "+Gi.transform(zc(n))+", "+zc(ru.transform(s))+")"},an={test:t=>Ea.test(t)||Yg.test(t)||Oo.test(t),parse:t=>Ea.test(t)?Ea.parse(t):Oo.test(t)?Oo.parse(t):Yg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ea.transform(t):Oo.transform(t)},gP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function yP(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(kv))==null?void 0:e.length)||0)+(((n=t.match(gP))==null?void 0:n.length)||0)>0}const U2="number",B2="color",vP="var",_P="var(",pE="${}",xP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function au(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(xP,m=>(an.test(m)?(s.color.push(l),a.push(B2),n.push(an.parse(m))):m.startsWith(_P)?(s.var.push(l),a.push(vP),n.push(m)):(s.number.push(l),a.push(U2),n.push(parseFloat(m))),++l,pE)).split(pE);return{values:n,split:d,indexes:s,types:a}}function z2(t){return au(t).values}function F2(t){const{split:e,types:n}=au(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const d=n[u];d===U2?l+=zc(a[u]):d===B2?l+=an.transform(a[u]):l+=a[u]}return l}}const TP=t=>typeof t=="number"?0:t;function EP(t){const e=z2(t);return F2(t)(e.map(TP))}const Cr={test:yP,parse:z2,createTransformer:F2,getAnimatableNone:EP};function ag(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function bP({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const d=n<.5?n*(1+e):n+e-n*e,m=2*n-d;a=ag(m,d,t+1/3),l=ag(m,d,t),u=ag(m,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function ef(t,e){return n=>n>0?e:t}const dt=(t,e,n)=>t+(e-t)*n,og=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},wP=[Yg,Ea,Oo],SP=t=>wP.find(e=>e.test(t));function gE(t){const e=SP(t);if(!e)return!1;let n=e.parse(t);return e===Oo&&(n=bP(n)),n}const yE=(t,e)=>{const n=gE(t),s=gE(e);if(!n||!s)return ef(t,e);const a={...n};return l=>(a.red=og(n.red,s.red,l),a.green=og(n.green,s.green,l),a.blue=og(n.blue,s.blue,l),a.alpha=dt(n.alpha,s.alpha,l),Ea.transform(a))},Qg=new Set(["none","hidden"]);function AP(t,e){return Qg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function CP(t,e){return n=>dt(t,e,n)}function Vv(t){return typeof t=="number"?CP:typeof t=="string"?Mv(t)?ef:an.test(t)?yE:IP:Array.isArray(t)?H2:typeof t=="object"?an.test(t)?yE:RP:ef}function H2(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>Vv(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function RP(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=Vv(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function NP(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][s[l]],d=t.values[u]??0;n[a]=d,s[l]++}return n}const IP=(t,e)=>{const n=Cr.createTransformer(e),s=au(t),a=au(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Qg.has(t)&&!a.values.length||Qg.has(e)&&!s.values.length?AP(t,e):wu(H2(NP(s,a),a.values),n):ef(t,e)};function q2(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?dt(t,e,n):Vv(t)(t,e)}const jP=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ft.update(e,n),stop:()=>Ar(e),now:()=>Xt.isProcessing?Xt.timestamp:Cn.now()}},G2=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=t(l/(a-1))+", ";return`linear(${s.substring(0,s.length-2)})`},tf=2e4;function Ov(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<tf;)e+=n,s=t.next(e);return e>=tf?1/0:e}function DP(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(Ov(s),tf);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:qi(a)}}const MP=5;function $2(t,e,n){const s=Math.max(e-MP,0);return S2(n-t(s),e-s)}const vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},vE=.001;function kP({duration:t=vt.duration,bounce:e=vt.bounce,velocity:n=vt.velocity,mass:s=vt.mass}){let a,l,u=1-e;u=Ms(vt.minDamping,vt.maxDamping,u),t=Ms(vt.minDuration,vt.maxDuration,qi(t)),u<1?(a=g=>{const v=g*u,x=v*t,T=v-n,w=Xg(g,u),S=Math.exp(-x);return vE-T/w*S},l=g=>{const x=g*u*t,T=x*n+n,w=Math.pow(u,2)*Math.pow(g,2)*t,S=Math.exp(-x),j=Xg(Math.pow(g,2),u);return(-a(g)+vE>0?-1:1)*((T-w)*S)/j}):(a=g=>{const v=Math.exp(-g*t),x=(g-n)*t+1;return-.001+v*x},l=g=>{const v=Math.exp(-g*t),x=(n-g)*(t*t);return v*x});const d=5/t,m=VP(a,l,d);if(t=Hi(t),isNaN(m))return{stiffness:vt.stiffness,damping:vt.damping,duration:t};{const g=Math.pow(m,2)*s;return{stiffness:g,damping:u*2*Math.sqrt(s*g),duration:t}}}const PP=12;function VP(t,e,n){let s=n;for(let a=1;a<PP;a++)s=s-t(s)/e(s);return s}function Xg(t,e){return t*Math.sqrt(1-e*e)}const OP=["duration","bounce"],LP=["stiffness","damping","mass"];function _E(t,e){return e.some(n=>t[n]!==void 0)}function UP(t){let e={velocity:vt.velocity,stiffness:vt.stiffness,damping:vt.damping,mass:vt.mass,isResolvedFromDuration:!1,...t};if(!_E(t,LP)&&_E(t,OP))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Ms(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:vt.mass,stiffness:a,damping:l}}else{const n=kP(t);e={...e,...n,mass:vt.mass},e.isResolvedFromDuration=!0}return e}function nf(t=vt.visualDuration,e=vt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:g,mass:v,duration:x,velocity:T,isResolvedFromDuration:w}=UP({...n,velocity:-qi(n.velocity||0)}),S=T||0,j=g/(2*Math.sqrt(m*v)),M=u-l,V=qi(Math.sqrt(m/v)),Y=Math.abs(M)<5;s||(s=Y?vt.restSpeed.granular:vt.restSpeed.default),a||(a=Y?vt.restDelta.granular:vt.restDelta.default);let H;if(j<1){const F=Xg(V,j);H=U=>{const N=Math.exp(-j*V*U);return u-N*((S+j*V*M)/F*Math.sin(F*U)+M*Math.cos(F*U))}}else if(j===1)H=F=>u-Math.exp(-V*F)*(M+(S+V*M)*F);else{const F=V*Math.sqrt(j*j-1);H=U=>{const N=Math.exp(-j*V*U),C=Math.min(F*U,300);return u-N*((S+j*V*M)*Math.sinh(C)+F*M*Math.cosh(C))/F}}const te={calculatedDuration:w&&x||null,next:F=>{const U=H(F);if(w)d.done=F>=x;else{let N=F===0?S:0;j<1&&(N=F===0?Hi(S):$2(H,F,U));const C=Math.abs(N)<=s,D=Math.abs(u-U)<=a;d.done=C&&D}return d.value=d.done?u:U,d},toString:()=>{const F=Math.min(Ov(te),tf),U=G2(N=>te.next(F*N).value,F,30);return F+"ms "+U},toTransition:()=>{}};return te}nf.applyToOptions=t=>{const e=DP(t,100,nf);return t.ease=e.ease,t.duration=Hi(e.duration),t.type="keyframes",t};function Wg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:m,restDelta:g=.5,restSpeed:v}){const x=t[0],T={done:!1,value:x},w=C=>d!==void 0&&C<d||m!==void 0&&C>m,S=C=>d===void 0?m:m===void 0||Math.abs(d-C)<Math.abs(m-C)?d:m;let j=n*e;const M=x+j,V=u===void 0?M:u(M);V!==M&&(j=V-x);const Y=C=>-j*Math.exp(-C/s),H=C=>V+Y(C),te=C=>{const D=Y(C),O=H(C);T.done=Math.abs(D)<=g,T.value=T.done?V:O};let F,U;const N=C=>{w(T.value)&&(F=C,U=nf({keyframes:[T.value,S(T.value)],velocity:$2(H,C,T.value),damping:a,stiffness:l,restDelta:g,restSpeed:v}))};return N(0),{calculatedDuration:null,next:C=>{let D=!1;return!U&&F===void 0&&(D=!0,te(C),N(C)),F!==void 0&&C>=F?U.next(C-F):(!D&&te(C),T)}}}function BP(t,e,n){const s=[],a=n||ks.mix||q2,l=t.length-1;for(let u=0;u<l;u++){let d=a(t[u],t[u+1]);if(e){const m=Array.isArray(e)?e[u]||si:e;d=wu(m,d)}s.push(d)}return s}function zP(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(Cv(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=BP(e,s,a),m=d.length,g=v=>{if(u&&v<t[0])return e[0];let x=0;if(m>1)for(;x<t.length-2&&!(v<t[x+1]);x++);const T=su(t[x],t[x+1],v);return d[x](T)};return n?v=>g(Ms(t[0],t[l-1],v)):g}function FP(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=su(0,e,s);t.push(dt(n,1,a))}}function HP(t){const e=[0];return FP(e,t.length-1),e}function qP(t,e){return t.map(n=>n*e)}function GP(t,e){return t.map(()=>e||k2).splice(0,t.length-1)}function Fc({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=nP(s)?s.map(dE):dE(s),l={done:!1,value:e[0]},u=qP(n&&n.length===e.length?n:HP(e),t),d=zP(u,e,{ease:Array.isArray(a)?a:GP(e,a)});return{calculatedDuration:t,next:m=>(l.value=d(m),l.done=m>=t,l)}}const $P=t=>t!==null;function Lv(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter($P),d=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const KP={decay:Wg,inertia:Wg,tween:Fc,keyframes:Fc,spring:nf};function K2(t){typeof t.type=="string"&&(t.type=KP[t.type])}class Uv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const YP=t=>t/100;class Bv extends Uv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,a;const{motionValue:n}=this.options;n&&n.updatedAt!==Cn.now()&&this.tick(Cn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(s=this.options).onStop)==null||a.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;K2(e);const{type:n=Fc,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:d}=e;const m=n||Fc;m!==Fc&&typeof d[0]!="number"&&(this.mixKeyframes=wu(YP,q2(d[0],d[1])),d=[0,100]);const g=m({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...d].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=Ov(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=g}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:v,repeat:x,repeatType:T,repeatDelay:w,type:S,onUpdate:j,finalKeyframe:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const V=this.currentTime-g*(this.playbackSpeed>=0?1:-1),Y=this.playbackSpeed>=0?V<0:V>a;this.currentTime=Math.max(V,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let H=this.currentTime,te=s;if(x){const C=Math.min(this.currentTime,a)/d;let D=Math.floor(C),O=C%1;!O&&C>=1&&(O=1),O===1&&D--,D=Math.min(D,x+1),!!(D%2)&&(T==="reverse"?(O=1-O,w&&(O-=w/d)):T==="mirror"&&(te=u)),H=Ms(0,1,O)*d}const F=Y?{done:!1,value:v[0]}:te.next(H);l&&(F.value=l(F.value));let{done:U}=F;!Y&&m!==null&&(U=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return N&&S!==Wg&&(F.value=Lv(v,this.options,M,this.speed)),j&&j(F.value),N&&this.finish(),F}then(e,n){return this.finished.then(e,n)}get duration(){return qi(this.calculatedDuration)}get time(){return qi(this.currentTime)}set time(e){var n;e=Hi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Cn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=qi(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:e=jP,startTime:n}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),(l=(a=this.options).onPlay)==null||l.call(a);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Cn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function QP(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ba=t=>t*180/Math.PI,Zg=t=>{const e=ba(Math.atan2(t[1],t[0]));return Jg(e)},XP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Zg,rotateZ:Zg,skewX:t=>ba(Math.atan(t[1])),skewY:t=>ba(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Jg=t=>(t=t%360,t<0&&(t+=360),t),xE=Zg,TE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),EE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),WP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:TE,scaleY:EE,scale:t=>(TE(t)+EE(t))/2,rotateX:t=>Jg(ba(Math.atan2(t[6],t[5]))),rotateY:t=>Jg(ba(Math.atan2(-t[2],t[0]))),rotateZ:xE,rotate:xE,skewX:t=>ba(Math.atan(t[4])),skewY:t=>ba(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ey(t){return t.includes("scale")?1:0}function ty(t,e){if(!t||t==="none")return ey(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=WP,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=XP,a=d}if(!a)return ey(e);const l=s[e],u=a[1].split(",").map(JP);return typeof l=="function"?l(u):u[l]}const ZP=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ty(n,e)};function JP(t){return parseFloat(t.trim())}const dl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fl=new Set(dl),bE=t=>t===hl||t===Ae,eV=new Set(["x","y","z"]),tV=dl.filter(t=>!eV.has(t));function nV(t){const e=[];return tV.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Aa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ty(e,"x"),y:(t,{transform:e})=>ty(e,"y")};Aa.translateX=Aa.x;Aa.translateY=Aa.y;const Ca=new Set;let ny=!1,iy=!1,sy=!1;function Y2(){if(iy){const t=Array.from(Ca).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=nV(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{var d;(d=s.getValue(l))==null||d.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}iy=!1,ny=!1,Ca.forEach(t=>t.complete(sy)),Ca.clear()}function Q2(){Ca.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(iy=!0)})}function iV(){sy=!0,Q2(),Y2(),sy=!1}class zv{constructor(e,n,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Ca.add(this),ny||(ny=!0,ft.read(Q2),ft.resolveKeyframes(Y2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a==null?void 0:a.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const d=s.readValue(n,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}QP(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ca.delete(this)}cancel(){this.state==="scheduled"&&(Ca.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const sV=t=>t.startsWith("--");function rV(t,e,n){sV(e)?t.style.setProperty(e,n):t.style[e]=n}const aV=Rv(()=>window.ScrollTimeline!==void 0),oV={};function lV(t,e){const n=Rv(t);return()=>oV[e]??n()}const X2=lV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Mc=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,wE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Mc([0,.65,.55,1]),circOut:Mc([.55,0,1,.45]),backIn:Mc([.31,.01,.66,-.59]),backOut:Mc([.33,1.53,.69,.99])};function W2(t,e){if(t)return typeof t=="function"?X2()?G2(t,e):"ease-out":P2(t)?Mc(t):Array.isArray(t)?t.map(n=>W2(n,e)||wE.easeOut):wE[t]}function cV(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:d="easeOut",times:m}={},g=void 0){const v={[e]:n};m&&(v.offset=m);const x=W2(d,a);Array.isArray(x)&&(v.easing=x);const T={delay:s,duration:a,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return g&&(T.pseudoElement=g),t.animate(v,T)}function Z2(t){return typeof t=="function"&&"applyToOptions"in t}function uV({type:t,...e}){return Z2(t)&&X2()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class hV extends Uv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:d,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,Cv(typeof e.type!="string");const g=uV(e);this.animation=cV(n,s,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=Lv(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):rV(n,s,v),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return qi(Number(e))}get time(){return qi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Hi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&aV()?(this.animation.timeline=e,si):n(this)}}const J2={anticipate:j2,backInOut:I2,circInOut:M2};function dV(t){return t in J2}function fV(t){typeof t.ease=="string"&&dV(t.ease)&&(t.ease=J2[t.ease])}const SE=10;class mV extends hV{constructor(e){fV(e),K2(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new Bv({...u,autoplay:!1}),m=Hi(this.finishedTime??this.time);n.setWithVelocity(d.sample(m-SE).value,d.sample(m).value,SE),d.stop()}}const AE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Cr.test(t)||t==="0")&&!t.startsWith("url("));function pV(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function gV(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=AE(a,e),d=AE(l,e);return!u||!d?!1:pV(t)||(n==="spring"||Z2(n))&&s}function Fv(t){return b2(t)&&"offsetHeight"in t}const yV=new Set(["opacity","clipPath","filter","transform"]),vV=Rv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function _V(t){var g;const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:u}=t;if(!Fv((g=e==null?void 0:e.owner)==null?void 0:g.current))return!1;const{onUpdate:d,transformTemplate:m}=e.owner.getProps();return vV()&&n&&yV.has(n)&&(n!=="transform"||!m)&&!d&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const xV=40;class TV extends Uv{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:d,name:m,motionValue:g,element:v,...x}){var S;super(),this.stop=()=>{var j,M;this._animation&&(this._animation.stop(),(j=this.stopTimeline)==null||j.call(this)),(M=this.keyframeResolver)==null||M.cancel()},this.createdAt=Cn.now();const T={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,name:m,motionValue:g,element:v,...x},w=(v==null?void 0:v.KeyframeResolver)||zv;this.keyframeResolver=new w(d,(j,M,V)=>this.onKeyframesResolved(j,M,T,!V),m,g,v),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:d,delay:m,isHandoff:g,onUpdate:v}=s;this.resolvedAt=Cn.now(),gV(e,l,u,d)||((ks.instantAnimations||!m)&&(v==null||v(Lv(e,s,n))),e[0]=e[e.length-1],s.duration=0,s.repeat=0);const T={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>xV?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},w=!g&&_V(T)?new mV({...T,element:T.motionValue.owner.current}):new Bv(T);w.finished.then(()=>this.notifyFinished()).catch(si),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),iV()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const EV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function bV(t){const e=EV.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function eA(t,e,n=1){const[s,a]=bV(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return E2(u)?parseFloat(u):u}return Mv(a)?eA(a,e,n+1):a}function Hv(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const tA=new Set(["width","height","top","left","right","bottom",...dl]),wV={test:t=>t==="auto",parse:t=>t},nA=t=>e=>e.test(t),iA=[hl,Ae,Gi,ur,pP,mP,wV],CE=t=>iA.find(nA(t));function SV(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||w2(t):!0}const AV=new Set(["brightness","contrast","saturate","opacity"]);function CV(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(kv)||[];if(!s)return t;const a=n.replace(s,"");let l=AV.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const RV=/\b([a-z-]*)\(.*?\)/gu,ry={...Cr,getAnimatableNone:t=>{const e=t.match(RV);return e?e.map(CV).join(" "):t}},RE={...hl,transform:Math.round},NV={rotate:ur,rotateX:ur,rotateY:ur,rotateZ:ur,scale:ld,scaleX:ld,scaleY:ld,scaleZ:ld,skew:ur,skewX:ur,skewY:ur,distance:Ae,translateX:Ae,translateY:Ae,translateZ:Ae,x:Ae,y:Ae,z:Ae,perspective:Ae,transformPerspective:Ae,opacity:ru,originX:mE,originY:mE,originZ:Ae},qv={borderWidth:Ae,borderTopWidth:Ae,borderRightWidth:Ae,borderBottomWidth:Ae,borderLeftWidth:Ae,borderRadius:Ae,radius:Ae,borderTopLeftRadius:Ae,borderTopRightRadius:Ae,borderBottomRightRadius:Ae,borderBottomLeftRadius:Ae,width:Ae,maxWidth:Ae,height:Ae,maxHeight:Ae,top:Ae,right:Ae,bottom:Ae,left:Ae,padding:Ae,paddingTop:Ae,paddingRight:Ae,paddingBottom:Ae,paddingLeft:Ae,margin:Ae,marginTop:Ae,marginRight:Ae,marginBottom:Ae,marginLeft:Ae,backgroundPositionX:Ae,backgroundPositionY:Ae,...NV,zIndex:RE,fillOpacity:ru,strokeOpacity:ru,numOctaves:RE},IV={...qv,color:an,backgroundColor:an,outlineColor:an,fill:an,stroke:an,borderColor:an,borderTopColor:an,borderRightColor:an,borderBottomColor:an,borderLeftColor:an,filter:ry,WebkitFilter:ry},sA=t=>IV[t];function rA(t,e){let n=sA(t);return n!==ry&&(n=Cr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const jV=new Set(["auto","none","0"]);function DV(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!jV.has(l)&&au(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=rA(n,a)}class MV extends zv{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let g=e[m];if(typeof g=="string"&&(g=g.trim(),Mv(g))){const v=eA(g,n.current);v!==void 0&&(e[m]=v),m===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!tA.has(s)||e.length!==2)return;const[a,l]=e,u=CE(a),d=CE(l);if(u!==d)if(bE(u)&&bE(d))for(let m=0;m<e.length;m++){const g=e[m];typeof g=="string"&&(e[m]=parseFloat(g))}else Aa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||SV(e[a]))&&s.push(a);s.length&&DV(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Aa[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){var d;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=Aa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([m,g])=>{e.getValue(m).set(g)}),this.resolveNoneKeyframes()}}const NE=30,kV=t=>!isNaN(parseFloat(t));class PV{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,a=!0)=>{var u,d;const l=Cn.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const m of this.dependents)m.dirty();a&&((d=this.events.renderRequest)==null||d.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Cn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=kV(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Nv);const s=this.events[e].add(n);return e==="change"?()=>{s(),ft.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Cn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>NE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,NE);return S2(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Jo(t,e){return new PV(t,e)}function VV(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=(n==null?void 0:n[t])??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const aA=(t,e)=>e&&typeof t=="number"?e.transform(t):t,{schedule:Gv}=V2(queueMicrotask,!1),fi={x:!1,y:!1};function oA(){return fi.x||fi.y}function OV(t){return t==="x"||t==="y"?fi[t]?null:(fi[t]=!0,()=>{fi[t]=!1}):fi.x||fi.y?null:(fi.x=fi.y=!0,()=>{fi.x=fi.y=!1})}function lA(t,e){const n=VV(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function IE(t){return!(t.pointerType==="touch"||oA())}function LV(t,e,n={}){const[s,a,l]=lA(t,n),u=d=>{if(!IE(d))return;const{target:m}=d,g=e(m,d);if(typeof g!="function"||!m)return;const v=x=>{IE(x)&&(g(x),m.removeEventListener("pointerleave",v))};m.addEventListener("pointerleave",v,a)};return s.forEach(d=>{d.addEventListener("pointerenter",u,a)}),l}const cA=(t,e)=>e?t===e?!0:cA(t,e.parentElement):!1,$v=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,UV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function BV(t){return UV.has(t.tagName)||t.tabIndex!==-1}const Cd=new WeakSet;function jE(t){return e=>{e.key==="Enter"&&t(e)}}function lg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const zV=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=jE(()=>{if(Cd.has(n))return;lg(n,"down");const a=jE(()=>{lg(n,"up")}),l=()=>lg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function DE(t){return $v(t)&&!oA()}function FV(t,e,n={}){const[s,a,l]=lA(t,n),u=d=>{const m=d.currentTarget;if(!DE(d))return;Cd.add(m);const g=e(m,d),v=(w,S)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",T),Cd.has(m)&&Cd.delete(m),DE(w)&&typeof g=="function"&&g(w,{success:S})},x=w=>{v(w,m===window||m===document||n.useGlobalTarget||cA(m,w.target))},T=w=>{v(w,!1)};window.addEventListener("pointerup",x,a),window.addEventListener("pointercancel",T,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",u,a),Fv(d)&&(d.addEventListener("focus",g=>zV(g,a)),!BV(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function uA(t){return b2(t)&&"ownerSVGElement"in t}function HV(t){return uA(t)&&t.tagName==="svg"}const cn=t=>!!(t&&t.getVelocity),qV=[...iA,an,Cr],GV=t=>qV.find(nA(t)),Kv=I.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class $V extends I.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=Fv(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function KV({children:t,isPresent:e,anchorX:n}){const s=I.useId(),a=I.useRef(null),l=I.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=I.useContext(Kv);return I.useInsertionEffect(()=>{const{width:d,height:m,top:g,left:v,right:x}=l.current;if(e||!a.current||!d||!m)return;const T=n==="left"?`left: ${v}`:`right: ${x}`;a.current.dataset.motionPopId=s;const w=document.createElement("style");return u&&(w.nonce=u),document.head.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${m}px !important;
            ${T}px !important;
            top: ${g}px !important;
          }
        `),()=>{document.head.contains(w)&&document.head.removeChild(w)}},[e]),h.jsx($V,{isPresent:e,childRef:a,sizeRef:l,children:I.cloneElement(t,{ref:a})})}const YV=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:d})=>{const m=bv(QV),g=I.useId();let v=!0,x=I.useMemo(()=>(v=!1,{id:g,initial:e,isPresent:n,custom:a,onExitComplete:T=>{m.set(T,!0);for(const w of m.values())if(!w)return;s&&s()},register:T=>(m.set(T,!1),()=>m.delete(T))}),[n,m,s]);return l&&v&&(x={...x}),I.useMemo(()=>{m.forEach((T,w)=>m.set(w,!1))},[n]),I.useEffect(()=>{!n&&!m.size&&s&&s()},[n]),u==="popLayout"&&(t=h.jsx(KV,{isPresent:n,anchorX:d,children:t})),h.jsx(Mf.Provider,{value:x,children:t})};function QV(){return new Map}function hA(t=!0){const e=I.useContext(Mf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=I.useId();I.useEffect(()=>{if(t)return a(l)},[t]);const u=I.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const cd=t=>t.key||"";function ME(t){const e=[];return I.Children.forEach(t,n=>{I.isValidElement(n)&&e.push(n)}),e}const Cu=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:d="left"})=>{const[m,g]=hA(u),v=I.useMemo(()=>ME(t),[t]),x=u&&!m?[]:v.map(cd),T=I.useRef(!0),w=I.useRef(v),S=bv(()=>new Map),[j,M]=I.useState(v),[V,Y]=I.useState(v);T2(()=>{T.current=!1,w.current=v;for(let F=0;F<V.length;F++){const U=cd(V[F]);x.includes(U)?S.delete(U):S.get(U)!==!0&&S.set(U,!1)}},[V,x.length,x.join("-")]);const H=[];if(v!==j){let F=[...v];for(let U=0;U<V.length;U++){const N=V[U],C=cd(N);x.includes(C)||(F.splice(U,0,N),H.push(N))}return l==="wait"&&H.length&&(F=H),Y(ME(F)),M(v),null}const{forceRender:te}=I.useContext(Ev);return h.jsx(h.Fragment,{children:V.map(F=>{const U=cd(F),N=u&&!m?!1:v===V||x.includes(U),C=()=>{if(S.has(U))S.set(U,!0);else return;let D=!0;S.forEach(O=>{O||(D=!1)}),D&&(te==null||te(),Y(w.current),u&&(g==null||g()),s&&s())};return h.jsx(YV,{isPresent:N,initial:!T.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,onExitComplete:N?void 0:C,anchorX:d,children:F},U)})})},dA=I.createContext({strict:!1}),kE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},el={};for(const t in kE)el[t]={isEnabled:e=>kE[t].some(n=>!!e[n])};function XV(t){for(const e in t)el[e]={...el[e],...t[e]}}const WV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function sf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||WV.has(t)}let fA=t=>!sf(t);function ZV(t){t&&(fA=e=>e.startsWith("on")?!sf(e):t(e))}try{ZV(require("@emotion/is-prop-valid").default)}catch{}function JV(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(fA(a)||n===!0&&sf(a)||!e&&!sf(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}function eO(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const kf=I.createContext({});function Pf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ou(t){return typeof t=="string"||Array.isArray(t)}const Yv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Qv=["initial",...Yv];function Vf(t){return Pf(t.animate)||Qv.some(e=>ou(t[e]))}function mA(t){return!!(Vf(t)||t.variants)}function tO(t,e){if(Vf(t)){const{initial:n,animate:s}=t;return{initial:n===!1||ou(n)?n:void 0,animate:ou(s)?s:void 0}}return t.inherit!==!1?e:{}}function nO(t){const{initial:e,animate:n}=tO(t,I.useContext(kf));return I.useMemo(()=>({initial:e,animate:n}),[PE(e),PE(n)])}function PE(t){return Array.isArray(t)?t.join(" "):t}const iO=Symbol.for("motionComponentSymbol");function Lo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function sO(t,e,n){return I.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Lo(n)&&(n.current=s))},[e])}const Xv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),rO="framerAppearId",pA="data-"+Xv(rO),gA=I.createContext({});function aO(t,e,n,s,a){var j,M;const{visualElement:l}=I.useContext(kf),u=I.useContext(dA),d=I.useContext(Mf),m=I.useContext(Kv).reducedMotion,g=I.useRef(null);s=s||u.renderer,!g.current&&s&&(g.current=s(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const v=g.current,x=I.useContext(gA);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&oO(g.current,n,a,x);const T=I.useRef(!1);I.useInsertionEffect(()=>{v&&T.current&&v.update(n,d)});const w=n[pA],S=I.useRef(!!w&&!((j=window.MotionHandoffIsComplete)!=null&&j.call(window,w))&&((M=window.MotionHasOptimisedAnimation)==null?void 0:M.call(window,w)));return T2(()=>{v&&(T.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),Gv.render(v.render),S.current&&v.animationState&&v.animationState.animateChanges())}),I.useEffect(()=>{v&&(!S.current&&v.animationState&&v.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var V;(V=window.MotionHandoffMarkAsComplete)==null||V.call(window,w)}),S.current=!1))}),v}function oO(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:d,layoutScroll:m,layoutRoot:g,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:yA(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||d&&Lo(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:m,layoutRoot:g})}function yA(t){if(t)return t.options.allowProjection!==!1?t.projection:yA(t.parent)}function lO({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:a}){t&&XV(t);function l(d,m){let g;const v={...I.useContext(Kv),...d,layoutId:cO(d)},{isStatic:x}=v,T=nO(d),w=s(d,x);if(!x&&wv){uO();const S=hO(v);g=S.MeasureLayout,T.visualElement=aO(a,w,v,e,S.ProjectionNode)}return h.jsxs(kf.Provider,{value:T,children:[g&&T.visualElement?h.jsx(g,{visualElement:T.visualElement,...v}):null,n(a,d,sO(w,T.visualElement,m),w,x,T.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const u=I.forwardRef(l);return u[iO]=a,u}function cO({layoutId:t}){const e=I.useContext(Ev).id;return e&&t!==void 0?e+"-"+t:t}function uO(t,e){I.useContext(dA).strict}function hO(t){const{drag:e,layout:n}=el;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const lu={};function dO(t){for(const e in t)lu[e]=t[e],Dv(e)&&(lu[e].isCSSVariable=!0)}function vA(t,{layout:e,layoutId:n}){return fl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!lu[t]||t==="opacity")}const fO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mO=dl.length;function pO(t,e,n){let s="",a=!0;for(let l=0;l<mO;l++){const u=dl[l],d=t[u];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(u.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const g=aA(d,qv[u]);if(!m){a=!1;const v=fO[u]||u;s+=`${v}(${g}) `}n&&(e[u]=g)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function Wv(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,d=!1;for(const m in e){const g=e[m];if(fl.has(m)){u=!0;continue}else if(Dv(m)){a[m]=g;continue}else{const v=aA(g,qv[m]);m.startsWith("origin")?(d=!0,l[m]=v):s[m]=v}}if(e.transform||(u||n?s.transform=pO(e,t.transform,n):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:g="50%",originZ:v=0}=l;s.transformOrigin=`${m} ${g} ${v}`}}const Zv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _A(t,e,n){for(const s in e)!cn(e[s])&&!vA(s,n)&&(t[s]=e[s])}function gO({transformTemplate:t},e){return I.useMemo(()=>{const n=Zv();return Wv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function yO(t,e){const n=t.style||{},s={};return _A(s,n,t),Object.assign(s,gO(t,e)),s}function vO(t,e){const n={},s=yO(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const _O={offset:"stroke-dashoffset",array:"stroke-dasharray"},xO={offset:"strokeDashoffset",array:"strokeDasharray"};function TO(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?_O:xO;t[l.offset]=Ae.transform(-s);const u=Ae.transform(e),d=Ae.transform(n);t[l.array]=`${u} ${d}`}function xA(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...d},m,g,v){if(Wv(t,d,g),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:T}=t;x.transform&&(T.transform=x.transform,delete x.transform),(T.transform||x.transformOrigin)&&(T.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),T.transform&&(T.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete x.transformBox),e!==void 0&&(x.x=e),n!==void 0&&(x.y=n),s!==void 0&&(x.scale=s),a!==void 0&&TO(x,a,l,u,!1)}const TA=()=>({...Zv(),attrs:{}}),EA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function EO(t,e,n,s){const a=I.useMemo(()=>{const l=TA();return xA(l,e,EA(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};_A(l,t.style,t),a.style={...l,...a.style}}return a}const bO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Jv(t){return typeof t!="string"||t.includes("-")?!1:!!(bO.indexOf(t)>-1||/[A-Z]/u.test(t))}function wO(t=!1){return(n,s,a,{latestValues:l},u)=>{const m=(Jv(n)?EO:vO)(s,l,u,n),g=JV(s,typeof n=="string",t),v=n!==I.Fragment?{...g,...m,ref:a}:{},{children:x}=s,T=I.useMemo(()=>cn(x)?x.get():x,[x]);return I.createElement(n,{...v,children:T})}}function VE(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function e0(t,e,n,s){if(typeof e=="function"){const[a,l]=VE(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=VE(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Rd(t){return cn(t)?t.get():t}function SO({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:AO(n,s,a,t),renderState:e()}}const bA=t=>(e,n)=>{const s=I.useContext(kf),a=I.useContext(Mf),l=()=>SO(t,e,s,a);return n?l():bv(l)};function AO(t,e,n,s){const a={},l=s(t,{});for(const T in l)a[T]=Rd(l[T]);let{initial:u,animate:d}=t;const m=Vf(t),g=mA(t);e&&g&&!m&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let v=n?n.initial===!1:!1;v=v||u===!1;const x=v?d:u;if(x&&typeof x!="boolean"&&!Pf(x)){const T=Array.isArray(x)?x:[x];for(let w=0;w<T.length;w++){const S=e0(t,T[w]);if(S){const{transitionEnd:j,transition:M,...V}=S;for(const Y in V){let H=V[Y];if(Array.isArray(H)){const te=v?H.length-1:0;H=H[te]}H!==null&&(a[Y]=H)}for(const Y in j)a[Y]=j[Y]}}}return a}function t0(t,e,n){var l;const{style:s}=t,a={};for(const u in s)(cn(s[u])||e.style&&cn(e.style[u])||vA(u,t)||((l=n==null?void 0:n.getValue(u))==null?void 0:l.liveStyle)!==void 0)&&(a[u]=s[u]);return a}const CO={useVisualState:bA({scrapeMotionValuesFromProps:t0,createRenderState:Zv})};function wA(t,e,n){const s=t0(t,e,n);for(const a in t)if(cn(t[a])||cn(e[a])){const l=dl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const RO={useVisualState:bA({scrapeMotionValuesFromProps:wA,createRenderState:TA})};function NO(t,e){return function(s,{forwardMotionProps:a}={forwardMotionProps:!1}){const u={...Jv(s)?RO:CO,preloadedFeatures:t,useRender:wO(a),createVisualElement:e,Component:s};return lO(u)}}function cu(t,e,n){const s=t.getProps();return e0(s,e,n!==void 0?n:s.custom,t)}const ay=t=>Array.isArray(t);function IO(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Jo(n))}function jO(t){return ay(t)?t[t.length-1]||0:t}function DO(t,e){const n=cu(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const d=jO(l[u]);IO(t,u,d)}}function MO(t){return!!(cn(t)&&t.add)}function oy(t,e){const n=t.getValue("willChange");if(MO(n))return n.add(e);if(!n&&ks.WillChange){const s=new ks.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function SA(t){return t.props[pA]}const kO=t=>t!==null;function PO(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(kO),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const VO={type:"spring",stiffness:500,damping:25,restSpeed:10},OO=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),LO={type:"keyframes",duration:.8},UO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},BO=(t,{keyframes:e})=>e.length>2?LO:fl.has(t)?t.startsWith("scale")?OO(e[1]):VO:UO;function zO({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:d,from:m,elapsed:g,...v}){return!!Object.keys(v).length}const n0=(t,e,n,s={},a,l)=>u=>{const d=Hv(s,t)||{},m=d.delay||s.delay||0;let{elapsed:g=0}=s;g=g-Hi(m);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-g,onUpdate:T=>{e.set(T),d.onUpdate&&d.onUpdate(T)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};zO(d)||Object.assign(v,BO(t,v)),v.duration&&(v.duration=Hi(v.duration)),v.repeatDelay&&(v.repeatDelay=Hi(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let x=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(x=!0)),(ks.instantAnimations||ks.skipAnimations)&&(x=!0,v.duration=0,v.delay=0),v.allowFlatten=!d.type&&!d.ease,x&&!l&&e.get()!==void 0){const T=PO(v.keyframes,d);if(T!==void 0){ft.update(()=>{v.onUpdate(T),v.onComplete()});return}}return d.isSync?new Bv(v):new TV(v)};function FO({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function AA(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...d}=e;s&&(l=s);const m=[],g=a&&t.animationState&&t.animationState.getState()[a];for(const v in d){const x=t.getValue(v,t.latestValues[v]??null),T=d[v];if(T===void 0||g&&FO(g,v))continue;const w={delay:n,...Hv(l||{},v)},S=x.get();if(S!==void 0&&!x.isAnimating&&!Array.isArray(T)&&T===S&&!w.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const V=SA(t);if(V){const Y=window.MotionHandoffAnimation(V,v,ft);Y!==null&&(w.startTime=Y,j=!0)}}oy(t,v),x.start(n0(v,x,T,t.shouldReduceMotion&&tA.has(v)?{type:!1}:w,t,j));const M=x.animation;M&&m.push(M)}return u&&Promise.all(m).then(()=>{ft.update(()=>{u&&DO(t,u)})}),m}function ly(t,e,n={}){var m;const s=cu(t,e,n.type==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(AA(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(g=0)=>{const{delayChildren:v=0,staggerChildren:x,staggerDirection:T}=a;return HO(t,e,v+g,x,T,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[g,v]=d==="beforeChildren"?[l,u]:[u,l];return g().then(()=>v())}else return Promise.all([l(),u(n.delay)])}function HO(t,e,n=0,s=0,a=1,l){const u=[],d=(t.variantChildren.size-1)*s,m=a===1?(g=0)=>g*s:(g=0)=>d-g*s;return Array.from(t.variantChildren).sort(qO).forEach((g,v)=>{g.notify("AnimationStart",e),u.push(ly(g,e,{...l,delay:n+m(v)}).then(()=>g.notify("AnimationComplete",e)))}),Promise.all(u)}function qO(t,e){return t.sortNodePosition(e)}function GO(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>ly(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=ly(t,e,n);else{const a=typeof e=="function"?cu(t,e,n.custom):e;s=Promise.all(AA(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function CA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const $O=Qv.length;function RA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?RA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<$O;n++){const s=Qv[n],a=t.props[s];(ou(a)||a===!1)&&(e[s]=a)}return e}const KO=[...Yv].reverse(),YO=Yv.length;function QO(t){return e=>Promise.all(e.map(({animation:n,options:s})=>GO(t,n,s)))}function XO(t){let e=QO(t),n=OE(),s=!0;const a=m=>(g,v)=>{var T;const x=cu(t,v,m==="exit"?(T=t.presenceContext)==null?void 0:T.custom:void 0);if(x){const{transition:w,transitionEnd:S,...j}=x;g={...g,...j,...S}}return g};function l(m){e=m(t)}function u(m){const{props:g}=t,v=RA(t.parent)||{},x=[],T=new Set;let w={},S=1/0;for(let M=0;M<YO;M++){const V=KO[M],Y=n[V],H=g[V]!==void 0?g[V]:v[V],te=ou(H),F=V===m?Y.isActive:null;F===!1&&(S=M);let U=H===v[V]&&H!==g[V]&&te;if(U&&s&&t.manuallyAnimateOnMount&&(U=!1),Y.protectedKeys={...w},!Y.isActive&&F===null||!H&&!Y.prevProp||Pf(H)||typeof H=="boolean")continue;const N=WO(Y.prevProp,H);let C=N||V===m&&Y.isActive&&!U&&te||M>S&&te,D=!1;const O=Array.isArray(H)?H:[H];let B=O.reduce(a(V),{});F===!1&&(B={});const{prevResolvedValues:q={}}=Y,k={...q,...B},st=le=>{C=!0,T.has(le)&&(D=!0,T.delete(le)),Y.needsAnimating[le]=!0;const fe=t.getValue(le);fe&&(fe.liveStyle=!1)};for(const le in k){const fe=B[le],Ve=q[le];if(w.hasOwnProperty(le))continue;let L=!1;ay(fe)&&ay(Ve)?L=!CA(fe,Ve):L=fe!==Ve,L?fe!=null?st(le):T.add(le):fe!==void 0&&T.has(le)?st(le):Y.protectedKeys[le]=!0}Y.prevProp=H,Y.prevResolvedValues=B,Y.isActive&&(w={...w,...B}),s&&t.blockInitialAnimation&&(C=!1),C&&(!(U&&N)||D)&&x.push(...O.map(le=>({animation:le,options:{type:V}})))}if(T.size){const M={};if(typeof g.initial!="boolean"){const V=cu(t,Array.isArray(g.initial)?g.initial[0]:g.initial);V&&V.transition&&(M.transition=V.transition)}T.forEach(V=>{const Y=t.getBaseTarget(V),H=t.getValue(V);H&&(H.liveStyle=!0),M[V]=Y??null}),x.push({animation:M})}let j=!!x.length;return s&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(j=!1),s=!1,j?e(x):Promise.resolve()}function d(m,g){var x;if(n[m].isActive===g)return Promise.resolve();(x=t.variantChildren)==null||x.forEach(T=>{var w;return(w=T.animationState)==null?void 0:w.setActive(m,g)}),n[m].isActive=g;const v=u(m);for(const T in n)n[T].protectedKeys={};return v}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=OE(),s=!0}}}function WO(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!CA(e,t):!1}function ya(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function OE(){return{animate:ya(!0),whileInView:ya(),whileHover:ya(),whileTap:ya(),whileDrag:ya(),whileFocus:ya(),exit:ya()}}class kr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class ZO extends kr{constructor(e){super(e),e.animationState||(e.animationState=XO(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Pf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let JO=0;class e9 extends kr{constructor(){super(...arguments),this.id=JO++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const t9={animation:{Feature:ZO},exit:{Feature:e9}};function uu(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Ru(t){return{point:{x:t.pageX,y:t.pageY}}}const n9=t=>e=>$v(e)&&t(e,Ru(e));function Hc(t,e,n,s){return uu(t,e,n9(n),s)}function NA({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function i9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function s9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}const IA=1e-4,r9=1-IA,a9=1+IA,jA=.01,o9=0-jA,l9=0+jA;function yn(t){return t.max-t.min}function c9(t,e,n){return Math.abs(t-e)<=n}function LE(t,e,n,s=.5){t.origin=s,t.originPoint=dt(e.min,e.max,t.origin),t.scale=yn(n)/yn(e),t.translate=dt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=r9&&t.scale<=a9||isNaN(t.scale))&&(t.scale=1),(t.translate>=o9&&t.translate<=l9||isNaN(t.translate))&&(t.translate=0)}function qc(t,e,n,s){LE(t.x,e.x,n.x,s?s.originX:void 0),LE(t.y,e.y,n.y,s?s.originY:void 0)}function UE(t,e,n){t.min=n.min+e.min,t.max=t.min+yn(e)}function u9(t,e,n){UE(t.x,e.x,n.x),UE(t.y,e.y,n.y)}function BE(t,e,n){t.min=e.min-n.min,t.max=t.min+yn(e)}function Gc(t,e,n){BE(t.x,e.x,n.x),BE(t.y,e.y,n.y)}const zE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Uo=()=>({x:zE(),y:zE()}),FE=()=>({min:0,max:0}),Et=()=>({x:FE(),y:FE()});function ei(t){return[t("x"),t("y")]}function cg(t){return t===void 0||t===1}function cy({scale:t,scaleX:e,scaleY:n}){return!cg(t)||!cg(e)||!cg(n)}function _a(t){return cy(t)||DA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function DA(t){return HE(t.x)||HE(t.y)}function HE(t){return t&&t!=="0%"}function rf(t,e,n){const s=t-n,a=e*s;return n+a}function qE(t,e,n,s,a){return a!==void 0&&(t=rf(t,a,s)),rf(t,n,s)+e}function uy(t,e=0,n=1,s,a){t.min=qE(t.min,e,n,s,a),t.max=qE(t.max,e,n,s,a)}function MA(t,{x:e,y:n}){uy(t.x,e.translate,e.scale,e.originPoint),uy(t.y,n.translate,n.scale,n.originPoint)}const GE=.999999999999,$E=1.0000000000001;function h9(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let d=0;d<a;d++){l=n[d],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&zo(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,MA(t,u)),s&&_a(l.latestValues)&&zo(t,l.latestValues))}e.x<$E&&e.x>GE&&(e.x=1),e.y<$E&&e.y>GE&&(e.y=1)}function Bo(t,e){t.min=t.min+e,t.max=t.max+e}function KE(t,e,n,s,a=.5){const l=dt(t.min,t.max,a);uy(t,e,n,l,s)}function zo(t,e){KE(t.x,e.x,e.scaleX,e.scale,e.originX),KE(t.y,e.y,e.scaleY,e.scale,e.originY)}function kA(t,e){return NA(s9(t.getBoundingClientRect(),e))}function d9(t,e,n){const s=kA(t,n),{scroll:a}=e;return a&&(Bo(s.x,a.offset.x),Bo(s.y,a.offset.y)),s}const PA=({current:t})=>t?t.ownerDocument.defaultView:null,YE=(t,e)=>Math.abs(t-e);function f9(t,e){const n=YE(t.x,e.x),s=YE(t.y,e.y);return Math.sqrt(n**2+s**2)}class VA{constructor(e,n,{transformPagePoint:s,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=hg(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,w=f9(x.offset,{x:0,y:0})>=3;if(!T&&!w)return;const{point:S}=x,{timestamp:j}=Xt;this.history.push({...S,timestamp:j});const{onStart:M,onMove:V}=this.handlers;T||(M&&M(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),V&&V(this.lastMoveEvent,x)},this.handlePointerMove=(x,T)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=ug(T,this.transformPagePoint),ft.update(this.updatePoint,!0)},this.handlePointerUp=(x,T)=>{this.end();const{onEnd:w,onSessionEnd:S,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=hg(x.type==="pointercancel"?this.lastMoveEventInfo:ug(T,this.transformPagePoint),this.history);this.startEvent&&w&&w(x,M),S&&S(x,M)},!$v(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.contextWindow=a||window;const u=Ru(e),d=ug(u,this.transformPagePoint),{point:m}=d,{timestamp:g}=Xt;this.history=[{...m,timestamp:g}];const{onSessionStart:v}=n;v&&v(e,hg(d,this.history)),this.removeListeners=wu(Hc(this.contextWindow,"pointermove",this.handlePointerMove),Hc(this.contextWindow,"pointerup",this.handlePointerUp),Hc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ar(this.updatePoint)}}function ug(t,e){return e?{point:e(t.point)}:t}function QE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function hg({point:t},e){return{point:t,delta:QE(t,OA(e)),offset:QE(t,m9(e)),velocity:p9(e,.1)}}function m9(t){return t[0]}function OA(t){return t[t.length-1]}function p9(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=OA(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>Hi(e)));)n--;if(!s)return{x:0,y:0};const l=qi(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function g9(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?dt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?dt(n,t,s.max):Math.min(t,n)),t}function XE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function y9(t,{top:e,left:n,bottom:s,right:a}){return{x:XE(t.x,n,a),y:XE(t.y,e,s)}}function WE(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function v9(t,e){return{x:WE(t.x,e.x),y:WE(t.y,e.y)}}function _9(t,e){let n=.5;const s=yn(t),a=yn(e);return a>s?n=su(e.min,e.max-s,t.min):s>a&&(n=su(t.min,t.max-a,e.min)),Ms(0,1,n)}function x9(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const hy=.35;function T9(t=hy){return t===!1?t=0:t===!0&&(t=hy),{x:ZE(t,"left","right"),y:ZE(t,"top","bottom")}}function ZE(t,e,n){return{min:JE(t,e),max:JE(t,n)}}function JE(t,e){return typeof t=="number"?t:t[e]||0}const E9=new WeakMap;class b9{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Et(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=v=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ru(v).point)},l=(v,x)=>{const{drag:T,dragPropagation:w,onDragStart:S}=this.getProps();if(T&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=OV(T),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ei(M=>{let V=this.getAxisMotionValue(M).get()||0;if(Gi.test(V)){const{projection:Y}=this.visualElement;if(Y&&Y.layout){const H=Y.layout.layoutBox[M];H&&(V=yn(H)*(parseFloat(V)/100))}}this.originPoint[M]=V}),S&&ft.postRender(()=>S(v,x)),oy(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},u=(v,x)=>{const{dragPropagation:T,dragDirectionLock:w,onDirectionLock:S,onDrag:j}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:M}=x;if(w&&this.currentDirection===null){this.currentDirection=w9(M),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",x.point,M),this.updateAxis("y",x.point,M),this.visualElement.render(),j&&j(v,x)},d=(v,x)=>this.stop(v,x),m=()=>ei(v=>{var x;return this.getAnimationState(v)==="paused"&&((x=this.getAxisMotionValue(v).animation)==null?void 0:x.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new VA(e,{onSessionStart:a,onStart:l,onMove:u,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,contextWindow:PA(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&ft.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!ud(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=g9(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&Lo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=y9(s.layoutBox,e):this.constraints=!1,this.elastic=T9(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ei(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=x9(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Lo(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=d9(s,a.root,this.visualElement.getTransformPagePoint());let u=v9(a.layout.layoutBox,l);if(n){const d=n(i9(u));this.hasMutatedConstraints=!!d,d&&(u=NA(d))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},g=ei(v=>{if(!ud(v,n,this.currentDirection))return;let x=m&&m[v]||{};u&&(x={min:0,max:0});const T=a?200:1e6,w=a?40:1e7,S={type:"inertia",velocity:s?e[v]:0,bounceStiffness:T,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...l,...x};return this.startAxisValueAnimation(v,S)});return Promise.all(g).then(d)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return oy(this.visualElement,e),s.start(n0(e,s,0,n,this.visualElement,!1))}stopAnimation(){ei(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ei(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){ei(n=>{const{drag:s}=this.getProps();if(!ud(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:d}=a.layout.layoutBox[n];l.set(e[n]-dt(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Lo(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ei(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const m=d.get();a[u]=_9({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ei(u=>{if(!ud(u,e,null))return;const d=this.getAxisMotionValue(u),{min:m,max:g}=this.constraints[u];d.set(dt(m,g,a[u]))})}addListeners(){if(!this.visualElement.current)return;E9.set(this.visualElement,this);const e=this.visualElement.current,n=Hc(e,"pointerdown",m=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();Lo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ft.read(s);const u=uu(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(ei(v=>{const x=this.getAxisMotionValue(v);x&&(this.originPoint[v]+=m[v].translate,x.set(x.get()+m[v].translate))}),this.visualElement.render())});return()=>{u(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=hy,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function ud(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function w9(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class S9 extends kr{constructor(e){super(e),this.removeGroupControls=si,this.removeListeners=si,this.controls=new b9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||si}unmount(){this.removeGroupControls(),this.removeListeners()}}const eb=t=>(e,n)=>{t&&ft.postRender(()=>t(e,n))};class A9 extends kr{constructor(){super(...arguments),this.removePointerDownListener=si}onPointerDown(e){this.session=new VA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:PA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:eb(e),onStart:eb(n),onMove:s,onEnd:(l,u)=>{delete this.session,a&&ft.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Hc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Nd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function tb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ac={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ae.test(t))t=parseFloat(t);else return t;const n=tb(t,e.target.x),s=tb(t,e.target.y);return`${n}% ${s}%`}},C9={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Cr.parse(t);if(a.length>5)return s;const l=Cr.createTransformer(t),u=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,m=n.y.scale*e.y;a[0+u]/=d,a[1+u]/=m;const g=dt(d,m,.5);return typeof a[2+u]=="number"&&(a[2+u]/=g),typeof a[3+u]=="number"&&(a[3+u]/=g),l(a)}};class R9 extends I.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;dO(N9),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Nd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||ft.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Gv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function LA(t){const[e,n]=hA(),s=I.useContext(Ev);return h.jsx(R9,{...t,layoutGroup:s,switchLayoutGroup:I.useContext(gA),isPresent:e,safeToRemove:n})}const N9={borderRadius:{...Ac,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ac,borderTopRightRadius:Ac,borderBottomLeftRadius:Ac,borderBottomRightRadius:Ac,boxShadow:C9};function I9(t,e,n){const s=cn(t)?t:Jo(t);return s.start(n0("",s,e,n)),s.animation}const j9=(t,e)=>t.depth-e.depth;class D9{constructor(){this.children=[],this.isDirty=!1}add(e){Sv(this.children,e),this.isDirty=!0}remove(e){Av(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(j9),this.isDirty=!1,this.children.forEach(e)}}function M9(t,e){const n=Cn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Ar(s),t(l-e))};return ft.setup(s,!0),()=>Ar(s)}const UA=["TopLeft","TopRight","BottomLeft","BottomRight"],k9=UA.length,nb=t=>typeof t=="string"?parseFloat(t):t,ib=t=>typeof t=="number"||Ae.test(t);function P9(t,e,n,s,a,l){a?(t.opacity=dt(0,n.opacity??1,V9(s)),t.opacityExit=dt(e.opacity??1,0,O9(s))):l&&(t.opacity=dt(e.opacity??1,n.opacity??1,s));for(let u=0;u<k9;u++){const d=`border${UA[u]}Radius`;let m=sb(e,d),g=sb(n,d);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||ib(m)===ib(g)?(t[d]=Math.max(dt(nb(m),nb(g),s),0),(Gi.test(g)||Gi.test(m))&&(t[d]+="%")):t[d]=g}(e.rotate||n.rotate)&&(t.rotate=dt(e.rotate||0,n.rotate||0,s))}function sb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const V9=BA(0,.5,D2),O9=BA(.5,.95,si);function BA(t,e,n){return s=>s<t?0:s>e?1:n(su(t,e,s))}function rb(t,e){t.min=e.min,t.max=e.max}function Jn(t,e){rb(t.x,e.x),rb(t.y,e.y)}function ab(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function ob(t,e,n,s,a){return t-=e,t=rf(t,1/n,s),a!==void 0&&(t=rf(t,1/a,s)),t}function L9(t,e=0,n=1,s=.5,a,l=t,u=t){if(Gi.test(e)&&(e=parseFloat(e),e=dt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=dt(l.min,l.max,s);t===l&&(d-=e),t.min=ob(t.min,e,n,d,a),t.max=ob(t.max,e,n,d,a)}function lb(t,e,[n,s,a],l,u){L9(t,e[n],e[s],e[a],e.scale,l,u)}const U9=["x","scaleX","originX"],B9=["y","scaleY","originY"];function cb(t,e,n,s){lb(t.x,e,U9,n?n.x:void 0,s?s.x:void 0),lb(t.y,e,B9,n?n.y:void 0,s?s.y:void 0)}function ub(t){return t.translate===0&&t.scale===1}function zA(t){return ub(t.x)&&ub(t.y)}function hb(t,e){return t.min===e.min&&t.max===e.max}function z9(t,e){return hb(t.x,e.x)&&hb(t.y,e.y)}function db(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function FA(t,e){return db(t.x,e.x)&&db(t.y,e.y)}function fb(t){return yn(t.x)/yn(t.y)}function mb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class F9{constructor(){this.members=[]}add(e){Sv(this.members,e),e.scheduleRender()}remove(e){if(Av(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function H9(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:g,rotate:v,rotateX:x,rotateY:T,skewX:w,skewY:S}=n;g&&(s=`perspective(${g}px) ${s}`),v&&(s+=`rotate(${v}deg) `),x&&(s+=`rotateX(${x}deg) `),T&&(s+=`rotateY(${T}deg) `),w&&(s+=`skewX(${w}deg) `),S&&(s+=`skewY(${S}deg) `)}const d=t.x.scale*e.x,m=t.y.scale*e.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const dg=["","X","Y","Z"],q9={visibility:"hidden"},G9=1e3;let $9=0;function fg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function HA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=SA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ft,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&HA(s)}function qA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},d=e==null?void 0:e()){this.id=$9++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Q9),this.nodes.forEach(e6),this.nodes.forEach(t6),this.nodes.forEach(X9)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new D9)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Nv),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const m=this.eventHandlers.get(u);m&&m.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=uA(u)&&!HV(u),this.instance=u;const{layoutId:d,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),t){let v;const x=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=M9(x,250),Nd.hasAnimatedSinceResize&&(Nd.hasAnimatedSinceResize=!1,this.nodes.forEach(gb))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:x,hasRelativeLayoutChanged:T,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||g.getDefaultTransition()||a6,{onLayoutAnimationStart:j,onLayoutAnimationComplete:M}=g.getProps(),V=!this.targetLayout||!FA(this.targetLayout,w),Y=!x&&T;if(this.options.layoutRoot||this.resumeFrom||Y||x&&(V||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const H={...Hv(S,"layout"),onPlay:j,onComplete:M};(g.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H),this.setAnimationOrigin(v,Y)}else x||gb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ar(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(n6),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&HA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const x=this.path[v];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(pb);return}this.isUpdating||this.nodes.forEach(Z9),this.isUpdating=!1,this.nodes.forEach(J9),this.nodes.forEach(K9),this.nodes.forEach(Y9),this.clearAllSnapshots();const d=Cn.now();Xt.delta=Ms(0,1e3/60,d-Xt.timestamp),Xt.timestamp=d,Xt.isProcessing=!0,sg.update.process(Xt),sg.preRender.process(Xt),sg.render.process(Xt),Xt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Gv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(W9),this.sharedNodes.forEach(i6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!yn(this.snapshot.measuredBox.x)&&!yn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!zA(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;u&&this.instance&&(d||_a(this.latestValues)||v)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return u&&(m=this.removeTransform(m)),o6(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var g;const{visualElement:u}=this.options;if(!u)return Et();const d=u.measureViewportBox();if(!(((g=this.scroll)==null?void 0:g.wasRoot)||this.path.some(l6))){const{scroll:v}=this.root;v&&(Bo(d.x,v.offset.x),Bo(d.y,v.offset.y))}return d}removeElementScroll(u){var m;const d=Et();if(Jn(d,u),(m=this.scroll)!=null&&m.wasRoot)return d;for(let g=0;g<this.path.length;g++){const v=this.path[g],{scroll:x,options:T}=v;v!==this.root&&x&&T.layoutScroll&&(x.wasRoot&&Jn(d,u),Bo(d.x,x.offset.x),Bo(d.y,x.offset.y))}return d}applyTransform(u,d=!1){const m=Et();Jn(m,u);for(let g=0;g<this.path.length;g++){const v=this.path[g];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&zo(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),_a(v.latestValues)&&zo(m,v.latestValues)}return _a(this.latestValues)&&zo(m,this.latestValues),m}removeTransform(u){const d=Et();Jn(d,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!_a(g.latestValues))continue;cy(g.latestValues)&&g.updateSnapshot();const v=Et(),x=g.measurePageBox();Jn(v,x),cb(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return _a(this.latestValues)&&cb(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var T;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:x}=this.options;if(!(!this.layout||!(v||x))){if(this.resolvedRelativeTargetAt=Xt.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),Gc(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Jn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Et(),this.targetWithTransforms=Et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),u9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Jn(this.target,this.layout.layoutBox),MA(this.target,this.targetDelta)):Jn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),Gc(this.relativeTargetOrigin,this.target,w.target),Jn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||cy(this.parent.latestValues)||DA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var S;const u=this.getLead(),d=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Xt.timestamp&&(m=!1),m)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Jn(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,T=this.treeScale.y;h9(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Et());const{target:w}=u;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ab(this.prevProjectionDelta.x,this.projectionDelta.x),ab(this.prevProjectionDelta.y,this.projectionDelta.y)),qc(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==T||!mb(this.projectionDelta.x,this.prevProjectionDelta.x)||!mb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),u){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Uo(),this.projectionDelta=Uo(),this.projectionDeltaWithTransform=Uo()}setAnimationOrigin(u,d=!1){const m=this.snapshot,g=m?m.latestValues:{},v={...this.latestValues},x=Uo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const T=Et(),w=m?m.source:void 0,S=this.layout?this.layout.source:void 0,j=w!==S,M=this.getStack(),V=!M||M.members.length<=1,Y=!!(j&&!V&&this.options.crossfade===!0&&!this.path.some(r6));this.animationProgress=0;let H;this.mixTargetDelta=te=>{const F=te/1e3;yb(x.x,u.x,F),yb(x.y,u.y,F),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Gc(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),s6(this.relativeTarget,this.relativeTargetOrigin,T,F),H&&z9(this.relativeTarget,H)&&(this.isProjectionDirty=!1),H||(H=Et()),Jn(H,this.relativeTarget)),j&&(this.animationValues=v,P9(v,g,this.latestValues,F,Y,V)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var d,m,g;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(g=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||g.stop(),this.pendingAnimation&&(Ar(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ft.update(()=>{Nd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Jo(0)),this.currentAnimation=I9(this.motionValue,[0,1e3],{...u,isSync:!0,onUpdate:v=>{this.mixTargetDelta(v),u.onUpdate&&u.onUpdate(v)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(G9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:m,layout:g,latestValues:v}=u;if(!(!d||!m||!g)){if(this!==u&&this.layout&&g&&GA(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||Et();const x=yn(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+x;const T=yn(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+T}Jn(d,m),zo(d,v),qc(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new F9),this.sharedNodes.get(u).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var d;const{layoutId:u}=this.options;return u?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:u}=this.options;return u?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const g={};m.z&&fg("z",u,g,this.animationValues);for(let v=0;v<dg.length;v++)fg(`rotate${dg[v]}`,u,g,this.animationValues),fg(`skew${dg[v]}`,u,g,this.animationValues);u.render();for(const v in g)u.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);u.scheduleRender()}getProjectionStyles(u){if(!this.instance||this.isSVG)return;if(!this.isVisible)return q9;const d={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Rd(u==null?void 0:u.pointerEvents)||"",d.transform=m?m(this.latestValues,""):"none",d;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Rd(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!_a(this.latestValues)&&(w.transform=m?m({},""):"none",this.hasProjected=!1),w}const v=g.animationValues||g.latestValues;this.applyTransformsToTarget(),d.transform=H9(this.projectionDeltaWithTransform,this.treeScale,v),m&&(d.transform=m(v,d.transform));const{x,y:T}=this.projectionDelta;d.transformOrigin=`${x.origin*100}% ${T.origin*100}% 0`,g.animationValues?d.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:d.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const w in lu){if(v[w]===void 0)continue;const{correct:S,applyTo:j,isCSSVariable:M}=lu[w],V=d.transform==="none"?v[w]:S(v[w],g);if(j){const Y=j.length;for(let H=0;H<Y;H++)d[j[H]]=V}else M?this.options.visualElement.renderState.vars[w]=V:d[w]=V}return this.options.layoutId&&(d.pointerEvents=g===this?Rd(u==null?void 0:u.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var d;return(d=u.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(pb),this.root.sharedNodes.clear()}}}function K9(t){t.updateLayout()}function Y9(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=t.layout,{animationType:l}=t.options,u=e.source!==t.layout.source;l==="size"?ei(x=>{const T=u?e.measuredBox[x]:e.layoutBox[x],w=yn(T);T.min=s[x].min,T.max=T.min+w}):GA(l,e.layoutBox,s)&&ei(x=>{const T=u?e.measuredBox[x]:e.layoutBox[x],w=yn(s[x]);T.max=T.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[x].max=t.relativeTarget[x].min+w)});const d=Uo();qc(d,s,e.layoutBox);const m=Uo();u?qc(m,t.applyTransform(a,!0),e.measuredBox):qc(m,s,e.layoutBox);const g=!zA(d);let v=!1;if(!t.resumeFrom){const x=t.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:T,layout:w}=x;if(T&&w){const S=Et();Gc(S,e.layoutBox,T.layoutBox);const j=Et();Gc(j,s,w.layoutBox),FA(S,j)||(v=!0),x.options.layoutRoot&&(t.relativeTarget=j,t.relativeTargetOrigin=S,t.relativeParent=x)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:m,layoutDelta:d,hasLayoutChanged:g,hasRelativeLayoutChanged:v})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function Q9(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function X9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function W9(t){t.clearSnapshot()}function pb(t){t.clearMeasurements()}function Z9(t){t.isLayoutDirty=!1}function J9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function gb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function e6(t){t.resolveTargetDelta()}function t6(t){t.calcProjection()}function n6(t){t.resetSkewAndRotation()}function i6(t){t.removeLeadSnapshot()}function yb(t,e,n){t.translate=dt(e.translate,0,n),t.scale=dt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function vb(t,e,n,s){t.min=dt(e.min,n.min,s),t.max=dt(e.max,n.max,s)}function s6(t,e,n,s){vb(t.x,e.x,n.x,s),vb(t.y,e.y,n.y,s)}function r6(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const a6={duration:.45,ease:[.4,0,.1,1]},_b=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),xb=_b("applewebkit/")&&!_b("chrome/")?Math.round:si;function Tb(t){t.min=xb(t.min),t.max=xb(t.max)}function o6(t){Tb(t.x),Tb(t.y)}function GA(t,e,n){return t==="position"||t==="preserve-aspect"&&!c9(fb(e),fb(n),.2)}function l6(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const c6=qA({attachResizeListener:(t,e)=>uu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),mg={current:void 0},$A=qA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!mg.current){const t=new c6({});t.mount(window),t.setOptions({layoutScroll:!0}),mg.current=t}return mg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),u6={pan:{Feature:A9},drag:{Feature:S9,ProjectionNode:$A,MeasureLayout:LA}};function Eb(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&ft.postRender(()=>l(e,Ru(e)))}class h6 extends kr{mount(){const{current:e}=this.node;e&&(this.unmount=LV(e,(n,s)=>(Eb(this.node,s,"Start"),a=>Eb(this.node,a,"End"))))}unmount(){}}class d6 extends kr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wu(uu(this.node.current,"focus",()=>this.onFocus()),uu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function bb(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&ft.postRender(()=>l(e,Ru(e)))}class f6 extends kr{mount(){const{current:e}=this.node;e&&(this.unmount=FV(e,(n,s)=>(bb(this.node,s,"Start"),(a,{success:l})=>bb(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const dy=new WeakMap,pg=new WeakMap,m6=t=>{const e=dy.get(t.target);e&&e(t)},p6=t=>{t.forEach(m6)};function g6({root:t,...e}){const n=t||document;pg.has(n)||pg.set(n,{});const s=pg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(p6,{root:t,...e})),s[a]}function y6(t,e,n){const s=g6(e);return dy.set(t,n),s.observe(t),()=>{dy.delete(t),s.unobserve(t)}}const v6={some:0,all:1};class _6 extends kr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:v6[a]},d=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:x}=this.node.getProps(),T=g?v:x;T&&T(m)};return y6(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(x6(e,n))&&this.startObserver()}unmount(){}}function x6({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const T6={inView:{Feature:_6},tap:{Feature:f6},focus:{Feature:d6},hover:{Feature:h6}},E6={layout:{ProjectionNode:$A,MeasureLayout:LA}},fy={current:null},KA={current:!1};function b6(){if(KA.current=!0,!!wv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>fy.current=t.matches;t.addListener(e),e()}else fy.current=!1}const w6=new WeakMap;function S6(t,e,n){for(const s in e){const a=e[s],l=n[s];if(cn(a))t.addValue(s,a);else if(cn(l))t.addValue(s,Jo(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,Jo(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const wb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class A6{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=zv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=Cn.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,ft.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=g,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Vf(n),this.isVariantNode=mA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...x}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in x){const w=x[T];m[T]!==void 0&&cn(w)&&w.set(m[T],!1)}}mount(e){this.current=e,w6.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),KA.current||b6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:fy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ar(this.notifyUpdate),Ar(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=fl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&ft.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in el){const n=el[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Et()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<wb.length;s++){const a=wb[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=S6(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Jo(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(E2(s)||w2(s))?s=parseFloat(s):!GV(s)&&Cr.test(n)&&(s=rA(e,n)),this.setBaseTarget(e,cn(s)?s.get():s)),cn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const u=e0(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);u&&(s=u[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!cn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Nv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class YA extends A6{constructor(){super(...arguments),this.KeyframeResolver=MV}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;cn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function QA(t,{style:e,vars:n},s,a){Object.assign(t.style,e,a&&a.getProjectionStyles(s));for(const l in n)t.style.setProperty(l,n[l])}function C6(t){return window.getComputedStyle(t)}class R6 extends YA{constructor(){super(...arguments),this.type="html",this.renderInstance=QA}readValueFromInstance(e,n){var s;if(fl.has(n))return(s=this.projection)!=null&&s.isProjecting?ey(n):ZP(e,n);{const a=C6(e),l=(Dv(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return kA(e,n)}build(e,n,s){Wv(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return t0(e,n,s)}}const XA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function N6(t,e,n,s){QA(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(XA.has(a)?a:Xv(a),e.attrs[a])}class I6 extends YA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Et}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(fl.has(n)){const s=sA(n);return s&&s.default||0}return n=XA.has(n)?n:Xv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return wA(e,n,s)}build(e,n,s){xA(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){N6(e,n,s,a)}mount(e){this.isSVGTag=EA(e.tagName),super.mount(e)}}const j6=(t,e)=>Jv(t)?new I6(e):new R6(e,{allowProjection:t!==I.Fragment}),D6=NO({...t9,...T6,...u6,...E6},j6),pe=eO(D6),Sb=[{type:"food",title:"Питание на неделю",price:20,desc:"Персональное меню на 7 дней, список покупок, рекомендации по питанию.",features:["Индивидуальный расчет калорий","Учет пищевых предпочтений","Список продуктов для закупки","Рецепты и инструкции на 7 дней"],icon:"🥗"},{type:"workout",title:"Тренировки на неделю",price:30,desc:"План тренировок на 7 дней, упражнения, видео и советы.",features:["Персональный план тренировок","Видео-инструкции к упражнениям","Отслеживание прогресса на неделю","Адаптация под ваш уровень"],icon:"💪"},{type:"combo",title:"Комбо: питание + тренировки на неделю",price:40,oldPrice:50,desc:"Всё включено: рацион и тренировки на 7 дней для максимального результата.",features:["Синхронизированные планы на неделю","Максимальная эффективность","Приоритетная поддержка","Доступ к премиум-контенту","Выгоднее, чем покупать по отдельности"],highlight:!0,icon:"🔥",savingInfo:"Экономия 10 руб. по сравнению с покупкой по отдельности"}],M6=()=>h.jsx("div",{className:"animated-background",children:[...Array(20)].map((t,e)=>h.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${5+Math.random()*10}s`,width:`${10+Math.random()*30}px`,height:`${10+Math.random()*30}px`,opacity:.1+Math.random()*.2}},e))}),k6=({features:t})=>h.jsx("ul",{className:"tariff-features",children:t.map((e,n)=>h.jsxs(pe.li,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:n*.1},className:"tariff-feature",children:[h.jsx("span",{className:"feature-check",children:"✓"})," ",e]},n))}),P6=()=>h.jsxs("div",{className:"payment-methods",children:[h.jsx("h3",{children:"Способы оплаты"}),h.jsxs("div",{className:"payment-icons",children:[h.jsx("div",{className:"payment-icon visa"}),h.jsx("div",{className:"payment-icon mastercard"}),h.jsx("div",{className:"payment-icon mir"}),h.jsx("div",{className:"payment-icon applepay"}),h.jsx("div",{className:"payment-icon googlepay"})]})]});function V6(){const[t,e]=I.useState("combo"),[n,s]=I.useState(!1),a=Un(),l=Sb.find(d=>d.type===t),u=()=>{s(!0),localStorage.setItem("fitgenius_paid_type",t),setTimeout(()=>a("/dashboard"),2e3)};return h.jsxs("div",{className:"pay-bg",children:[h.jsx(M6,{}),h.jsxs(pe.div,{className:"pay-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[h.jsx(pe.h1,{className:"pay-heading",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},children:"Выберите подходящий тариф"}),h.jsx(pe.p,{className:"pay-subheading",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.5},children:"Инвестируйте в своё здоровье и достигайте целей с FitGenius"}),h.jsx("div",{className:"pay-tariffs",children:Sb.map((d,m)=>h.jsxs(pe.div,{className:`pay-tariff ${t===d.type?"selected":""} ${d.highlight?"highlight":""}`,onClick:()=>e(d.type),initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2+m*.1,duration:.5},whileHover:{y:-5,boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)"},children:[d.highlight&&h.jsx("div",{className:"pay-badge",children:h.jsx("span",{children:"Выгодно! Экономия 20%"})}),h.jsx("div",{className:"tariff-icon",children:d.icon}),h.jsx("h3",{className:"pay-title",children:d.title}),h.jsx("p",{className:"pay-desc",children:d.desc}),h.jsxs("div",{className:"pay-price",children:[d.oldPrice&&h.jsxs("span",{className:"old-price",children:[d.oldPrice," руб."]}),h.jsxs("span",{className:"current-price",children:[d.price," руб."]}),d.savingInfo&&h.jsx("div",{className:"saving-info",children:d.savingInfo})]}),h.jsx(k6,{features:d.features}),h.jsx(pe.button,{className:`tariff-select-btn ${t===d.type?"selected":""} ${d.highlight?"highlight-btn":""}`,whileHover:{scale:1.05,boxShadow:d.highlight?"0 10px 25px rgba(79, 209, 101, 0.4)":"0 5px 15px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},onClick:g=>{g.stopPropagation(),e(d.type)},initial:d.highlight?{y:[0,-5,0],transition:{repeat:3,duration:.6}}:{},animate:d.highlight?{boxShadow:["0 5px 15px rgba(79, 209, 101, 0.2)","0 8px 25px rgba(79, 209, 101, 0.4)","0 5px 15px rgba(79, 209, 101, 0.2)"],transition:{repeat:1/0,duration:2,repeatType:"reverse"}}:{},children:t===d.type?"Выбрано":d.highlight?"Выбрать выгодно!":"Выбрать"})]},d.type))}),h.jsxs(pe.div,{className:"pay-summary",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6,duration:.5},children:[h.jsxs("div",{className:"summary-details",children:[h.jsx("h3",{children:"Ваш выбор:"}),h.jsxs("div",{className:"selected-tariff",children:[h.jsx("span",{className:"selected-icon",children:l.icon}),h.jsx("span",{className:"selected-title",children:l.title}),h.jsxs("span",{className:"selected-price",children:[l.price," руб."]})]})]}),h.jsxs(pe.button,{className:"pay-button highlight-main-btn",onClick:u,whileHover:{scale:1.05,boxShadow:"0 10px 30px rgba(79, 209, 101, 0.5)"},whileTap:{scale:.95},initial:{y:0},animate:{y:[0,-5,0],boxShadow:["0 5px 15px rgba(79, 209, 101, 0.3)","0 10px 30px rgba(79, 209, 101, 0.5)","0 5px 15px rgba(79, 209, 101, 0.3)"],transition:{repeat:1/0,duration:2,repeatType:"reverse"}},children:[h.jsx("span",{className:"btn-icon",children:"✨"})," Оплатить выгодный тариф ",h.jsx("span",{className:"btn-icon",children:"✨"})]})]}),h.jsx(P6,{}),h.jsxs(pe.div,{className:"pay-guarantee",initial:{opacity:0},animate:{opacity:1},transition:{delay:.7,duration:.5},children:[h.jsxs("div",{className:"guarantee-item",children:[h.jsx("span",{className:"guarantee-icon",children:"🔒"}),h.jsx("span",{children:"Безопасная оплата"})]}),h.jsxs("div",{className:"guarantee-item",children:[h.jsx("span",{className:"guarantee-icon",children:"💸"}),h.jsx("span",{children:"Гарантия возврата в течение 7 дней"})]}),h.jsxs("div",{className:"guarantee-item",children:[h.jsx("span",{className:"guarantee-icon",children:"🛠"}),h.jsx("span",{children:"Техническая поддержка 24/7"})]})]}),h.jsxs("div",{className:"pay-support",children:["Остались вопросы? ",h.jsx("a",{href:"mailto:support@fitgenius.ru",children:"support@fitgenius.ru"})]})]}),n&&h.jsx("div",{className:"confetti-container",children:[...Array(100)].map((d,m)=>h.jsx("div",{className:"confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*.5}s`,backgroundColor:`hsl(${Math.random()*360}, 80%, 60%)`}},m))})]})}const O6=[{day:"Понедельник",meals:[{type:"Завтрак",text:"Овсянка с ягодами и орехами"},{type:"Обед",text:"Куриная грудка, гречка, овощи"},{type:"Ужин",text:"Творог с фруктами"},{type:"Перекус",text:"Яблоко, миндаль"}]},{day:"Вторник",meals:[{type:"Завтрак",text:"Яичница, цельнозерновой хлеб"},{type:"Обед",text:"Рыба, картофель, салат"},{type:"Ужин",text:"Овощное рагу"},{type:"Перекус",text:"Греческий йогурт"}]},{day:"Среда",meals:[{type:"Завтрак",text:"Творожная запеканка с ягодами"},{type:"Обед",text:"Индейка, киноа, овощи"},{type:"Ужин",text:"Омлет с овощами"},{type:"Перекус",text:"Банан, орехи"}]},{day:"Четверг",meals:[{type:"Завтрак",text:"Смузи с протеином и фруктами"},{type:"Обед",text:"Говядина, бурый рис, овощи"},{type:"Ужин",text:"Рыбный салат"},{type:"Перекус",text:"Протеиновый батончик"}]},{day:"Пятница",meals:[{type:"Завтрак",text:"Гречневая каша с яйцом"},{type:"Обед",text:"Куриный суп, хлеб"},{type:"Ужин",text:"Тушеные овощи с тофу"},{type:"Перекус",text:"Творог с медом"}]},{day:"Суббота",meals:[{type:"Завтрак",text:"Овсяноблин с творогом и ягодами"},{type:"Обед",text:"Паста с морепродуктами"},{type:"Ужин",text:"Куриный салат"},{type:"Перекус",text:"Фруктовый салат"}]},{day:"Воскресенье",meals:[{type:"Завтрак",text:"Блины с творогом"},{type:"Обед",text:"Запеченная курица с овощами"},{type:"Ужин",text:"Творог с фруктами"},{type:"Перекус",text:"Орехи, сухофрукты"}]}],L6=["Овсянка","Ягоды","Орехи","Куриная грудка","Гречка","Овощи","Творог","Фрукты","Яблоко","Миндаль","Яйца","Хлеб","Рыба","Картофель","Салат","Йогурт","Индейка","Киноа","Банан","Протеин","Говядина","Бурый рис","Протеиновый батончик","Мед","Тофу","Паста","Морепродукты","Блины","Сухофрукты"],U6=[{day:"Понедельник",workout:"Силовая: приседания 3x15, отжимания 3x12, планка 3x60 сек"},{day:"Вторник",workout:"Кардио: бег 30 мин, скакалка 10 мин, велотренажер 15 мин"},{day:"Среда",workout:"Отдых или йога для восстановления 30 мин"},{day:"Четверг",workout:"Силовая: выпады 3x12, подтягивания 3x8, пресс 3x20"},{day:"Пятница",workout:"Кардио: велотренажёр 20 мин, прыжки 10 мин, эллипс 15 мин"},{day:"Суббота",workout:"Функционалка: бурпи 3x10, выпрыгивания 3x15, планка боковая 3x30 сек"},{day:"Воскресенье",workout:"Отдых и восстановление"}],B6=()=>h.jsx("div",{className:"dashboard-bg",children:[...Array(20)].map((t,e)=>h.jsx(pe.div,{className:"dashboard-particle",style:{top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,width:`${Math.random()*100+50}px`,height:`${Math.random()*100+50}px`,opacity:Math.random()*.5+.1},animate:{x:[0,Math.random()*100-50,0],y:[0,Math.random()*100-50,0]},transition:{duration:Math.random()*20+15,repeat:1/0,ease:"easeInOut"}},e))});function Ab(t,e="plan.pdf"){const n=window.open("","","width=800,height=600");n.document.write('<pre style="font-family:inherit;font-size:16px;white-space:pre-wrap;">'+t+"</pre>"),n.document.close(),n.print()}function z6(t){if(!t||!t.toDate)return"Неизвестно";const e=t.toDate();return new Intl.DateTimeFormat("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(e)}function F6(t){switch(t){case"login":return"🔐";case"purchase":return"💰";case"survey":return"📝";case"profile_update":return"👤";case"plan_view":return"📊";default:return"📌"}}function H6(){const[t,e]=I.useState("food"),[n,s]=I.useState(null),[a,l]=I.useState(""),[u,d]=I.useState(""),[m,g]=I.useState({email:"",name:""}),[v,x]=I.useState(!1),[T,w]=I.useState(""),[S,j]=I.useState(!1),[M,V]=I.useState([]),[Y,H]=I.useState(!1),[te,F]=I.useState(""),[U,N]=I.useState(!1),[C,D]=I.useState(""),[O,B]=I.useState({}),q=Un();I.useEffect(()=>{s(localStorage.getItem("fitgenius_paid_type")),l(localStorage.getItem("fitgenius_meal_plan")||""),d(localStorage.getItem("fitgenius_workout_plan")||"");let Z="",he=localStorage.getItem("fitgenius_user");if(console.log("Полученные данные пользователя из localStorage:",he),he)try{if(he.startsWith("{")){const $e=JSON.parse(he);$e.email&&(Z=$e.email)}else he.includes("@")&&(Z=he)}catch($e){console.error("Ошибка при парсинге данных пользователя:",$e),Z=he}console.log("Очищенный email пользователя:",Z);const ye=Z;async function Te(){let $e=localStorage.getItem("fitgenius_name")||"Пользователь";if(ye){j(!0);try{const hn=gn(it,"users",ye),_n=await xv(hn);_n.exists()&&_n.data().name&&($e=_n.data().name,localStorage.setItem("fitgenius_name",$e))}catch(hn){console.error("Ошибка при загрузке имени:",hn)}j(!1)}g({email:ye,name:$e}),w($e)}async function wt(){if(ye){H(!0);try{const $e=ti(wn(it,"user_activity"),wa("email","==",ye),Xd("timestamp","desc")),hn=await ni($e);V(hn.docs.map(_n=>({id:_n.id,..._n.data()})))}catch($e){console.error("Ошибка при загрузке активности:",$e)}H(!1)}}async function Ze(){if(ye){N(!0),D("");try{console.log("Загрузка аватара для:",ye);const $e=await $3(ye);console.log("Полученный URL аватара:",$e),$e&&F($e)}catch($e){console.error("Ошибка загрузки аватара:",$e),D("Ошибка загрузки аватара")}N(!1)}}const Rn=localStorage.getItem("fitgenius_shopping_list");if(Rn)try{B(JSON.parse(Rn))}catch($e){console.error("Ошибка при загрузке списка покупок:",$e),B({})}Te(),wt(),Ze(),ye&&Cs({email:ye,type:"login",desc:"Вход в личный кабинет"})},[]);const k=async()=>{if(T.trim()){if(j(!0),localStorage.setItem("fitgenius_name",T),g(Z=>({...Z,name:T})),x(!1),m.email)try{await Sa(gn(it,"users",m.email),{name:T},{merge:!0}),await Cs({email:m.email,type:"profile_update",desc:"Обновление имени пользователя"})}catch(Z){console.error("Ошибка при сохранении имени:",Z)}j(!1)}},st=async Z=>{const he=Z.target.files[0];if(he){if(!he.type.startsWith("image/")){D("Можно загружать только изображения");return}if(he.size>2*1024*1024){D("Размер файла не должен превышать 2 МБ");return}N(!0),D("");try{console.log("Загрузка аватара для пользователя:",m.email);const ye=await K3(m.email,he);console.log("Полученный URL аватара:",ye),F(ye),await Cs({email:m.email,type:"profile_update",desc:"Обновление аватара пользователя"})}catch(ye){console.error("Ошибка загрузки аватара:",ye),D("Ошибка загрузки аватара. Пожалуйста, попробуйте еще раз.")}N(!1)}},Ge=Z=>{const he={...O,[Z]:!O[Z]};B(he),localStorage.setItem("fitgenius_shopping_list",JSON.stringify(he))},ee=()=>{t==="food"&&a?Ab(a,"meal-plan.pdf"):t==="workout"&&u&&Ab(u,"workout-plan.pdf")},le=n==="food"||n==="combo",fe=n==="workout"||n==="combo",L=(()=>{if(!m.email)return!1;for(const Z of ka)if(m.email.toLowerCase()===Z.toLowerCase())return!0;return!1})();console.log("Проверка админа:",m.email,ka,L);const oe=()=>{q("/admin")},ue=()=>{localStorage.removeItem("fitgenius_user"),localStorage.removeItem("fitgenius_name"),localStorage.removeItem("fitgenius_paid_type"),window.location.href="/"};return h.jsxs("div",{className:"dashboard-container",children:[h.jsx(B6,{}),h.jsxs(pe.div,{className:"dashboard-content",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[h.jsxs("div",{className:"user-profile",children:[h.jsx("div",{className:"profile-decoration"}),h.jsx("div",{className:"profile-decoration"}),h.jsxs("div",{className:"avatar-container",children:[h.jsx("div",{className:"avatar-wrapper",children:U?h.jsx("div",{className:"avatar-spinner",children:"⏳"}):h.jsx(h.Fragment,{children:h.jsxs("div",{className:"avatar-image-container",children:[te?h.jsx("img",{src:te,alt:"Аватар",className:"avatar-image"}):h.jsx("div",{className:"avatar-placeholder",children:"👤"}),h.jsx("div",{className:"avatar-overlay",children:h.jsxs("label",{htmlFor:"avatar-upload",className:"avatar-edit-overlay",children:[h.jsx("span",{className:"avatar-edit-text",children:"Изменить фото"}),h.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",style:{display:"none"},onChange:st,disabled:U})]})})]})})}),C&&h.jsx("div",{style:{color:"#ff6b6b",marginTop:"0.5rem",fontSize:"0.9rem",textAlign:"center"},children:C})]}),h.jsxs("div",{className:"user-info",children:[v?h.jsxs("div",{className:"name-edit-form",children:[h.jsx("input",{type:"text",className:"name-input",value:T,onChange:Z=>w(Z.target.value),maxLength:32,disabled:S,placeholder:"Ваше имя"}),h.jsx("button",{className:"name-save-btn",onClick:k,disabled:S||!T.trim(),children:"Сохранить"}),h.jsx("button",{className:"name-cancel-btn",onClick:()=>{x(!1),w(m.name)},disabled:S,children:"Отмена"})]}):h.jsxs("div",{className:"user-name",children:[m.name,h.jsx("button",{className:"edit-name-btn",onClick:()=>x(!0),title:"Редактировать имя",children:"✏️"}),S&&h.jsx("span",{style:{fontSize:"0.9rem",opacity:.7},children:"Сохранение..."})]}),h.jsx("div",{className:"user-email",children:m.email?m.email:"—"}),h.jsxs("div",{className:"user-actions",children:[L&&h.jsxs("button",{className:"btn btn-admin",onClick:oe,style:{background:"#ff9800",color:"white",fontWeight:"bold",padding:"8px 16px",borderRadius:"8px",border:"none",boxShadow:"0 4px 8px rgba(255, 152, 0, 0.3)",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.3s ease"},onMouseEnter:Z=>{Z.currentTarget.style.transform="translateY(-3px)",Z.currentTarget.style.boxShadow="0 6px 12px rgba(255, 152, 0, 0.4)"},onMouseLeave:Z=>{Z.currentTarget.style.transform="translateY(0)",Z.currentTarget.style.boxShadow="0 4px 8px rgba(255, 152, 0, 0.3)"},children:[h.jsx("span",{style:{fontSize:"1.2rem"},children:"👑"})," Админ-панель"]}),h.jsxs("button",{className:"btn btn-logout",onClick:ue,children:[h.jsx("span",{children:"🚪"})," Выйти"]})]})]})]}),h.jsxs("div",{className:"tabs-container",children:[h.jsx("div",{className:`tab ${t==="food"?"active":""}`,onClick:()=>e("food"),children:"🍽️ План питания"}),h.jsx("div",{className:`tab ${t==="workout"?"active":""}`,onClick:()=>e("workout"),children:"💪 План тренировок"}),h.jsx("div",{className:`tab ${t==="shopping"?"active":""}`,onClick:()=>e("shopping"),children:"🛒 Список покупок"}),h.jsx("div",{className:`tab ${t==="activity"?"active":""}`,onClick:()=>e("activity"),children:"📊 Активность"})]}),h.jsx(Cu,{mode:"wait",children:h.jsxs(pe.div,{className:"tab-content",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:[t==="food"&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[h.jsx("h2",{children:"План питания"}),le&&a&&h.jsxs("button",{className:"btn btn-primary",onClick:ee,children:[h.jsx("span",{children:"📥"})," Экспорт в PDF"]})]}),le?h.jsx("div",{className:"meal-plan",children:O6.map((Z,he)=>h.jsxs(pe.div,{className:"day-card fade-in",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:he*.1},children:[h.jsx("div",{className:"day-header",children:Z.day}),h.jsx("div",{className:"day-content",children:Z.meals.map((ye,Te)=>h.jsxs("div",{className:"meal-item",children:[h.jsx("div",{className:"meal-type",children:ye.type}),h.jsx("div",{className:"meal-text",children:ye.text})]},Te))})]},Z.day))}):h.jsxs("div",{style:{textAlign:"center",padding:"3rem 1rem"},children:[h.jsx("h3",{style:{marginBottom:"1.5rem",color:"#666"},children:"Для доступа к плану питания необходимо приобрести подписку"}),h.jsx("button",{className:"btn btn-primary",onClick:()=>q("/pricing"),style:{margin:"0 auto"},children:"Перейти к тарифам"})]})]}),t==="workout"&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[h.jsx("h2",{children:"План тренировок"}),fe&&u&&h.jsxs("button",{className:"btn btn-primary",onClick:ee,children:[h.jsx("span",{children:"📥"})," Экспорт в PDF"]})]}),fe?h.jsx("div",{className:"workout-plan",children:U6.map((Z,he)=>h.jsxs(pe.div,{className:"workout-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:he*.1},children:[h.jsx("div",{className:"workout-header",children:Z.day}),h.jsx("div",{className:"workout-content",children:h.jsx("div",{className:"workout-text",children:Z.workout})})]},Z.day))}):h.jsxs("div",{style:{textAlign:"center",padding:"3rem 1rem"},children:[h.jsx("h3",{style:{marginBottom:"1.5rem",color:"#666"},children:"Для доступа к плану тренировок необходимо приобрести подписку"}),h.jsx("button",{className:"btn btn-primary",onClick:()=>q("/pricing"),style:{margin:"0 auto"},children:"Перейти к тарифам"})]})]}),t==="shopping"&&h.jsxs(h.Fragment,{children:[h.jsx("h2",{children:"Список покупок"}),le?h.jsx("div",{className:"shopping-list",children:h.jsx("div",{className:"shopping-items",children:L6.map((Z,he)=>h.jsxs(pe.div,{className:"shopping-item",initial:{opacity:0},animate:{opacity:1},transition:{duration:.2,delay:he*.03},children:[h.jsx("div",{className:`shopping-item-checkbox ${O[Z]?"checked":""}`,onClick:()=>Ge(Z),children:O[Z]&&"✓"}),h.jsx("div",{className:`shopping-item-text ${O[Z]?"checked":""}`,onClick:()=>Ge(Z),children:Z})]},Z))})}):h.jsxs("div",{style:{textAlign:"center",padding:"3rem 1rem"},children:[h.jsx("h3",{style:{marginBottom:"1.5rem",color:"#666"},children:"Для доступа к списку покупок необходимо приобрести подписку на план питания"}),h.jsx("button",{className:"btn btn-primary",onClick:()=>q("/pricing"),style:{margin:"0 auto"},children:"Перейти к тарифам"})]})]}),t==="activity"&&h.jsxs(h.Fragment,{children:[h.jsx("h2",{children:"История активности"}),h.jsx("div",{className:"activity-list",children:Y?h.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:"Загрузка активности..."}):M.length>0?M.map((Z,he)=>h.jsxs(pe.div,{className:"activity-item",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:he*.05},children:[h.jsx("div",{className:"activity-icon",children:F6(Z.type)}),h.jsxs("div",{className:"activity-details",children:[h.jsxs("div",{className:"activity-type",children:[Z.type==="login"&&"Вход в систему",Z.type==="purchase"&&"Покупка",Z.type==="survey"&&"Опрос",Z.type==="profile_update"&&"Обновление профиля",Z.type==="plan_view"&&"Просмотр плана",!["login","purchase","survey","profile_update","plan_view"].includes(Z.type)&&"Действие"]}),h.jsx("div",{className:"activity-desc",children:Z.desc||"Без описания"}),h.jsx("div",{className:"activity-time",children:z6(Z.timestamp)})]})]},Z.id)):h.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"#666"},children:"История активности пуста"})})]})]},t)})]})]})}function q6(){return h.jsx("div",{className:"about-bg"})}const G6=()=>h.jsx("div",{className:"animated-background",children:[...Array(20)].map((t,e)=>h.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${5+Math.random()*10}s`,width:`${10+Math.random()*30}px`,height:`${10+Math.random()*30}px`,opacity:.1+Math.random()*.2}},e))}),$6=({review:t,index:e})=>{const n=t.rating||5,s=Math.floor(n),a=n%1>=.5;return h.jsxs(pe.div,{className:"review-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.1,duration:.5},whileHover:{y:-5,boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)"},children:[h.jsxs("div",{className:"review-header",children:[h.jsx("div",{className:"review-avatar",children:t.name.charAt(0).toUpperCase()}),h.jsxs("div",{className:"review-info",children:[h.jsx("span",{className:"review-name",children:t.name}),h.jsx("div",{className:"review-rating",children:[...Array(5)].map((l,u)=>h.jsx("span",{className:"star",style:{fontSize:"1.2rem",color:"#ffb400"},children:u<s?"★":u===s&&a?"⯪":"☆"},u))})]}),h.jsx("span",{className:"review-date",children:t.date})]}),h.jsx("div",{className:"review-text",children:t.text}),h.jsx("div",{className:"review-footer",children:h.jsxs("div",{className:"review-likes",children:[h.jsx("span",{className:"like-icon",children:"👍"}),h.jsx("span",{className:"like-count",children:Math.floor(Math.random()*20)})]})})]})};function K6(){const[t,e]=I.useState([]),[n,s]=I.useState({name:"",text:"",rating:5}),[a,l]=I.useState(!1),[u,d]=I.useState(""),[m,g]=I.useState(1),[v,x]=I.useState(!1),T=6,w=[{name:"Анна М.",text:"Программа питания отлично подошла мне! За месяц -4 кг и гораздо больше энергии. Рекомендую!",date:"15.05.2025",rating:5},{name:"Иван К.",text:"Очень удобное приложение, все понятно и просто. Тренировки составлены грамотно, чувствую прогресс уже через 2 недели.",date:"10.05.2025",rating:4.5},{name:"Мария С.",text:"Выбрала комбо-тариф, это действительно выгодно! Питание и тренировки отлично дополняют друг друга. Сервис на высоте.",date:"05.05.2025",rating:5},{name:"Дмитрий В.",text:"Пользуюсь уже 3 месяца, результаты превзошли ожидания. Особенно нравится, что программа адаптируется под мой прогресс.",date:"28.04.2025",rating:4.5},{name:"Елена Т.",text:"Отличное соотношение цены и качества. Персональный план питания работает, минус 6 кг за 2 месяца!",date:"20.04.2025",rating:5},{name:"Алексей П.",text:"Очень доволен программой тренировок. Упражнения подобраны с учетом моего уровня, нагрузка увеличивается постепенно. Рекомендую!",date:"15.04.2025",rating:4},{name:"Ольга Н.",text:"FitGenius помог мне изменить отношение к питанию. Теперь я знаю, как правильно составлять рацион. Спасибо!",date:"10.04.2025",rating:5},{name:"Сергей М.",text:"Занимаюсь по программе уже 2 месяца. Результаты есть, но хотелось бы больше вариативности в упражнениях.",date:"05.04.2025",rating:4}];I.useEffect(()=>{let U=JSON.parse(localStorage.getItem("fitgenius_reviews_published")||"[]");U.length===0&&(U=w,localStorage.setItem("fitgenius_reviews_published",JSON.stringify(w))),e(U)},[]);const S=U=>{s({...n,[U.target.name]:U.target.value})},j=U=>{s({...n,rating:U})},M=U=>{if(U.preventDefault(),!n.name||!n.text){d("Пожалуйста, заполните все поля");return}d("");const N=JSON.parse(localStorage.getItem("fitgenius_reviews_pending")||"[]");N.push({...n,date:new Date().toLocaleString()}),localStorage.setItem("fitgenius_reviews_pending",JSON.stringify(N)),l(!0),x(!0),setTimeout(()=>{l(!1),x(!1)},4e3),s({name:"",text:"",rating:5})},V=Math.ceil(t.length/T),Y=t.slice((m-1)*T,m*T),H=U=>g(U),te=t.reduce((U,N)=>U+(N.rating||5),0)/t.length,F=t.filter(U=>Math.round(U.rating||5)===5).length/t.length*100;return h.jsxs("div",{className:"reviews-bg",children:[h.jsx(G6,{}),h.jsxs(pe.div,{className:"reviews-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[h.jsx(pe.h1,{className:"reviews-heading",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},children:"Отзывы наших клиентов"}),h.jsx(pe.p,{className:"reviews-subheading",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.5},children:"Узнайте, что говорят пользователи о наших программах питания и тренировок"}),h.jsxs("div",{className:"reviews-stats",children:[h.jsxs(pe.div,{className:"stat-card",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4,duration:.5},children:[h.jsx("div",{className:"stat-value",children:te.toFixed(1)}),h.jsx("div",{className:"stat-rating",children:[...Array(5)].map((U,N)=>h.jsx("span",{className:"star",style:{fontSize:"1.5rem",color:"#ffb400"},children:N<Math.floor(te)?"★":N===Math.floor(te)&&te%1>=.5?"⯪":"☆"},N))}),h.jsx("div",{className:"stat-label",children:"Средняя оценка"})]}),h.jsxs(pe.div,{className:"stat-card",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.5,duration:.5},children:[h.jsx("div",{className:"stat-value",children:t.length}),h.jsx("div",{className:"stat-label",children:"Всего отзывов"})]}),h.jsxs(pe.div,{className:"stat-card",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.6,duration:.5},children:[h.jsxs("div",{className:"stat-value",children:[F.toFixed(0),"%"]}),h.jsx("div",{className:"stat-label",children:"5-звездочных отзывов"})]})]}),h.jsx(pe.div,{className:"reviews-list",initial:{opacity:0},animate:{opacity:1},transition:{delay:.7,duration:.5},children:t.length===0?h.jsx("div",{className:"reviews-empty",children:"Пока нет опубликованных отзывов."}):Y.map((U,N)=>h.jsx($6,{review:U,index:N},N))}),V>1&&h.jsx(pe.div,{className:"reviews-pagination",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.5},children:Array.from({length:V},(U,N)=>h.jsx(pe.button,{className:`reviews-page-btn${m===N+1?" active":""}`,onClick:()=>H(N+1),disabled:m===N+1,whileHover:{scale:1.1},whileTap:{scale:.95},children:N+1},N))}),h.jsxs(pe.div,{className:"review-form-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9,duration:.5},children:[h.jsx("h2",{className:"form-heading",children:"Поделитесь своим опытом"}),h.jsx("p",{className:"form-subheading",children:"Ваш отзыв поможет нам стать лучше и поможет другим пользователям сделать выбор"}),h.jsxs("form",{className:"review-form",onSubmit:M,children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"name",className:"form-label",children:"Ваше имя"}),h.jsx("input",{type:"text",id:"name",name:"name",placeholder:"Введите ваше имя",value:n.name,onChange:S,className:"review-input",required:!0})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"rating",className:"form-label",children:"Ваша оценка"}),h.jsx("div",{className:"rating-selector",children:[1,2,3,4,5].map(U=>h.jsx("span",{className:`rating-star ${U<=n.rating?"active":""}`,onClick:()=>j(U),children:"★"},U))})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"text",className:"form-label",children:"Ваш отзыв"}),h.jsx("textarea",{id:"text",name:"text",placeholder:"Расскажите о вашем опыте использования FitGenius...",value:n.text,onChange:S,className:"review-textarea",required:!0})]}),h.jsxs(Cu,{children:[u&&h.jsxs(pe.div,{className:"review-error",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[h.jsx("span",{className:"error-icon",children:"⚠️"})," ",u]}),a&&h.jsxs(pe.div,{className:"review-success",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[h.jsx("span",{className:"success-icon",children:"✓"})," Спасибо! Ваш отзыв отправлен на модерацию."]})]}),h.jsx(pe.button,{type:"submit",className:"review-btn",whileHover:{scale:1.05,boxShadow:"0 8px 20px rgba(79, 209, 101, 0.3)"},whileTap:{scale:.95},children:"Отправить отзыв"})]})]})]}),v&&h.jsx("div",{className:"confetti-container",children:[...Array(100)].map((U,N)=>h.jsx("div",{className:"confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*.5}s`,width:`${5+Math.random()*10}px`,height:`${5+Math.random()*10}px`,transform:`rotate(${Math.random()*360}deg)`,backgroundColor:N%3===0?"#4fd165":N%3===1?"#36b14e":"#8aeea0"}},N))})]})}function Y6(){return h.jsx("div",{className:"blog-bg",children:"Блог"})}const Q6=()=>h.jsx("div",{className:"animated-background",children:[...Array(20)].map((t,e)=>h.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${5+Math.random()*10}s`,width:`${10+Math.random()*30}px`,height:`${10+Math.random()*30}px`,opacity:.1+Math.random()*.2}},e))}),X6=({question:t,answer:e,index:n})=>{const[s,a]=I.useState(!1),l=()=>{a(!s)};return h.jsxs(pe.div,{className:"faq-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.1,duration:.5},whileHover:{scale:1.01},children:[h.jsxs("div",{className:"faq-question",onClick:l,children:[h.jsx("div",{className:"faq-question-text",children:t}),h.jsx("div",{className:`faq-icon ${s?"open":""}`,children:"+"})]}),h.jsx("div",{className:`faq-answer ${s?"open":""}`,children:typeof e=="string"?h.jsx("p",{children:e}):e})]})};function W6(){const[t,e]=I.useState({name:"",email:"",message:""}),[n,s]=I.useState(!1),[a,l]=I.useState(""),u=[{question:"Что такое FitGenius?",answer:"FitGenius — это онлайн-сервис, который за считанные минуты подберёт для вас индивидуальную программу питания и тренировок, полностью под ваши цели, параметры и образ жизни."},{question:"В чём польза сайта?",answer:h.jsx(h.Fragment,{children:h.jsxs("ul",{children:[h.jsxs("li",{children:[h.jsx("b",{children:"Экономия времени:"})," не нужно часами искать диеты и тренировки — всё подбирается автоматически."]}),h.jsxs("li",{children:[h.jsx("b",{children:"Персонализация:"})," учитываются ваши цели, предпочтения, аллергии, бюджет, опыт и даже доступный инвентарь."]}),h.jsxs("li",{children:[h.jsx("b",{children:"Научный подход:"})," алгоритмы основаны на современных принципах нутрициологии и спортивной физиологии."]}),h.jsxs("li",{children:[h.jsx("b",{children:"Гибкость:"})," можно скорректировать программу после получения, попробовать разные варианты."]}),h.jsxs("li",{children:[h.jsx("b",{children:"Всё в одном месте:"})," меню, список покупок, тренировки, заметки, экспорт в PDF, подписка на обновления."]})]})})},{question:"Для кого этот сервис?",answer:h.jsx(h.Fragment,{children:h.jsxs("ul",{children:[h.jsx("li",{children:"Для тех, кто хочет похудеть, набрать массу или просто быть в тонусе."}),h.jsx("li",{children:"Для занятых людей, которым важно быстро получать готовые решения."}),h.jsx("li",{children:"Для новичков и опытных — вопросы и планы адаптируются под ваш уровень."}),h.jsx("li",{children:"Для всех, кто ценит здоровье и хочет получать результат с удовольствием!"})]})})},{question:"Как это работает?",answer:h.jsx(h.Fragment,{children:h.jsxs("ol",{children:[h.jsx("li",{children:"Вы отвечаете на короткий опрос."}),h.jsx("li",{children:"Выбираете нужную услугу (питание, тренировки или комбо)."}),h.jsx("li",{children:"Оплачиваете — и сразу получаете доступ к личному кабинету с индивидуальным планом."}),h.jsx("li",{children:"Пользуетесь, корректируете, экспортируете, делитесь с друзьями!"})]})})},{question:"Почему стоит доверять FitGenius?",answer:h.jsx(h.Fragment,{children:h.jsxs("ul",{children:[h.jsx("li",{children:"Гарантия возврата денег, если программа не подойдёт."}),h.jsx("li",{children:"Возможность бесплатной корректировки параметров."}),h.jsx("li",{children:"Постоянная поддержка и обновления."}),h.jsx("li",{children:"Партнёрские скидки и бонусы для постоянных клиентов."})]})})},{question:"Какие программы питания предлагает FitGenius?",answer:"FitGenius предлагает разнообразные программы питания, адаптированные под ваши цели: для похудения, набора мышечной массы, поддержания веса, вегетарианские, безглютеновые и многие другие. Все программы учитывают ваши предпочтения, аллергии и доступный бюджет."},{question:"Как часто обновляются тренировочные программы?",answer:"Тренировочные программы обновляются каждые 4-6 недель, чтобы обеспечить постоянный прогресс и избежать эффекта плато. Вы также можете запросить обновление программы в любое время, если чувствуете, что готовы к новым вызовам."}],d=g=>{e({...t,[g.target.name]:g.target.value})},m=g=>{if(g.preventDefault(),!t.name||!t.email||!t.message){l("Пожалуйста, заполните все поля");return}if(!/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(t.email)){l("Введите корректный email");return}l("");const v=JSON.parse(localStorage.getItem("fitgenius_feedback")||"[]");v.push({...t,date:new Date().toLocaleString()}),localStorage.setItem("fitgenius_feedback",JSON.stringify(v)),s(!0),setTimeout(()=>s(!1),4e3),e({name:"",email:"",message:""})};return h.jsxs("div",{className:"faq-bg",children:[h.jsx(Q6,{}),h.jsxs(pe.div,{className:"faq-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[h.jsx(pe.h1,{className:"faq-heading",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},children:"Часто задаваемые вопросы"}),h.jsx(pe.p,{className:"faq-subheading",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.5},children:"Узнайте больше о том, как FitGenius поможет вам достичь ваших целей в фитнесе и правильном питании"}),h.jsx("div",{className:"faq-accordion",children:u.map((g,v)=>h.jsx(X6,{question:g.question,answer:g.answer,index:v},v))}),h.jsxs(pe.div,{className:"feedback-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.5},children:[h.jsx("h2",{className:"feedback-heading",children:"Остались вопросы?"}),h.jsx("p",{className:"feedback-subheading",children:"Напишите нам, и мы с радостью ответим на все ваши вопросы"}),h.jsxs("form",{className:"feedback-form",onSubmit:m,children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"name",className:"form-label",children:"Ваше имя"}),h.jsx("input",{type:"text",id:"name",name:"name",placeholder:"Введите ваше имя",value:t.name,onChange:d,className:"feedback-input",required:!0})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"email",className:"form-label",children:"Email для ответа"}),h.jsx("input",{type:"email",id:"email",name:"email",placeholder:"Введите ваш email",value:t.email,onChange:d,className:"feedback-input",required:!0})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"message",className:"form-label",children:"Ваш вопрос или сообщение"}),h.jsx("textarea",{id:"message",name:"message",placeholder:"Опишите ваш вопрос или сообщение...",value:t.message,onChange:d,className:"feedback-textarea",required:!0})]}),h.jsxs(Cu,{children:[a&&h.jsxs(pe.div,{className:"feedback-error",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[h.jsx("span",{className:"error-icon",children:"⚠️"})," ",a]}),n&&h.jsxs(pe.div,{className:"feedback-success",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[h.jsx("span",{className:"success-icon",children:"✓"})," Спасибо! Ваше сообщение отправлено."]})]}),h.jsx(pe.button,{type:"submit",className:"feedback-btn",whileHover:{scale:1.05,boxShadow:"0 8px 20px rgba(79, 209, 101, 0.3)"},whileTap:{scale:.95},children:"Отправить сообщение"})]})]})]})]})}function Z6(){return h.jsx("div",{children:"Контакты"})}function J6(){const[t,e]=I.useState(""),[n,s]=I.useState(""),[a,l]=I.useState(""),[u,d]=I.useState(!1),[m,g]=I.useState(!1),[v,x]=I.useState(!1),T=Un();I.useEffect(()=>{const M=localStorage.getItem("fitgenius_last_email");M&&e(M)},[]);const w=async M=>{M.preventDefault(),d(!0),l("");try{await FD(Jd,t,n),localStorage.setItem("fitgenius_user",t),localStorage.setItem("fitgenius_last_email",t),l(""),await Cs({email:t,type:"Вход",desc:"Пользователь вошёл в аккаунт"}),T("/dashboard")}catch(V){console.error("Ошибка входа:",V.message),V.code==="auth/invalid-credential"?l("Неверный email или пароль"):V.code==="auth/user-not-found"?l("Пользователь с таким email не найден"):V.code==="auth/wrong-password"?l("Неверный пароль"):V.code==="auth/too-many-requests"?l("Слишком много попыток входа. Попробуйте позже"):l("Ошибка входа: "+V.message)}d(!1)},S=async()=>{g(!0);try{const M=new Li,Y=(await Mw(Jd,M)).user;localStorage.setItem("fitgenius_user",Y.email),localStorage.setItem("fitgenius_last_email",Y.email),await Cs({email:Y.email,type:"Вход через Google",desc:"Пользователь вошёл через Google"}),T("/dashboard")}catch(M){console.error("Ошибка входа через Google:",M),l("Ошибка входа через Google")}g(!1)},j=()=>{x(!v)};return h.jsx("div",{className:"auth-page",children:h.jsxs("div",{className:"auth-container",children:[h.jsxs("div",{className:"auth-logo",children:[h.jsx("div",{className:"auth-logo-icon",children:h.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("path",{d:"M12 3.5C7.30558 3.5 3.5 7.30558 3.5 12C3.5 16.6944 7.30558 20.5 12 20.5C16.6944 20.5 20.5 16.6944 20.5 12C20.5 7.30558 16.6944 3.5 12 3.5Z",stroke:"white",strokeWidth:"1.5"}),h.jsx("path",{d:"M15 8.5C15 8.5 13.5 9.5 12 9.5C10.5 9.5 9 8.5 9 8.5",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round"}),h.jsx("path",{d:"M8.5 14C8.5 14 9.5 16 12 16C14.5 16 15.5 14 15.5 14",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round"}),h.jsx("path",{d:"M8.5 12H15.5",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round"})]})}),h.jsxs("div",{className:"auth-logo-text",children:[h.jsx("span",{className:"logo-fit",children:"Fit"}),h.jsx("span",{className:"logo-genius",children:"Genius"})]})]}),h.jsx("h2",{className:"auth-title",children:"Вход в аккаунт"}),h.jsxs("form",{onSubmit:w,className:"auth-form",children:[h.jsxs("div",{className:"auth-input-group",children:[h.jsx("div",{className:"auth-input-icon",children:h.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M22 6C22 4.9 21.1 4 20 4H4C2.9 4 2 4.9 2 6V18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6ZM20 6L12 11L4 6H20ZM20 18H4V8L12 13L20 8V18Z",fill:"currentColor"})})}),h.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:M=>e(M.target.value),required:!0,className:"auth-input",autoComplete:"email"})]}),h.jsxs("div",{className:"auth-input-group",children:[h.jsx("div",{className:"auth-input-icon",children:h.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M18 8H17V6C17 3.24 14.76 1 12 1C9.24 1 7 3.24 7 6V8H6C4.9 8 4 8.9 4 10V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V10C20 8.9 19.1 8 18 8ZM9 6C9 4.34 10.34 3 12 3C13.66 3 15 4.34 15 6V8H9V6ZM18 20H6V10H18V20ZM12 17C13.1 17 14 16.1 14 15C14 13.9 13.1 13 12 13C10.9 13 10 13.9 10 15C10 16.1 10.9 17 12 17Z",fill:"currentColor"})})}),h.jsx("input",{type:v?"text":"password",placeholder:"Пароль",value:n,onChange:M=>s(M.target.value),required:!0,className:"auth-input",autoComplete:"current-password"}),h.jsx("div",{className:"auth-input-icon",style:{left:"auto",right:"15px",cursor:"pointer"},onClick:j,children:v?h.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M12 6C15.79 6 19.17 8.13 20.82 11.5C19.17 14.87 15.79 17 12 17C8.21 17 4.83 14.87 3.18 11.5C4.83 8.13 8.21 6 12 6ZM12 4C7 4 2.73 7.11 1 11.5C2.73 15.89 7 19 12 19C17 19 21.27 15.89 23 11.5C21.27 7.11 17 4 12 4ZM12 9C13.38 9 14.5 10.12 14.5 11.5C14.5 12.88 13.38 14 12 14C10.62 14 9.5 12.88 9.5 11.5C9.5 10.12 10.62 9 12 9ZM12 7C9.52 7 7.5 9.02 7.5 11.5C7.5 13.98 9.52 16 12 16C14.48 16 16.5 13.98 16.5 11.5C16.5 9.02 14.48 7 12 7Z",fill:"currentColor"})}):h.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M12 6C15.79 6 19.17 8.13 20.82 11.5C20.23 12.72 19.4 13.77 18.41 14.62L19.82 16.03C21.21 14.8 22.31 13.26 23 11.5C21.27 7.11 17 4 12 4C10.73 4 9.51 4.2 8.36 4.57L10.01 6.22C10.66 6.09 11.32 6 12 6ZM10.93 7.14L13 9.21C13.57 9.46 14.03 9.92 14.28 10.49L16.35 12.56C16.43 12.22 16.5 11.86 16.5 11.5C16.5 9.02 14.48 7 12 7C11.64 7 11.28 7.07 10.93 7.14ZM2.01 3.87L4.69 6.55C3.06 7.83 1.77 9.53 1 11.5C2.73 15.89 7 19 12 19C13.52 19 14.98 18.71 16.32 18.18L19.74 21.6L21.15 20.19L3.42 2.45L2.01 3.87ZM9.51 11.37L12.12 13.98C12.08 13.99 12.04 14 12 14C10.62 14 9.5 12.88 9.5 11.5C9.5 11.45 9.51 11.42 9.51 11.37ZM6.11 7.97L7.86 9.72C7.63 10.27 7.5 10.87 7.5 11.5C7.5 13.98 9.52 16 12 16C12.63 16 13.23 15.87 13.77 15.64L14.75 16.62C13.87 16.86 12.95 17 12 17C8.21 17 4.83 14.87 3.18 11.5C3.88 10.07 4.9 8.89 6.11 7.97Z",fill:"currentColor"})})})]}),a&&h.jsx("div",{className:"auth-error",children:a}),h.jsx("button",{type:"submit",className:"auth-button",disabled:u,children:u?"Вход...":"Войти"})]}),h.jsx("div",{className:"auth-divider",children:h.jsx("span",{children:"или"})}),h.jsx("div",{className:"social-auth-buttons",children:h.jsxs("button",{className:"social-auth-button",onClick:S,disabled:m,children:[h.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:[h.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),h.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),h.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),h.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Войти через Google"]})}),h.jsxs("div",{className:"auth-link-container",children:["Нет аккаунта? ",h.jsx(It,{to:"/register",className:"auth-link",children:"Зарегистрироваться"})]})]})})}function eL(){const[t,e]=I.useState(""),[n,s]=I.useState(""),[a,l]=I.useState(""),[u,d]=I.useState(""),[m,g]=I.useState(!1),[v,x]=I.useState(!1),[T,w]=I.useState(!1),[S,j]=I.useState(0),M=Un(),V=U=>{let N=0;U.length>=8&&(N+=1),/[A-Z]/.test(U)&&(N+=1),/[0-9]/.test(U)&&(N+=1),/[^A-Za-z0-9]/.test(U)&&(N+=1),j(N)},Y=U=>{const N=U.target.value;s(N),V(N)},H=async U=>{if(U.preventDefault(),g(!0),d(""),n!==a){d("Пароли не совпадают"),g(!1);return}if(S<2){d("Пароль слишком слабый. Используйте не менее 8 символов, включая заглавные буквы, цифры или специальные символы."),g(!1);return}try{const C=(await zD(Jd,t,n)).user;localStorage.setItem("fitgenius_last_email",t),await Cs({email:C.email,type:"Регистрация",desc:"Пользователь зарегистрировался через email"}),M("/login",{state:{registrationSuccess:!0}})}catch(N){console.error("Ошибка регистрации:",N),N.code==="auth/email-already-in-use"?d("Этот email уже используется. Попробуйте войти или восстановить пароль."):N.code==="auth/invalid-email"?d("Неверный формат email."):N.code==="auth/weak-password"?d("Пароль слишком слабый. Используйте не менее 6 символов."):d("Ошибка при регистрации: "+N.message)}g(!1)},te=async()=>{x(!0);try{const U=new Li,C=(await Mw(Jd,U)).user;localStorage.setItem("fitgenius_user",C.email),localStorage.setItem("fitgenius_last_email",C.email),await Cs({email:C.email,type:"Регистрация через Google",desc:"Пользователь зарегистрировался через Google"}),M("/dashboard")}catch(U){console.error("Ошибка регистрации через Google:",U),d("Ошибка при регистрации через Google")}x(!1)},F=()=>{w(!T)};return h.jsx("div",{className:"auth-page",children:h.jsxs("div",{className:"auth-container",children:[h.jsxs("div",{className:"auth-logo",children:[h.jsx("div",{className:"auth-logo-icon",children:h.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("path",{d:"M12 3.5C7.30558 3.5 3.5 7.30558 3.5 12C3.5 16.6944 7.30558 20.5 12 20.5C16.6944 20.5 20.5 16.6944 20.5 12C20.5 7.30558 16.6944 3.5 12 3.5Z",stroke:"white",strokeWidth:"1.5"}),h.jsx("path",{d:"M15 8.5C15 8.5 13.5 9.5 12 9.5C10.5 9.5 9 8.5 9 8.5",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round"}),h.jsx("path",{d:"M8.5 14C8.5 14 9.5 16 12 16C14.5 16 15.5 14 15.5 14",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round"}),h.jsx("path",{d:"M8.5 12H15.5",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round"})]})}),h.jsxs("div",{className:"auth-logo-text",children:[h.jsx("span",{className:"logo-fit",children:"Fit"}),h.jsx("span",{className:"logo-genius",children:"Genius"})]})]}),h.jsx("h2",{className:"auth-title",children:"Создание аккаунта"}),h.jsxs("form",{onSubmit:H,className:"auth-form",children:[h.jsxs("div",{className:"auth-input-group",children:[h.jsx("div",{className:"auth-input-icon",children:h.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M22 6C22 4.9 21.1 4 20 4H4C2.9 4 2 4.9 2 6V18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6ZM20 6L12 11L4 6H20ZM20 18H4V8L12 13L20 8V18Z",fill:"currentColor"})})}),h.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:U=>e(U.target.value),required:!0,className:"auth-input",autoComplete:"email"})]}),h.jsxs("div",{className:"auth-input-group",children:[h.jsx("div",{className:"auth-input-icon",children:h.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M18 8H17V6C17 3.24 14.76 1 12 1C9.24 1 7 3.24 7 6V8H6C4.9 8 4 8.9 4 10V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V10C20 8.9 19.1 8 18 8ZM9 6C9 4.34 10.34 3 12 3C13.66 3 15 4.34 15 6V8H9V6ZM18 20H6V10H18V20ZM12 17C13.1 17 14 16.1 14 15C14 13.9 13.1 13 12 13C10.9 13 10 13.9 10 15C10 16.1 10.9 17 12 17Z",fill:"currentColor"})})}),h.jsx("input",{type:T?"text":"password",placeholder:"Пароль",value:n,onChange:Y,required:!0,className:"auth-input",autoComplete:"new-password"}),h.jsx("div",{className:"auth-input-icon",style:{left:"auto",right:"15px",cursor:"pointer"},onClick:F,children:T?h.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M12 6C15.79 6 19.17 8.13 20.82 11.5C19.17 14.87 15.79 17 12 17C8.21 17 4.83 14.87 3.18 11.5C4.83 8.13 8.21 6 12 6ZM12 4C7 4 2.73 7.11 1 11.5C2.73 15.89 7 19 12 19C17 19 21.27 15.89 23 11.5C21.27 7.11 17 4 12 4ZM12 9C13.38 9 14.5 10.12 14.5 11.5C14.5 12.88 13.38 14 12 14C10.62 14 9.5 12.88 9.5 11.5C9.5 10.12 10.62 9 12 9ZM12 7C9.52 7 7.5 9.02 7.5 11.5C7.5 13.98 9.52 16 12 16C14.48 16 16.5 13.98 16.5 11.5C16.5 9.02 14.48 7 12 7Z",fill:"currentColor"})}):h.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M12 6C15.79 6 19.17 8.13 20.82 11.5C20.23 12.72 19.4 13.77 18.41 14.62L19.82 16.03C21.21 14.8 22.31 13.26 23 11.5C21.27 7.11 17 4 12 4C10.73 4 9.51 4.2 8.36 4.57L10.01 6.22C10.66 6.09 11.32 6 12 6ZM10.93 7.14L13 9.21C13.57 9.46 14.03 9.92 14.28 10.49L16.35 12.56C16.43 12.22 16.5 11.86 16.5 11.5C16.5 9.02 14.48 7 12 7C11.64 7 11.28 7.07 10.93 7.14ZM2.01 3.87L4.69 6.55C3.06 7.83 1.77 9.53 1 11.5C2.73 15.89 7 19 12 19C13.52 19 14.98 18.71 16.32 18.18L19.74 21.6L21.15 20.19L3.42 2.45L2.01 3.87ZM9.51 11.37L12.12 13.98C12.08 13.99 12.04 14 12 14C10.62 14 9.5 12.88 9.5 11.5C9.5 11.45 9.51 11.42 9.51 11.37ZM6.11 7.97L7.86 9.72C7.63 10.27 7.5 10.87 7.5 11.5C7.5 13.98 9.52 16 12 16C12.63 16 13.23 15.87 13.77 15.64L14.75 16.62C13.87 16.86 12.95 17 12 17C8.21 17 4.83 14.87 3.18 11.5C3.88 10.07 4.9 8.89 6.11 7.97Z",fill:"currentColor"})})})]}),h.jsxs("div",{style:{marginTop:"-10px",marginBottom:"10px"},children:[h.jsx("div",{style:{display:"flex",gap:"5px",marginBottom:"5px"},children:[...Array(4)].map((U,N)=>h.jsx("div",{style:{height:"4px",flex:1,background:N<S?S===1?"#f39c12":S===2?"#2ecc71":S===3||S===4?"#27ae60":"#e0e0e0":"#e0e0e0",borderRadius:"2px",transition:"all 0.3s ease"}},N))}),h.jsxs("div",{style:{fontSize:"12px",color:"#777",textAlign:"right"},children:[S===0&&n.length>0&&"Очень слабый",S===1&&"Слабый",S===2&&"Средний",S===3&&"Хороший",S===4&&"Отличный"]})]}),h.jsxs("div",{className:"auth-input-group",children:[h.jsx("div",{className:"auth-input-icon",children:h.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M18 8H17V6C17 3.24 14.76 1 12 1C9.24 1 7 3.24 7 6V8H6C4.9 8 4 8.9 4 10V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V10C20 8.9 19.1 8 18 8ZM9 6C9 4.34 10.34 3 12 3C13.66 3 15 4.34 15 6V8H9V6ZM18 20H6V10H18V20ZM12 17C13.1 17 14 16.1 14 15C14 13.9 13.1 13 12 13C10.9 13 10 13.9 10 15C10 16.1 10.9 17 12 17Z",fill:"currentColor"})})}),h.jsx("input",{type:T?"text":"password",placeholder:"Подтвердите пароль",value:a,onChange:U=>l(U.target.value),required:!0,className:"auth-input",autoComplete:"new-password"})]}),u&&h.jsx("div",{className:"auth-error",children:u}),h.jsx("button",{type:"submit",className:"auth-button",disabled:m,children:m?"Регистрация...":"Зарегистрироваться"})]}),h.jsx("div",{className:"auth-divider",children:h.jsx("span",{children:"или"})}),h.jsx("div",{className:"social-auth-buttons",children:h.jsxs("button",{className:"social-auth-button",onClick:te,disabled:v,children:[h.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:[h.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),h.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),h.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),h.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Регистрация через Google"]})}),h.jsxs("div",{className:"auth-link-container",children:["Уже есть аккаунт? ",h.jsx(It,{to:"/login",className:"auth-link",children:"Войти"})]})]})})}function tL(){const[t,e]=I.useState([]);I.useEffect(()=>{const a=JSON.parse(localStorage.getItem("fitgenius_reviews_pending")||"[]");e(a)},[]);const n=a=>{const l=t[a],u=JSON.parse(localStorage.getItem("fitgenius_reviews_published")||"[]");u.unshift(l),localStorage.setItem("fitgenius_reviews_published",JSON.stringify(u));const d=t.filter((m,g)=>g!==a);e(d),localStorage.setItem("fitgenius_reviews_pending",JSON.stringify(d))},s=a=>{const l=t.filter((u,d)=>d!==a);e(l),localStorage.setItem("fitgenius_reviews_pending",JSON.stringify(l))};return h.jsxs("div",{className:"admin-reviews-root",children:[h.jsx("h1",{children:"Модерация отзывов"}),t.length===0?h.jsx("div",{className:"admin-reviews-empty",children:"Нет отзывов на модерацию."}):h.jsx("div",{className:"admin-reviews-list",children:t.map((a,l)=>h.jsxs("div",{className:"admin-review-card",children:[h.jsxs("div",{className:"admin-review-header",children:[h.jsx("span",{className:"admin-review-name",children:a.name}),h.jsx("span",{className:"admin-review-date",children:a.date})]}),h.jsx("div",{className:"admin-review-text",children:a.text}),h.jsx("button",{className:"admin-review-btn",onClick:()=>n(l),children:"Опубликовать"}),h.jsx("button",{className:"admin-review-btn reject",onClick:()=>s(l),children:"Отклонить"})]},l))})]})}function nL(){const[t,e]=I.useState([]);I.useEffect(()=>{const s=JSON.parse(localStorage.getItem("fitgenius_feedback")||"[]");e(s.reverse())},[]);const n=s=>{const a=t.filter((l,u)=>u!==s);e(a),localStorage.setItem("fitgenius_feedback",JSON.stringify([...a].reverse()))};return h.jsxs("div",{className:"admin-feedback-root",children:[h.jsx("h1",{children:"Обращения с формы обратной связи"}),t.length===0?h.jsx("div",{className:"admin-feedback-empty",children:"Пока нет ни одного обращения."}):h.jsxs("table",{className:"admin-feedback-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Дата"}),h.jsx("th",{children:"Имя"}),h.jsx("th",{children:"Email"}),h.jsx("th",{children:"Сообщение"}),h.jsx("th",{children:"Действие"})]})}),h.jsx("tbody",{children:t.map((s,a)=>h.jsxs("tr",{children:[h.jsx("td",{children:s.date}),h.jsx("td",{children:s.name}),h.jsx("td",{children:h.jsx("a",{href:`mailto:${s.email}`,children:s.email})}),h.jsx("td",{children:s.message}),h.jsx("td",{children:h.jsx("button",{className:"admin-feedback-remove-btn",onClick:()=>n(a),children:"Удалить"})})]},a))})]})]})}function iL(){const[t,e]=I.useState([]);I.useEffect(()=>{const s=JSON.parse(localStorage.getItem("fitgenius_reviews_published")||"[]");e(s)},[]);const n=s=>{const a=t.filter((l,u)=>u!==s);e(a),localStorage.setItem("fitgenius_reviews_published",JSON.stringify(a))};return h.jsxs("div",{className:"admin-reviews-root",children:[h.jsx("h1",{children:"Опубликованные отзывы"}),t.length===0?h.jsx("div",{className:"admin-reviews-empty",children:"Нет опубликованных отзывов."}):h.jsx("div",{className:"admin-reviews-list",children:t.map((s,a)=>h.jsxs("div",{className:"admin-review-card",children:[h.jsxs("div",{className:"admin-review-header",children:[h.jsx("span",{className:"admin-review-name",children:s.name}),h.jsx("span",{className:"admin-review-date",children:s.date})]}),h.jsx("div",{className:"admin-review-text",children:s.text}),h.jsx("button",{className:"admin-review-btn reject",onClick:()=>n(a),children:"Удалить"})]},a))})]})}function sL(){const[t,e]=I.useState([]),[n,s]=I.useState(!0);return I.useEffect(()=>{async function a(){s(!0);const l=ti(wn(it,"visit_logs"),Xd("timestamp","desc"),$g(100)),u=await ni(l);e(u.docs.map(d=>({id:d.id,...d.data()}))),s(!1)}a()},[]),h.jsxs("div",{children:[h.jsx("h2",{style:{marginBottom:16},children:"История заходов (последние 100)"}),n?h.jsx("div",{children:"Загрузка..."}):h.jsx("div",{style:{overflowX:"auto"},children:h.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{style:{padding:8,borderBottom:"1px solid #ccc"},children:"Время"}),h.jsx("th",{style:{padding:8,borderBottom:"1px solid #ccc"},children:"Email"}),h.jsx("th",{style:{padding:8,borderBottom:"1px solid #ccc"},children:"IP"}),h.jsx("th",{style:{padding:8,borderBottom:"1px solid #ccc"},children:"User-Agent"}),h.jsx("th",{style:{padding:8,borderBottom:"1px solid #ccc"},children:"Страница"})]})}),h.jsx("tbody",{children:t.map(a=>h.jsxs("tr",{children:[h.jsx("td",{style:{padding:8,borderBottom:"1px solid #eee"},children:a.timestamp?new Date(a.timestamp.seconds*1e3).toLocaleString():""}),h.jsx("td",{style:{padding:8,borderBottom:"1px solid #eee"},children:a.email||"-"}),h.jsx("td",{style:{padding:8,borderBottom:"1px solid #eee"},children:a.ip||"-"}),h.jsx("td",{style:{padding:8,borderBottom:"1px solid #eee",maxWidth:200,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:a.userAgent||"-"}),h.jsx("td",{style:{padding:8,borderBottom:"1px solid #eee"},children:a.page||"-"})]},a.id))})]})})]})}function WA({isOpen:t,onClose:e,title:n,children:s}){return h.jsx(Cu,{children:t&&h.jsx(pe.div,{className:"admin-modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,children:h.jsxs(pe.div,{className:"admin-modal",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},onClick:a=>a.stopPropagation(),children:[h.jsxs("div",{className:"admin-modal-header",children:[h.jsx("h3",{children:n}),h.jsx("button",{className:"admin-modal-close",onClick:e,children:"×"})]}),h.jsx("div",{className:"admin-modal-content",children:s})]})})})}function kc({type:t,text:e}){const n=()=>{switch(t){case"success":return"status-success";case"warning":return"status-warning";case"danger":return"status-danger";case"info":return"status-info";case"primary":return"status-primary";default:return"status-default"}};return h.jsx("span",{className:`status-badge ${n()}`,children:e})}const hd=({title:t,value:e,change:n,icon:s,isLoading:a})=>h.jsxs(pe.div,{className:"admin-card",whileHover:{y:-5,boxShadow:"0 10px 20px rgba(0, 0, 0, 0.1)"},children:[h.jsx("div",{className:"admin-card-icon",children:s}),h.jsxs("div",{className:"admin-card-content",children:[h.jsx("div",{className:"admin-card-title",children:t}),a?h.jsx("div",{className:"admin-card-value-skeleton"}):h.jsx("div",{className:"admin-card-value",children:e}),n&&h.jsxs("div",{className:`admin-card-change ${n>=0?"positive":"negative"}`,children:[n>=0?"▲":"▼"," ",Math.abs(n),"%"]})]})]});function rL(t){if(!t)return"Неизвестно";let e;if(t instanceof Me)e=t.toDate();else if(t instanceof Date)e=t;else return"Неизвестно";return new Intl.DateTimeFormat("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(e)}function aL(){const[t,e]=I.useState([]),[n,s]=I.useState(!0),[a,l]=I.useState(""),[u,d]=I.useState("all"),[m,g]=I.useState(!1),[v,x]=I.useState(null),[T,w]=I.useState({title:"",type:"article",content:"",status:"draft"});I.useEffect(()=>{S()},[]);const S=async()=>{s(!0);try{const F=ti(wn(it,"content")),U=await ni(F);if(U.empty){const N=[{id:"1",title:"Как начать правильно питаться",type:"article",author:"Администратор",date:Me.fromDate(new Date),status:"published",content:"Содержание статьи о правильном питании..."},{id:"2",title:"Эффективные тренировки дома",type:"article",author:"Администратор",date:Me.fromDate(new Date),status:"published",content:"Содержание статьи о тренировках дома..."},{id:"3",title:"О нас",type:"page",author:"Администратор",date:Me.fromDate(new Date),status:"published",content:"Содержание страницы о нас..."},{id:"4",title:"Новая программа тренировок",type:"article",author:"Администратор",date:Me.fromDate(new Date),status:"draft",content:"Содержание статьи о новой программе тренировок..."}];for(const C of N)await Sa(gn(it,"content",C.id),C);e(N)}else{const N=U.docs.map(C=>({id:C.id,...C.data()}));e(N)}}catch(F){console.error("Ошибка при загрузке контента:",F)}s(!1)},j=t.filter(F=>{const U=F.title.toLowerCase().includes(a.toLowerCase()),N=u==="all"||F.type===u;return U&&N}),M=()=>{x(null),w({title:"",type:"article",content:"",status:"draft"}),g(!0)},V=F=>{x(F.id),w({title:F.title,type:F.type,content:F.content,status:F.status}),g(!0)},Y=async()=>{try{if(v)await Kg(gn(it,"content",v),{...T,updatedAt:Me.now()}),e(t.map(F=>F.id===v?{...F,...T,updatedAt:Me.now()}:F));else{const F={...T,id:Date.now().toString(),author:"Администратор",date:Me.now()};await Sa(gn(it,"content",F.id),F),e([...t,F])}g(!1),w({title:"",type:"article",content:"",status:"draft"}),x(null)}catch(F){console.error("Ошибка при сохранении контента:",F),alert("Произошла ошибка при сохранении контента. Пожалуйста, попробуйте еще раз.")}},H=async F=>{if(window.confirm("Вы уверены, что хотите удалить этот контент?"))try{await d3(gn(it,"content",F)),e(t.filter(U=>U.id!==F))}catch(U){console.error("Ошибка при удалении контента:",U),alert("Произошла ошибка при удалении контента. Пожалуйста, попробуйте еще раз.")}},te=async(F,U)=>{const N=U==="published"?"draft":"published";try{await Kg(gn(it,"content",F),{status:N,updatedAt:Me.now()}),e(t.map(C=>C.id===F?{...C,status:N,updatedAt:Me.now()}:C))}catch(C){console.error("Ошибка при изменении статуса контента:",C),alert("Произошла ошибка при изменении статуса контента. Пожалуйста, попробуйте еще раз.")}};return h.jsxs("div",{children:[h.jsxs("h2",{children:[h.jsx("span",{className:"icon",children:"📄"})," Управление контентом"]}),h.jsxs("div",{className:"admin-stats",children:[h.jsx(hd,{title:"Всего контента",value:t.length,icon:"📝",isLoading:n}),h.jsx(hd,{title:"Опубликовано",value:t.filter(F=>F.status==="published").length,icon:"✅",isLoading:n}),h.jsx(hd,{title:"Черновики",value:t.filter(F=>F.status==="draft").length,icon:"📋",isLoading:n}),h.jsx(hd,{title:"Страницы",value:t.filter(F=>F.type==="page").length,icon:"📃",isLoading:n})]}),h.jsxs("div",{className:"admin-filters",children:[h.jsxs("div",{className:"admin-search",children:[h.jsx("span",{className:"icon",children:"🔍"}),h.jsx("input",{type:"text",placeholder:"Поиск контента...",value:a,onChange:F=>l(F.target.value)})]}),h.jsxs("select",{className:"admin-filter",value:u,onChange:F=>d(F.target.value),children:[h.jsx("option",{value:"all",children:"Все типы"}),h.jsx("option",{value:"article",children:"Статьи"}),h.jsx("option",{value:"page",children:"Страницы"})]}),h.jsxs("button",{className:"admin-btn admin-btn-primary",onClick:M,children:[h.jsx("span",{children:"➕"})," Создать"]})]}),n?h.jsx("div",{className:"admin-loading",children:"Загрузка контента"}):h.jsx("div",{className:"admin-table-container",children:h.jsxs("table",{className:"admin-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Название"}),h.jsx("th",{children:"Тип"}),h.jsx("th",{children:"Автор"}),h.jsx("th",{children:"Дата"}),h.jsx("th",{children:"Статус"}),h.jsx("th",{children:"Действия"})]})}),h.jsx("tbody",{children:j.length>0?j.map(F=>h.jsxs("tr",{children:[h.jsx("td",{children:F.title}),h.jsx("td",{children:F.type==="article"?"Статья":"Страница"}),h.jsx("td",{children:F.author}),h.jsx("td",{children:rL(F.date)}),h.jsx("td",{children:h.jsx(kc,{type:F.status==="published"?"success":"warning",text:F.status==="published"?"Опубликовано":"Черновик"})}),h.jsx("td",{children:h.jsxs("div",{className:"admin-actions",children:[h.jsx("button",{className:"admin-action-btn",title:"Редактировать",onClick:()=>V(F),children:"✏️"}),h.jsx("button",{className:"admin-action-btn",title:"Удалить",onClick:()=>H(F.id),children:"🗑️"}),h.jsx("button",{className:"admin-action-btn",title:F.status==="published"?"В черновики":"Опубликовать",onClick:()=>te(F.id,F.status),children:F.status==="published"?"📋":"📢"})]})})]},F.id)):h.jsx("tr",{children:h.jsx("td",{colSpan:"6",className:"admin-empty-table",children:"Контент не найден"})})})]})}),h.jsxs(WA,{isOpen:m,onClose:()=>g(!1),title:v?"Редактирование контента":"Создание нового контента",children:[h.jsxs("div",{className:"admin-form-group",children:[h.jsx("label",{children:"Название"}),h.jsx("input",{type:"text",value:T.title,onChange:F=>w({...T,title:F.target.value}),placeholder:"Введите название"})]}),h.jsxs("div",{className:"admin-form-group",children:[h.jsx("label",{children:"Тип"}),h.jsxs("select",{value:T.type,onChange:F=>w({...T,type:F.target.value}),children:[h.jsx("option",{value:"article",children:"Статья"}),h.jsx("option",{value:"page",children:"Страница"})]})]}),h.jsxs("div",{className:"admin-form-group",children:[h.jsx("label",{children:"Содержание"}),h.jsx("textarea",{rows:"5",value:T.content,onChange:F=>w({...T,content:F.target.value}),placeholder:"Введите содержание"})]}),h.jsxs("div",{className:"admin-form-group",children:[h.jsx("label",{children:"Статус"}),h.jsxs("select",{value:T.status,onChange:F=>w({...T,status:F.target.value}),children:[h.jsx("option",{value:"draft",children:"Черновик"}),h.jsx("option",{value:"published",children:"Опубликовано"})]})]}),h.jsxs("div",{className:"admin-form-actions",children:[h.jsx("button",{className:"admin-btn admin-btn-secondary",onClick:()=>g(!1),children:"Отмена"}),h.jsx("button",{className:"admin-btn admin-btn-primary",onClick:Y,disabled:!T.title||!T.content,children:"Сохранить"})]})]})]})}const dd=({title:t,value:e,change:n,icon:s,isLoading:a})=>h.jsxs(pe.div,{className:"admin-card",whileHover:{y:-5,boxShadow:"0 10px 20px rgba(0, 0, 0, 0.1)"},children:[h.jsx("div",{className:"admin-card-icon",children:s}),h.jsxs("div",{className:"admin-card-content",children:[h.jsx("div",{className:"admin-card-title",children:t}),a?h.jsx("div",{className:"admin-card-value-skeleton"}):h.jsx("div",{className:"admin-card-value",children:e}),n&&h.jsxs("div",{className:`admin-card-change ${n>=0?"positive":"negative"}`,children:[n>=0?"▲":"▼"," ",Math.abs(n),"%"]})]})]});function gg(t){if(!t)return"Неизвестно";let e;if(t instanceof Me)e=t.toDate();else if(t instanceof Date)e=t;else return"Неизвестно";return new Intl.DateTimeFormat("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(e)}function oL(){const[t,e]=I.useState([]),[n,s]=I.useState(!0),[a,l]=I.useState(""),[u,d]=I.useState("all"),[m,g]=I.useState(!1),[v,x]=I.useState(null),[T,w]=I.useState([]),[S,j]=I.useState(!1);I.useEffect(()=>{M()},[]);const M=async()=>{s(!0);try{const U=ti(wn(it,"users")),N=await ni(U);if(N.empty)e([]);else{const C=N.docs.map(k=>({id:k.id,email:k.id,...k.data(),isAdmin:ka.some(st=>st.toLowerCase()===k.id.toLowerCase())})),D=ti(wn(it,"user_activity"),wa("type","==","login")),O=await ni(D),B={};O.docs.forEach(k=>{const st=k.data(),Ge=st.email,ee=st.timestamp;(!B[Ge]||ee>B[Ge])&&(B[Ge]=ee)});const q=C.map(k=>({...k,lastLogin:B[k.email]||null,status:k.status||"active"}));e(q)}}catch(U){console.error("Ошибка при загрузке пользователей:",U)}s(!1)},V=async U=>{j(!0);try{const N=ti(wn(it,"user_activity"),wa("email","==",U),wa("timestamp",">=",Me.fromDate(new Date(Date.now()-2592e6)))),C=await ni(N);if(C.empty)w([]);else{const D=C.docs.map(O=>({id:O.id,...O.data()})).sort((O,B)=>B.timestamp-O.timestamp);w(D)}}catch(N){console.error("Ошибка при загрузке активности пользователя:",N)}j(!1)},Y=t.filter(U=>{const N=U.name&&U.name.toLowerCase().includes(a.toLowerCase())||U.email&&U.email.toLowerCase().includes(a.toLowerCase()),C=u==="all"||U.status===u;return N&&C}),H=async(U,N)=>{const C=N==="active"?"blocked":"active";try{await Kg(gn(it,"users",U),{status:C,updatedAt:Me.now()}),e(t.map(D=>D.id===U?{...D,status:C,updatedAt:Me.now()}:D))}catch(D){console.error("Ошибка при изменении статуса пользователя:",D),alert("Произошла ошибка при изменении статуса пользователя. Пожалуйста, попробуйте еще раз.")}},te=U=>{x(U),V(U.email),g(!0)},F=U=>{switch(U){case"login":return"🔑";case"purchase":return"💰";case"profile_update":return"✏️";default:return"📝"}};return h.jsxs("div",{children:[h.jsxs("h2",{children:[h.jsx("span",{className:"icon",children:"👥"})," Управление пользователями"]}),h.jsxs("div",{className:"admin-stats",children:[h.jsx(dd,{title:"Всего пользователей",value:t.length,icon:"👤",isLoading:n}),h.jsx(dd,{title:"Активные",value:t.filter(U=>U.status==="active").length,icon:"✅",isLoading:n}),h.jsx(dd,{title:"Заблокированные",value:t.filter(U=>U.status==="blocked").length,icon:"🚫",isLoading:n}),h.jsx(dd,{title:"Администраторы",value:t.filter(U=>U.isAdmin).length,icon:"👑",isLoading:n})]}),h.jsxs("div",{className:"admin-filters",children:[h.jsxs("div",{className:"admin-search",children:[h.jsx("span",{className:"icon",children:"🔍"}),h.jsx("input",{type:"text",placeholder:"Поиск пользователей...",value:a,onChange:U=>l(U.target.value)})]}),h.jsxs("select",{className:"admin-filter",value:u,onChange:U=>d(U.target.value),children:[h.jsx("option",{value:"all",children:"Все пользователи"}),h.jsx("option",{value:"active",children:"Активные"}),h.jsx("option",{value:"blocked",children:"Заблокированные"})]})]}),n?h.jsx("div",{className:"admin-loading",children:"Загрузка пользователей"}):h.jsx("div",{className:"admin-table-container",children:h.jsxs("table",{className:"admin-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Имя"}),h.jsx("th",{children:"Email"}),h.jsx("th",{children:"Последний вход"}),h.jsx("th",{children:"Статус"}),h.jsx("th",{children:"Права"}),h.jsx("th",{children:"Действия"})]})}),h.jsx("tbody",{children:Y.length>0?Y.map(U=>h.jsxs("tr",{children:[h.jsx("td",{children:U.name||"Не указано"}),h.jsx("td",{children:U.email}),h.jsx("td",{children:U.lastLogin?gg(U.lastLogin):"Неизвестно"}),h.jsx("td",{children:h.jsx(kc,{type:U.status==="active"?"success":"danger",text:U.status==="active"?"Активен":"Заблокирован"})}),h.jsx("td",{children:h.jsx(kc,{type:U.isAdmin?"primary":"default",text:U.isAdmin?"Администратор":"Пользователь"})}),h.jsx("td",{children:h.jsxs("div",{className:"admin-actions",children:[h.jsx("button",{className:"admin-action-btn",title:"Просмотреть детали",onClick:()=>te(U),children:"👁️"}),h.jsx("button",{className:"admin-action-btn",title:U.status==="active"?"Заблокировать":"Разблокировать",onClick:()=>H(U.id,U.status),children:U.status==="active"?"🔒":"🔓"})]})})]},U.id)):h.jsx("tr",{children:h.jsx("td",{colSpan:"6",className:"admin-empty-table",children:"Пользователи не найдены"})})})]})}),h.jsx(WA,{isOpen:m,onClose:()=>g(!1),title:`Детали пользователя: ${(v==null?void 0:v.name)||(v==null?void 0:v.email)||"Пользователь"}`,children:v&&h.jsxs("div",{children:[h.jsxs("div",{className:"admin-user-details",children:[h.jsxs("div",{className:"admin-user-detail",children:[h.jsx("strong",{children:"Email:"})," ",v.email]}),h.jsxs("div",{className:"admin-user-detail",children:[h.jsx("strong",{children:"Имя:"})," ",v.name||"Не указано"]}),h.jsxs("div",{className:"admin-user-detail",children:[h.jsx("strong",{children:"Статус:"}),h.jsx(kc,{type:v.status==="active"?"success":"danger",text:v.status==="active"?"Активен":"Заблокирован"})]}),h.jsxs("div",{className:"admin-user-detail",children:[h.jsx("strong",{children:"Права:"}),h.jsx(kc,{type:v.isAdmin?"primary":"default",text:v.isAdmin?"Администратор":"Пользователь"})]}),h.jsxs("div",{className:"admin-user-detail",children:[h.jsx("strong",{children:"Последний вход:"})," ",v.lastLogin?gg(v.lastLogin):"Неизвестно"]})]}),h.jsx("h4",{children:"Активность пользователя (последние 30 дней)"}),S?h.jsx("div",{className:"admin-loading",children:"Загрузка активности"}):T.length>0?h.jsx("div",{className:"admin-table-container",children:h.jsxs("table",{className:"admin-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Тип"}),h.jsx("th",{children:"Описание"}),h.jsx("th",{children:"Дата"})]})}),h.jsx("tbody",{children:T.map(U=>h.jsxs("tr",{children:[h.jsxs("td",{children:[h.jsx("span",{className:"activity-icon",children:F(U.type)}),U.type==="login"?"Вход":U.type==="purchase"?"Покупка":U.type==="profile_update"?"Обновление профиля":"Другое"]}),h.jsx("td",{children:U.desc||"Нет описания"}),h.jsx("td",{children:gg(U.timestamp)})]},U.id))})]})}):h.jsx("div",{className:"admin-empty-table",style:{padding:"1rem",textAlign:"center"},children:"Активность не найдена"}),h.jsxs("div",{className:"admin-form-actions",children:[h.jsx("button",{className:"admin-btn admin-btn-secondary",onClick:()=>g(!1),children:"Закрыть"}),h.jsx("button",{className:"admin-btn admin-btn-primary",onClick:()=>H(v.id,v.status),children:v.status==="active"?"Заблокировать":"Разблокировать"})]})]})})]})}function lL(){const[t,e]=I.useState({siteName:"FitGenius",siteDescription:"Персональные планы питания и тренировок",contactEmail:"support@fitgenius.ru",phoneNumber:"+375 29 897-52-19",socialLinks:{instagram:"https://instagram.com/fitgenius",facebook:"https://facebook.com/fitgenius",telegram:"https://t.me/fitgenius"},seo:{metaTitle:"FitGenius - Персональные планы питания и тренировок",metaDescription:"Получите персональный план питания и тренировок, разработанный специально для вас. Достигайте своих целей с FitGenius!",keywords:"питание, тренировки, фитнес, здоровье, персональный план"},appearance:{primaryColor:"#36b14e",secondaryColor:"#4fd165",fontFamily:"Roboto, sans-serif",darkMode:!1}}),[n,s]=I.useState(!0),[a,l]=I.useState(!1),[u,d]=I.useState(!1),[m,g]=I.useState(null);I.useEffect(()=>{v()},[]);const v=async()=>{s(!0);try{const S=await xv(gn(it,"settings","site"));S.exists()?e(S.data()):await Sa(gn(it,"settings","site"),{...t,createdAt:Me.now(),updatedAt:Me.now()})}catch(S){console.error("Ошибка при загрузке настроек:",S)}s(!1)},x=(S,j,M)=>{e(S?{...t,[S]:{...t[S],[j]:M}}:{...t,[j]:M})},T=async()=>{l(!0),d(!1),g(null);try{await Sa(gn(it,"settings","site"),{...t,updatedAt:Me.now()}),d(!0),setTimeout(()=>{d(!1)},3e3)}catch(S){console.error("Ошибка при сохранении настроек:",S),g("Произошла ошибка при сохранении настроек. Пожалуйста, попробуйте еще раз.")}l(!1)},w=async()=>{if(window.confirm("Вы уверены, что хотите сбросить все настройки до значений по умолчанию?")){s(!0);const S={siteName:"FitGenius",siteDescription:"Персональные планы питания и тренировок",contactEmail:"support@fitgenius.ru",phoneNumber:"+375 29 897-52-19",socialLinks:{instagram:"https://instagram.com/fitgenius",facebook:"https://facebook.com/fitgenius",telegram:"https://t.me/fitgenius"},seo:{metaTitle:"FitGenius - Персональные планы питания и тренировок",metaDescription:"Получите персональный план питания и тренировок, разработанный специально для вас. Достигайте своих целей с FitGenius!",keywords:"питание, тренировки, фитнес, здоровье, персональный план"},appearance:{primaryColor:"#36b14e",secondaryColor:"#4fd165",fontFamily:"Roboto, sans-serif",darkMode:!1},updatedAt:Me.now()};try{await Sa(gn(it,"settings","site"),S),e(S),d(!0),setTimeout(()=>{d(!1)},3e3)}catch(j){console.error("Ошибка при сбросе настроек:",j),g("Произошла ошибка при сбросе настроек. Пожалуйста, попробуйте еще раз.")}s(!1)}};return n?h.jsx("div",{className:"admin-loading",children:"Загрузка настроек"}):h.jsxs("div",{children:[h.jsxs("h2",{children:[h.jsx("span",{className:"icon",children:"⚙️"})," Настройки сайта"]}),h.jsxs("div",{className:"admin-settings-container",children:[h.jsxs("div",{className:"admin-settings-section",children:[h.jsx("h3",{children:"Основные настройки"}),h.jsxs("div",{className:"admin-form-group",children:[h.jsx("label",{children:"Название сайта"}),h.jsx("input",{type:"text",value:t.siteName,onChange:S=>x(null,"siteName",S.target.value)})]}),h.jsxs("div",{className:"admin-form-group",children:[h.jsx("label",{children:"Описание сайта"}),h.jsx("textarea",{rows:"3",value:t.siteDescription,onChange:S=>x(null,"siteDescription",S.target.value)})]}),h.jsxs("div",{className:"admin-form-group",children:[h.jsx("label",{children:"Email для связи"}),h.jsx("input",{type:"email",value:t.contactEmail,onChange:S=>x(null,"contactEmail",S.target.value)})]}),h.jsxs("div",{className:"admin-form-group",children:[h.jsx("label",{children:"Номер телефона"}),h.jsx("input",{type:"text",value:t.phoneNumber,onChange:S=>x(null,"phoneNumber",S.target.value)})]})]}),h.jsxs("div",{className:"admin-settings-section",children:[h.jsx("h3",{children:"Социальные сети"}),h.jsxs("div",{className:"admin-form-group",children:[h.jsx("label",{children:"Instagram"}),h.jsx("input",{type:"text",value:t.socialLinks.instagram,onChange:S=>x("socialLinks","instagram",S.target.value)})]}),h.jsxs("div",{className:"admin-form-group",children:[h.jsx("label",{children:"Facebook"}),h.jsx("input",{type:"text",value:t.socialLinks.facebook,onChange:S=>x("socialLinks","facebook",S.target.value)})]}),h.jsxs("div",{className:"admin-form-group",children:[h.jsx("label",{children:"Telegram"}),h.jsx("input",{type:"text",value:t.socialLinks.telegram,onChange:S=>x("socialLinks","telegram",S.target.value)})]})]}),h.jsxs("div",{className:"admin-settings-section",children:[h.jsx("h3",{children:"SEO настройки"}),h.jsxs("div",{className:"admin-form-group",children:[h.jsx("label",{children:"Meta Title"}),h.jsx("input",{type:"text",value:t.seo.metaTitle,onChange:S=>x("seo","metaTitle",S.target.value)})]}),h.jsxs("div",{className:"admin-form-group",children:[h.jsx("label",{children:"Meta Description"}),h.jsx("textarea",{rows:"3",value:t.seo.metaDescription,onChange:S=>x("seo","metaDescription",S.target.value)})]}),h.jsxs("div",{className:"admin-form-group",children:[h.jsx("label",{children:"Ключевые слова"}),h.jsx("input",{type:"text",value:t.seo.keywords,onChange:S=>x("seo","keywords",S.target.value)}),h.jsx("small",{children:"Разделяйте ключевые слова запятыми"})]})]}),h.jsxs("div",{className:"admin-settings-section",children:[h.jsx("h3",{children:"Внешний вид"}),h.jsxs("div",{className:"admin-form-group",children:[h.jsx("label",{children:"Основной цвет"}),h.jsxs("div",{className:"admin-color-picker",children:[h.jsx("input",{type:"color",value:t.appearance.primaryColor,onChange:S=>x("appearance","primaryColor",S.target.value)}),h.jsx("input",{type:"text",value:t.appearance.primaryColor,onChange:S=>x("appearance","primaryColor",S.target.value)})]})]}),h.jsxs("div",{className:"admin-form-group",children:[h.jsx("label",{children:"Дополнительный цвет"}),h.jsxs("div",{className:"admin-color-picker",children:[h.jsx("input",{type:"color",value:t.appearance.secondaryColor,onChange:S=>x("appearance","secondaryColor",S.target.value)}),h.jsx("input",{type:"text",value:t.appearance.secondaryColor,onChange:S=>x("appearance","secondaryColor",S.target.value)})]})]}),h.jsxs("div",{className:"admin-form-group",children:[h.jsx("label",{children:"Шрифт"}),h.jsxs("select",{value:t.appearance.fontFamily,onChange:S=>x("appearance","fontFamily",S.target.value),children:[h.jsx("option",{value:"Roboto, sans-serif",children:"Roboto"}),h.jsx("option",{value:"Open Sans, sans-serif",children:"Open Sans"}),h.jsx("option",{value:"Montserrat, sans-serif",children:"Montserrat"}),h.jsx("option",{value:"Lato, sans-serif",children:"Lato"}),h.jsx("option",{value:"Poppins, sans-serif",children:"Poppins"})]})]}),h.jsx("div",{className:"admin-form-group",children:h.jsxs("label",{className:"admin-checkbox-label",children:[h.jsx("input",{type:"checkbox",checked:t.appearance.darkMode,onChange:S=>x("appearance","darkMode",S.target.checked)}),"Темная тема по умолчанию"]})})]})]}),u&&h.jsx("div",{className:"admin-success-message",children:"Настройки успешно сохранены!"}),m&&h.jsx("div",{className:"admin-error-message",children:m}),h.jsxs("div",{className:"admin-form-actions",children:[h.jsx("button",{className:"admin-btn admin-btn-secondary",onClick:w,disabled:a,children:"Сбросить настройки"}),h.jsx("button",{className:"admin-btn admin-btn-primary",onClick:T,disabled:a,children:a?"Сохранение...":"Сохранить настройки"})]})]})}const cL=()=>h.jsx("div",{className:"admin-bg",children:[...Array(20)].map((t,e)=>h.jsx(pe.div,{className:"admin-particle",style:{top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,width:`${Math.random()*100+50}px`,height:`${Math.random()*100+50}px`,opacity:Math.random()*.5+.1},animate:{x:[0,Math.random()*100-50,0],y:[0,Math.random()*100-50,0]},transition:{duration:Math.random()*20+15,repeat:1/0,ease:"easeInOut"}},e))});function ZA(t){if(!t||!t.toDate)return"Неизвестно";const e=t.toDate();return new Intl.DateTimeFormat("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(e)}const fd=({title:t,value:e,change:n,icon:s,isLoading:a})=>h.jsxs(pe.div,{className:"admin-stat-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[h.jsxs("div",{className:"admin-stat-title",children:[h.jsx("span",{className:"icon",children:s}),t]}),a?h.jsx("div",{className:"admin-stat-value",children:"..."}):h.jsx("div",{className:"admin-stat-value",children:e}),n&&h.jsxs("div",{className:`admin-stat-change ${n>=0?"positive":"negative"}`,children:[n>=0?"↑":"↓"," ",Math.abs(n),"% за 7 дней"]})]}),uL=({users:t,isLoading:e})=>h.jsx("div",{className:"admin-table-container",children:h.jsxs("table",{className:"admin-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Пользователь"}),h.jsx("th",{children:"Email"}),h.jsx("th",{children:"Статус"}),h.jsx("th",{children:"Последний вход"}),h.jsx("th",{children:"Действия"})]})}),h.jsx("tbody",{children:e?h.jsx("tr",{children:h.jsx("td",{colSpan:"5",style:{textAlign:"center",padding:"2rem"},children:"Загрузка данных..."})}):t.length>0?t.map(n=>h.jsxs("tr",{children:[h.jsx("td",{children:n.name||"Без имени"}),h.jsx("td",{children:n.email}),h.jsx("td",{children:h.jsx("span",{className:`status ${n.active?"active":"inactive"}`,children:n.active?"Активен":"Неактивен"})}),h.jsx("td",{children:ZA(n.lastLogin)}),h.jsxs("td",{className:"actions",children:[h.jsx("button",{className:"action-btn view",title:"Просмотр",children:"👁️"}),h.jsx("button",{className:"action-btn edit",title:"Редактировать",children:"✏️"}),h.jsx("button",{className:"action-btn delete",title:"Удалить",children:"🗑️"})]})]},n.id)):h.jsx("tr",{children:h.jsx("td",{colSpan:"5",style:{textAlign:"center",padding:"2rem"},children:"Нет данных"})})})]})}),hL=({activities:t,isLoading:e})=>h.jsx("div",{className:"admin-table-container",children:h.jsxs("table",{className:"admin-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Пользователь"}),h.jsx("th",{children:"Тип активности"}),h.jsx("th",{children:"Описание"}),h.jsx("th",{children:"Дата и время"})]})}),h.jsx("tbody",{children:e?h.jsx("tr",{children:h.jsx("td",{colSpan:"4",style:{textAlign:"center",padding:"2rem"},children:"Загрузка данных..."})}):t.length>0?t.map(n=>h.jsxs("tr",{children:[h.jsx("td",{children:n.email||"Гость"}),h.jsxs("td",{children:[n.type==="login"&&"Вход в систему",n.type==="purchase"&&"Покупка",n.type==="survey"&&"Опрос",n.type==="profile_update"&&"Обновление профиля",n.type==="plan_view"&&"Просмотр плана",!["login","purchase","survey","profile_update","plan_view"].includes(n.type)&&"Действие"]}),h.jsx("td",{children:n.desc||"Без описания"}),h.jsx("td",{children:ZA(n.timestamp)})]},n.id)):h.jsx("tr",{children:h.jsx("td",{colSpan:"4",style:{textAlign:"center",padding:"2rem"},children:"Нет данных"})})})]})}),dL=()=>{const[t,e]=I.useState({totalUsers:0,activeUsers:0,totalVisits:0,totalPurchases:0}),[n,s]=I.useState([]),[a,l]=I.useState([]),[u,d]=I.useState(!0),[m,g]=I.useState(!0),[v,x]=I.useState(!0);return I.useEffect(()=>{async function T(){d(!0);try{const j=ti(wn(it,"users")),V=(await ni(j)).size,Y=new Date;Y.setDate(Y.getDate()-7);const H=Me.fromDate(Y),te=ti(wn(it,"user_activity"),wa("type","==","login"),wa("timestamp",">=",H)),F=await ni(te),U=new Set(F.docs.map(k=>k.data().email)).size,N=ti(wn(it,"visit_logs")),D=(await ni(N)).size,O=ti(wn(it,"user_activity"),wa("type","==","purchase")),q=(await ni(O)).size;e({totalUsers:V,activeUsers:U,totalVisits:D,totalPurchases:q})}catch(j){console.error("Ошибка при загрузке статистики:",j)}d(!1)}async function w(){g(!0);try{const j=ti(wn(it,"users"),Xd("lastLogin","desc"),$g(5)),M=await ni(j);s(M.docs.map(V=>({id:V.id,...V.data()})))}catch(j){console.error("Ошибка при загрузке пользователей:",j)}g(!1)}async function S(){x(!0);try{const j=ti(wn(it,"user_activity"),Xd("timestamp","desc"),$g(10)),M=await ni(j);l(M.docs.map(V=>({id:V.id,...V.data()})))}catch(j){console.error("Ошибка при загрузке активности:",j)}x(!1)}T(),w(),S()},[]),h.jsxs("div",{children:[h.jsxs("h2",{children:[h.jsx("span",{className:"icon",children:"📊"})," Дашборд"]}),h.jsxs("div",{className:"admin-stats",children:[h.jsx(fd,{title:"Всего пользователей",value:t.totalUsers,change:5,icon:"👥",isLoading:u}),h.jsx(fd,{title:"Активные пользователи",value:t.activeUsers,change:8,icon:"🔥",isLoading:u}),h.jsx(fd,{title:"Всего посещений",value:t.totalVisits,change:12,icon:"👁️",isLoading:u}),h.jsx(fd,{title:"Всего покупок",value:t.totalPurchases,change:-3,icon:"💰",isLoading:u})]}),h.jsxs("h2",{children:[h.jsx("span",{className:"icon",children:"👥"})," Последние пользователи"]}),h.jsx(uL,{users:n,isLoading:m}),h.jsxs("h2",{children:[h.jsx("span",{className:"icon",children:"📝"})," Последняя активность"]}),h.jsx(hL,{activities:a,isLoading:v})]})};function fL(){const[t,e]=I.useState("dashboard"),n=Un(),[s,a]=I.useState(!1);return I.useEffect(()=>{const l=localStorage.getItem("fitgenius_user");let u="";if(l)try{if(l.startsWith("{")){const g=JSON.parse(l);g.email&&(u=g.email)}else l.includes("@")&&(u=l)}catch(g){console.error("Ошибка при парсинге данных пользователя:",g),u=l}const m=(()=>{if(!u)return!1;for(const g of ka)if(u.toLowerCase()===g.toLowerCase())return!0;return!1})();a(m),m||n("/")},[n]),s?h.jsxs("div",{className:"admin-container",children:[h.jsx(cL,{}),h.jsxs(pe.div,{className:"admin-content",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[h.jsxs("div",{className:"admin-header",children:[h.jsx("div",{className:"admin-header-decoration"}),h.jsx("div",{className:"admin-header-decoration"}),h.jsx("h1",{className:"admin-title",children:"Панель администратора FitGenius"}),h.jsx("div",{className:"admin-subtitle",children:"Управление сайтом и пользователями"}),h.jsxs("button",{className:"admin-btn admin-btn-secondary",onClick:()=>n("/dashboard"),style:{position:"absolute",top:"1.5rem",right:"1.5rem"},children:[h.jsx("span",{children:"🏠"})," Вернуться на сайт"]})]}),h.jsxs("div",{className:"admin-tabs",children:[h.jsxs("div",{className:`admin-tab ${t==="dashboard"?"active":""}`,onClick:()=>e("dashboard"),children:[h.jsx("span",{className:"admin-tab-icon",children:"📊"})," Дашборд"]}),h.jsxs("div",{className:`admin-tab ${t==="users"?"active":""}`,onClick:()=>e("users"),children:[h.jsx("span",{className:"admin-tab-icon",children:"👥"})," Пользователи"]}),h.jsxs("div",{className:`admin-tab ${t==="content"?"active":""}`,onClick:()=>e("content"),children:[h.jsx("span",{className:"admin-tab-icon",children:"📄"})," Контент"]}),h.jsxs("div",{className:`admin-tab ${t==="reviews"?"active":""}`,onClick:()=>e("reviews"),children:[h.jsx("span",{className:"admin-tab-icon",children:"⭐"})," Отзывы"]}),h.jsxs("div",{className:`admin-tab ${t==="published"?"active":""}`,onClick:()=>e("published"),children:[h.jsx("span",{className:"admin-tab-icon",children:"📝"})," Опубликованные отзывы"]}),h.jsxs("div",{className:`admin-tab ${t==="feedback"?"active":""}`,onClick:()=>e("feedback"),children:[h.jsx("span",{className:"admin-tab-icon",children:"📨"})," Обратная связь"]}),h.jsxs("div",{className:`admin-tab ${t==="visits"?"active":""}`,onClick:()=>e("visits"),children:[h.jsx("span",{className:"admin-tab-icon",children:"👁️"})," История заходов"]}),h.jsxs("div",{className:`admin-tab ${t==="settings"?"active":""}`,onClick:()=>e("settings"),children:[h.jsx("span",{className:"admin-tab-icon",children:"⚙️"})," Настройки"]})]}),h.jsx(Cu,{mode:"wait",children:h.jsxs(pe.div,{className:"admin-tab-content",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:[t==="dashboard"&&h.jsx(dL,{}),t==="users"&&h.jsx(oL,{}),t==="content"&&h.jsx(aL,{}),t==="reviews"&&h.jsx(tL,{}),t==="published"&&h.jsx(iL,{}),t==="feedback"&&h.jsx(nL,{}),t==="visits"&&h.jsx(sL,{}),t==="settings"&&h.jsx(lL,{})]},t)})]})]}):h.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:h.jsx("h2",{children:"Проверка прав доступа..."})})}const yg={food:{name:"Программа питания на неделю",price:20,oldPrice:null,icon:"🥗",description:"Персональное меню на 7 дней, список покупок, рекомендации по питанию."},workout:{name:"Программа тренировок на неделю",price:30,oldPrice:null,icon:"💪",description:"План тренировок на 7 дней, упражнения, видео и советы."},combo:{name:"Комбо: питание + тренировки на неделю",price:40,oldPrice:50,icon:"🔥",description:"Всё включено: рацион и тренировки на 7 дней для максимального результата.",discount:"Экономия 10 руб."}},mL=()=>h.jsx("div",{className:"pay-bg",children:[...Array(20)].map((t,e)=>h.jsx(pe.div,{className:"pay-particle",style:{top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,width:`${Math.random()*100+50}px`,height:`${Math.random()*100+50}px`,opacity:Math.random()*.5+.1},animate:{x:[0,Math.random()*100-50,0],y:[0,Math.random()*100-50,0]},transition:{duration:Math.random()*20+15,repeat:1/0,ease:"easeInOut"}},e))}),pL=()=>h.jsxs("div",{className:"pay-methods",children:[h.jsx("div",{className:"pay-methods-title",children:"Принимаем к оплате"}),h.jsxs("div",{className:"pay-methods-icons",children:[h.jsx("div",{className:"pay-method-icon pay-method-visa"}),h.jsx("div",{className:"pay-method-icon pay-method-mastercard"}),h.jsx("div",{className:"pay-method-icon pay-method-mir"}),h.jsx("div",{className:"pay-method-icon pay-method-applepay"}),h.jsx("div",{className:"pay-method-icon pay-method-googlepay"})]})]}),gL=()=>h.jsxs("div",{className:"pay-guarantees",children:[h.jsxs("div",{className:"pay-guarantee-item",children:[h.jsx("span",{className:"pay-guarantee-icon",children:"🔒"}),h.jsx("span",{children:"Безопасная оплата"})]}),h.jsxs("div",{className:"pay-guarantee-item",children:[h.jsx("span",{className:"pay-guarantee-icon",children:"💸"}),h.jsx("span",{children:"Гарантия возврата"})]}),h.jsxs("div",{className:"pay-guarantee-item",children:[h.jsx("span",{className:"pay-guarantee-icon",children:"🛠"}),h.jsx("span",{children:"Поддержка 24/7"})]})]});function yL(){const t=Un(),[e,n]=I.useState("food"),[s,a]=I.useState(yg.food),[l,u]=I.useState(!1),[d,m]=I.useState(!1);I.useEffect(()=>{const v=localStorage.getItem("fitgenius_selected_type")||"food";n(v),a(yg[v]||yg.food)},[]);const g=async()=>{u(!0),m(!0),setTimeout(async()=>{try{localStorage.setItem("fitgenius_paid_type",e);const v=localStorage.getItem("fitgenius_user")||"";let x="";if(v)try{if(v.startsWith("{")){const T=JSON.parse(v);T.email&&(x=T.email)}else v.includes("@")&&(x=v)}catch(T){console.error("Ошибка при парсинге данных пользователя:",T),x=v}await Cs({email:x,type:"purchase",desc:`Оплачен тариф: ${s.name} (${s.price} руб.)`}),setTimeout(()=>{u(!1),t("/dashboard")},1500)}catch(v){console.error("Ошибка при обработке оплаты:",v),u(!1),m(!1)}},1200)};return h.jsxs("div",{className:"pay-page-container",children:[h.jsx(mL,{}),h.jsxs(pe.div,{className:"pay-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[h.jsxs("div",{className:"pay-card-header",children:[h.jsx("div",{className:"pay-card-decoration"}),h.jsx("div",{className:"pay-card-decoration"}),h.jsx(pe.h1,{className:"pay-title",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},children:"Оплата"}),h.jsx(pe.p,{className:"pay-subtitle",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.5},children:"Ваш персональный план уже готов!"})]}),h.jsxs("div",{className:"pay-card-body",children:[h.jsxs("div",{className:"pay-info",children:[h.jsxs(pe.div,{className:"pay-tariff",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.5},whileHover:{y:-5,boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)"},children:[h.jsx("div",{className:"pay-tariff-icon",children:s.icon}),h.jsxs("div",{className:"pay-tariff-details",children:[h.jsx("div",{className:"pay-tariff-name",children:s.name}),h.jsx("div",{className:"pay-tariff-description",children:s.description}),h.jsxs("div",{className:"pay-price-container",children:[s.oldPrice&&h.jsxs("span",{className:"pay-old-price",children:[s.oldPrice," руб."]}),h.jsxs("span",{className:"pay-current-price",children:[s.price," руб."]}),s.discount&&h.jsx("span",{className:"pay-discount-badge",children:s.discount})]})]})]}),h.jsxs(pe.div,{className:"pay-total",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.5},children:[h.jsx("div",{className:"pay-total-label",children:"Сумма к оплате:"}),h.jsxs("div",{className:"pay-total-price",children:[s.price," руб."]})]})]}),h.jsxs(pe.button,{className:"pay-button",onClick:g,disabled:l,initial:{opacity:0,y:20},animate:{opacity:1,y:0,boxShadow:["0 5px 15px rgba(79, 209, 101, 0.3)","0 10px 25px rgba(79, 209, 101, 0.5)","0 5px 15px rgba(79, 209, 101, 0.3)"]},transition:{opacity:{delay:.6,duration:.5},y:{delay:.6,duration:.5},boxShadow:{repeat:1/0,duration:2,repeatType:"reverse"}},whileHover:{scale:1.05,boxShadow:"0 10px 25px rgba(79, 209, 101, 0.5)"},whileTap:{scale:.95},children:[h.jsx("span",{className:"pay-button-icon",children:"✨"}),l?"Обработка оплаты...":"Оплатить",h.jsx("span",{className:"pay-button-icon",children:"✨"})]}),h.jsxs(pe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7,duration:.5},children:[h.jsx(pL,{}),h.jsx(gL,{})]})]})]}),d&&h.jsx("div",{className:"confetti-container",children:[...Array(100)].map((v,x)=>h.jsx("div",{className:"confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*.5}s`,backgroundColor:`hsl(${Math.random()*360}, 80%, 60%)`}},x))})]})}const vL=()=>h.jsx("div",{className:"animated-background",children:[...Array(20)].map((t,e)=>h.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${5+Math.random()*10}s`,width:`${10+Math.random()*30}px`,height:`${10+Math.random()*30}px`,opacity:.1+Math.random()*.2}},e))}),_L=({features:t})=>h.jsx("ul",{className:"tariff-features",children:t.map((e,n)=>h.jsxs(pe.li,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:n*.1},className:"tariff-feature",children:[h.jsx("span",{className:"feature-check",children:"✓"})," ",e]},n))}),xL=()=>h.jsxs("div",{className:"payment-methods",children:[h.jsx("h3",{children:"Способы оплаты"}),h.jsxs("div",{className:"payment-icons",children:[h.jsx("div",{className:"payment-icon visa"}),h.jsx("div",{className:"payment-icon mastercard"}),h.jsx("div",{className:"payment-icon mir"}),h.jsx("div",{className:"payment-icon applepay"}),h.jsx("div",{className:"payment-icon googlepay"})]})]});function TL(){const[t,e]=I.useState("combo"),[n,s]=I.useState(!1),a=Un(),l=[{id:"food",title:"Программа питания на неделю",price:20,oldPrice:null,desc:"Персональное меню на 7 дней, список покупок, рекомендации по питанию.",features:["Индивидуальный расчет калорий","Учет пищевых предпочтений","Список продуктов для закупки","Рецепты и инструкции на 7 дней"],icon:"🥗"},{id:"workout",title:"Программа тренировок на неделю",price:30,oldPrice:null,desc:"План тренировок на 7 дней, упражнения и рекомендации.",features:["Персональный план тренировок","Подробные описания упражнений","Отслеживание прогресса на неделю","Адаптация под ваш уровень"],icon:"💪"},{id:"combo",title:"Комбо: питание + тренировки на неделю",price:40,oldPrice:50,desc:"Всё включено: рацион и тренировки на 7 дней для максимального результата.",features:["Синхронизированные планы на неделю","Максимальная эффективность","Приоритетная поддержка","Доступ к премиум-контенту","Выгоднее, чем покупать по отдельности"],highlight:!0,icon:"🔥",savingInfo:"Экономия 10 руб. по сравнению с покупкой по отдельности"}],u=l.find(m=>m.id===t),d=()=>{s(!0),setTimeout(()=>a(`/questionnaire?type=${t}`),1500)};return h.jsxs("div",{className:"prices-bg",children:[h.jsx(vL,{}),h.jsxs(pe.div,{className:"prices-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[h.jsx(pe.h1,{className:"prices-heading",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},children:"Цены и оплата"}),h.jsx(pe.p,{className:"prices-subheading",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.5},children:"Выберите подходящий тариф и начните путь к здоровому образу жизни с FitGenius"}),h.jsx("div",{className:"prices-tariffs",children:l.map((m,g)=>h.jsxs(pe.div,{className:`prices-tariff ${t===m.id?"selected":""} ${m.highlight?"highlight":""}`,onClick:()=>e(m.id),initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2+g*.1,duration:.5},whileHover:{y:-5,boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)"},children:[m.highlight&&h.jsx("div",{className:"prices-badge",children:h.jsx("span",{children:"Выгодно! Экономия 20%"})}),h.jsx("div",{className:"tariff-icon",children:m.icon}),h.jsx("h3",{className:"prices-title",children:m.title}),h.jsx("p",{className:"prices-desc",children:m.desc}),h.jsxs("div",{className:"prices-price",children:[m.oldPrice&&h.jsxs("span",{className:"old-price",children:[m.oldPrice," руб."]}),h.jsxs("span",{className:"current-price",children:[m.price," руб."]}),m.savingInfo&&h.jsx("div",{className:"saving-info",children:m.savingInfo})]}),h.jsx(_L,{features:m.features}),h.jsx(pe.button,{className:`tariff-select-btn ${t===m.id?"selected":""} ${m.highlight?"highlight-btn":""}`,whileHover:{scale:1.05,boxShadow:m.highlight?"0 10px 25px rgba(79, 209, 101, 0.4)":"0 5px 15px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},onClick:v=>{v.stopPropagation(),e(m.id)},initial:m.highlight?{y:[0,-5,0],transition:{repeat:3,duration:.6}}:{},animate:m.highlight?{boxShadow:["0 5px 15px rgba(79, 209, 101, 0.2)","0 8px 25px rgba(79, 209, 101, 0.4)","0 5px 15px rgba(79, 209, 101, 0.2)"],transition:{repeat:1/0,duration:2,repeatType:"reverse"}}:{},children:t===m.id?"Выбрано":m.highlight?"Выбрать выгодно!":"Выбрать"})]},m.id))}),h.jsxs(pe.div,{className:"prices-summary",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6,duration:.5},children:[h.jsxs("div",{className:"summary-details",children:[h.jsx("h3",{children:"Ваш выбор:"}),h.jsxs("div",{className:"selected-tariff",children:[h.jsx("span",{className:"selected-icon",children:u.icon}),h.jsx("span",{className:"selected-title",children:u.title}),h.jsxs("span",{className:"selected-price",children:[u.price," руб."]})]})]}),h.jsxs(pe.button,{className:"prices-button highlight-main-btn",onClick:d,whileHover:{scale:1.05,boxShadow:"0 10px 30px rgba(79, 209, 101, 0.5)"},whileTap:{scale:.95},initial:{y:0},animate:{y:[0,-5,0],boxShadow:["0 5px 15px rgba(79, 209, 101, 0.3)","0 10px 30px rgba(79, 209, 101, 0.5)","0 5px 15px rgba(79, 209, 101, 0.3)"],transition:{repeat:1/0,duration:2,repeatType:"reverse"}},children:[h.jsx("span",{className:"btn-icon",children:"✨"})," Выбрать выгодный тариф ",h.jsx("span",{className:"btn-icon",children:"✨"})]})]}),h.jsxs("div",{className:"prices-steps",children:[h.jsx(pe.h2,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},children:"Как это работает"}),h.jsxs("div",{className:"steps-container",children:[h.jsxs(pe.div,{className:"step-item",initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.8},children:[h.jsx("div",{className:"step-number",children:"1"}),h.jsx("h3",{children:"Выберите тариф"}),h.jsx("p",{children:"Выберите подходящий вам тариф из предложенных вариантов"})]}),h.jsxs(pe.div,{className:"step-item",initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.9},children:[h.jsx("div",{className:"step-number",children:"2"}),h.jsx("h3",{children:"Заполните анкету"}),h.jsx("p",{children:"Ответьте на несколько вопросов для создания персональной программы"})]}),h.jsxs(pe.div,{className:"step-item",initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:1},children:[h.jsx("div",{className:"step-number",children:"3"}),h.jsx("h3",{children:"Оплатите заказ"}),h.jsx("p",{children:"Безопасная оплата с помощью любой банковской карты или электронного кошелька"})]}),h.jsxs(pe.div,{className:"step-item",initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:1.1},children:[h.jsx("div",{className:"step-number",children:"4"}),h.jsx("h3",{children:"Получите результат"}),h.jsx("p",{children:"Доступ к персональной программе в личном кабинете"})]})]})]}),h.jsx(xL,{}),h.jsxs(pe.div,{className:"prices-guarantee",initial:{opacity:0},animate:{opacity:1},transition:{delay:.7,duration:.5},children:[h.jsxs("div",{className:"guarantee-item",children:[h.jsx("span",{className:"guarantee-icon",children:"🔒"}),h.jsx("span",{children:"Безопасная оплата"})]}),h.jsxs("div",{className:"guarantee-item",children:[h.jsx("span",{className:"guarantee-icon",children:"💸"}),h.jsx("span",{children:"Гарантия возврата в течение 7 дней"})]}),h.jsxs("div",{className:"guarantee-item",children:[h.jsx("span",{className:"guarantee-icon",children:"🛠"}),h.jsx("span",{children:"Техническая поддержка 24/7"})]})]}),h.jsxs("div",{className:"prices-support",children:["Остались вопросы? ",h.jsx("a",{href:"mailto:support@fitgenius.ru",children:"support@fitgenius.ru"})]})]}),n&&h.jsx("div",{className:"confetti-container",children:[...Array(100)].map((m,g)=>h.jsx("div",{className:"confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*.5}s`,backgroundColor:`hsl(${Math.random()*360}, 80%, 60%)`}},g))})]})}const ka=["laptinskii07@gmail.com","Sasha-laptinskii@mail.ru"];function EL(){const[t,e]=I.useState(()=>localStorage.getItem("fitgenius_theme")||"dark");return I.useEffect(()=>{document.body.classList.remove("theme-light","theme-dark"),document.body.classList.add(`theme-${t}`),localStorage.setItem("fitgenius_theme",t)},[t]),h.jsx("button",{className:"theme-toggle-btn",onClick:()=>e(t==="light"?"dark":"light"),title:"Сменить тему","aria-label":"Сменить тему",children:t==="light"?"🌙":"☀️"})}function bL(){const t=localStorage.getItem("fitgenius_user");localStorage.getItem("fitgenius_name");const e=Un();t&&ka.some(j=>{try{const M=JSON.parse(t);return M.email&&j.toLowerCase()===M.email.toLowerCase()}catch{return j.toLowerCase()===t.toLowerCase()}});const[n,s]=I.useState(!1),[a,l]=I.useState(!1),u=I.useRef(null),d=I.useRef(null),m=I.useRef(null);I.useEffect(()=>{const j=()=>{const M=window.scrollY;l(M>20)};return window.addEventListener("scroll",j),()=>window.removeEventListener("scroll",j)},[]);const g=j=>{m.current=j.touches[0].clientX},v=j=>{if(!m.current||!d.current)return;const V=j.touches[0].clientX-m.current;V>0&&(d.current.style.transform=`translateX(${V}px)`)},x=j=>{if(!m.current||!d.current)return;j.changedTouches[0].clientX-m.current>70?s(!1):d.current.style.transform="",m.current=null},T=j=>{j.target.classList.contains("mobile-menu-overlay")&&s(!1)};I.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[n]);const w=()=>{localStorage.removeItem("fitgenius_user"),localStorage.removeItem("fitgenius_name"),localStorage.removeItem("fitgenius_paid_type"),localStorage.removeItem("fitgenius_meal_plan"),localStorage.removeItem("fitgenius_workout_plan"),window.location.hash="#/",setTimeout(()=>{e("/"),s(!1)},50)},S=()=>{s(!n)};return I.useEffect(()=>{const j=()=>{window.innerWidth>700&&n&&s(!1)};return window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[n]),h.jsxs("header",{className:`main-header ${a?"scrolled":""}`,ref:u,children:[h.jsxs("nav",{children:[h.jsxs("div",{className:"main-header-left",children:[h.jsx(EL,{}),h.jsxs(It,{to:"/",className:"main-logo",children:[h.jsx("div",{className:"logo-icon",children:h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("path",{d:"M12 3.5C7.30558 3.5 3.5 7.30558 3.5 12C3.5 16.6944 7.30558 20.5 12 20.5C16.6944 20.5 20.5 16.6944 20.5 12C20.5 7.30558 16.6944 3.5 12 3.5Z",stroke:"currentColor",strokeWidth:"1.5"}),h.jsx("path",{d:"M15 8.5C15 8.5 13.5 9.5 12 9.5C10.5 9.5 9 8.5 9 8.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),h.jsx("path",{d:"M8.5 14C8.5 14 9.5 16 12 16C14.5 16 15.5 14 15.5 14",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),h.jsx("path",{d:"M8.5 12H15.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})}),h.jsxs("div",{className:"logo-text",children:[h.jsx("span",{className:"logo-fit",children:"Fit"}),h.jsx("span",{className:"logo-genius",children:"Genius"})]})]})]}),h.jsxs("div",{className:"desktop-nav-links",children:[h.jsxs(It,{to:"/",className:"nav-link",children:[h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"nav-icon",children:[h.jsx("path",{d:"M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M9 22V12H15V22",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),h.jsx("span",{children:"Главная"})]}),h.jsxs(It,{to:"/prices",className:"nav-link",children:[h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"nav-icon",children:[h.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20Z",fill:"currentColor"}),h.jsx("path",{d:"M12.5 7H11V13L16.2 16.2L17 14.9L12.5 12.2V7Z",fill:"currentColor"})]}),h.jsx("span",{children:"Цены и оплата"})]}),h.jsxs(It,{to:"/reviews",className:"nav-link",children:[h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"nav-icon",children:[h.jsx("path",{d:"M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2ZM20 16H5.17L4 17.17V4H20V16Z",fill:"currentColor"}),h.jsx("path",{d:"M12 15L13.57 11.57L17 10L13.57 8.43L12 5L10.43 8.43L7 10L10.43 11.57L12 15Z",fill:"currentColor"})]}),h.jsx("span",{children:"Отзывы"})]}),h.jsxs(It,{to:"/faq",className:"nav-link",children:[h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"nav-icon",children:[h.jsx("path",{d:"M11.07 12.85C11.07 12.85 11.07 13.8 11.07 14.75C11.07 15.7 12 15.7 12 15.7C12 15.7 12.93 15.7 12.93 14.75C12.93 13.8 12.93 12.85 12.93 12.85",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),h.jsx("path",{d:"M11.5 10.5C11.5 10.5 11.5 8.5 12 8.5C12.5 8.5 12.5 8.5 13 9C13.5 9.5 14 9.5 14 9.5C14 9.5 14.5 9.5 14.5 9C14.5 8.5 14 8 13.5 7.5C13 7 12 7 12 7C12 7 11.5 7 11 7.5C10.5 8 10 8.5 10 9.5C10 10.5 10 10.5 10 10.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("circle",{cx:"12",cy:"12",r:"9",stroke:"currentColor",strokeWidth:"1.5"})]}),h.jsx("span",{children:"FAQ"})]}),t?h.jsxs(It,{to:"/dashboard",className:"nav-link",children:[h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"nav-icon",children:[h.jsx("rect",{x:"3",y:"3",width:"7",height:"9",rx:"1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("rect",{x:"3",y:"15",width:"7",height:"6",rx:"1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("rect",{x:"13",y:"3",width:"8",height:"6",rx:"1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("rect",{x:"13",y:"12",width:"8",height:"9",rx:"1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),h.jsx("span",{children:"Личный кабинет"})]}):h.jsxs(h.Fragment,{children:[h.jsxs(It,{to:"/login",className:"nav-link",children:[h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"nav-icon",children:[h.jsx("path",{d:"M15 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H15",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M10 17L15 12L10 7",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M15 12H3",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),h.jsx("span",{children:"Войти"})]}),h.jsxs(It,{to:"/register",className:"nav-link",children:[h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"nav-icon",children:[h.jsx("path",{d:"M16 21V19C16 17.9391 15.5786 16.9217 14.8284 16.1716C14.0783 15.4214 13.0609 15 12 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M8.5 11C10.7091 11 12.5 9.20914 12.5 7C12.5 4.79086 10.7091 3 8.5 3C6.29086 3 4.5 4.79086 4.5 7C4.5 9.20914 6.29086 11 8.5 11Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M20 8V14",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M23 11H17",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),h.jsx("span",{children:"Регистрация"})]})]})]}),h.jsxs("div",{className:"nav-phone",children:[h.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"nav-icon",children:h.jsx("path",{d:"M20.01 15.38C18.78 15.38 17.59 15.18 16.48 14.82C16.13 14.7 15.74 14.79 15.47 15.06L13.9 17.03C11.07 15.68 8.42 13.13 7.01 10.2L8.96 8.54C9.23 8.26 9.31 7.87 9.2 7.52C8.83 6.41 8.64 5.22 8.64 3.99C8.64 3.45 8.19 3 7.65 3H4.19C3.65 3 3 3.24 3 3.99C3 13.28 10.73 21 20.01 21C20.72 21 21 20.37 21 19.82V16.37C21 15.83 20.55 15.38 20.01 15.38Z",fill:"currentColor"})}),h.jsx("span",{children:"+375 29 897-52-19"})]}),h.jsxs("button",{className:`mobile-menu-btn ${n?"open":""}`,onClick:S,"aria-label":"Меню",title:"Меню",children:[h.jsx("span",{}),h.jsx("span",{}),h.jsx("span",{})]})]}),h.jsx("div",{className:`mobile-menu-overlay ${n?"open":""}`,onClick:T}),h.jsxs("div",{className:`mobile-menu ${n?"open":""}`,ref:d,onTouchStart:g,onTouchMove:v,onTouchEnd:x,children:[h.jsxs("div",{className:"mobile-menu-header",children:[h.jsxs(It,{to:"/",className:"mobile-menu-logo",onClick:()=>s(!1),children:[h.jsx("div",{className:"logo-icon",children:h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("path",{d:"M12 3.5C7.30558 3.5 3.5 7.30558 3.5 12C3.5 16.6944 7.30558 20.5 12 20.5C16.6944 20.5 20.5 16.6944 20.5 12C20.5 7.30558 16.6944 3.5 12 3.5Z",stroke:"currentColor",strokeWidth:"1.5"}),h.jsx("path",{d:"M15 8.5C15 8.5 13.5 9.5 12 9.5C10.5 9.5 9 8.5 9 8.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),h.jsx("path",{d:"M8.5 14C8.5 14 9.5 16 12 16C14.5 16 15.5 14 15.5 14",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),h.jsx("path",{d:"M8.5 12H15.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})}),h.jsxs("div",{className:"logo-text",children:[h.jsx("span",{className:"logo-fit",children:"Fit"}),h.jsx("span",{className:"logo-genius",children:"Genius"})]})]}),h.jsx("button",{className:"mobile-menu-close-btn",onClick:()=>s(!1),"aria-label":"Закрыть меню",children:h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",children:[h.jsx("path",{d:"M18 6L6 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),h.jsxs("div",{className:"mobile-menu-links",children:[h.jsxs(It,{to:"/",onClick:()=>s(!1),className:"mobile-menu-link",children:[h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mobile-menu-icon",children:[h.jsx("path",{d:"M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M9 22V12H15V22",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),h.jsx("span",{children:"Главная"})]}),h.jsxs(It,{to:"/prices",onClick:()=>s(!1),className:"mobile-menu-link",children:[h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mobile-menu-icon",children:[h.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20Z",fill:"currentColor"}),h.jsx("path",{d:"M12.5 7H11V13L16.2 16.2L17 14.9L12.5 12.2V7Z",fill:"currentColor"})]}),h.jsx("span",{children:"Цены и оплата"})]}),h.jsxs(It,{to:"/reviews",onClick:()=>s(!1),className:"mobile-menu-link",children:[h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mobile-menu-icon",children:[h.jsx("path",{d:"M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2ZM20 16H5.17L4 17.17V4H20V16Z",fill:"currentColor"}),h.jsx("path",{d:"M12 15L13.57 11.57L17 10L13.57 8.43L12 5L10.43 8.43L7 10L10.43 11.57L12 15Z",fill:"currentColor"})]}),h.jsx("span",{children:"Отзывы"})]}),h.jsxs(It,{to:"/faq",onClick:()=>s(!1),className:"mobile-menu-link",children:[h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mobile-menu-icon",children:[h.jsx("path",{d:"M11.07 12.85C11.07 12.85 11.07 13.8 11.07 14.75C11.07 15.7 12 15.7 12 15.7C12 15.7 12.93 15.7 12.93 14.75C12.93 13.8 12.93 12.85 12.93 12.85",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),h.jsx("path",{d:"M11.5 10.5C11.5 10.5 11.5 8.5 12 8.5C12.5 8.5 12.5 8.5 13 9C13.5 9.5 14 9.5 14 9.5C14 9.5 14.5 9.5 14.5 9C14.5 8.5 14 8 13.5 7.5C13 7 12 7 12 7C12 7 11.5 7 11 7.5C10.5 8 10 8.5 10 9.5C10 10.5 10 10.5 10 10.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("circle",{cx:"12",cy:"12",r:"9",stroke:"currentColor",strokeWidth:"1.5"})]}),h.jsx("span",{children:"FAQ"})]}),t?h.jsxs(h.Fragment,{children:[h.jsxs(It,{to:"/dashboard",onClick:()=>s(!1),className:"mobile-menu-link",children:[h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mobile-menu-icon",children:[h.jsx("rect",{x:"3",y:"3",width:"7",height:"9",rx:"1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("rect",{x:"3",y:"15",width:"7",height:"6",rx:"1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("rect",{x:"13",y:"3",width:"8",height:"6",rx:"1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("rect",{x:"13",y:"12",width:"8",height:"9",rx:"1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),h.jsx("span",{children:"Личный кабинет"})]}),h.jsxs("button",{onClick:w,className:"mobile-menu-link mobile-menu-logout",children:[h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mobile-menu-icon",children:[h.jsx("path",{d:"M9 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H9",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M16 17L21 12L16 7",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M21 12H9",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),h.jsx("span",{children:"Выйти"})]}),h.jsx("div",{className:"mobile-menu-info",children:h.jsxs("div",{className:"mobile-menu-phone-display",children:[h.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mobile-menu-icon",children:h.jsx("path",{d:"M20.01 15.38C18.78 15.38 17.59 15.18 16.48 14.82C16.13 14.7 15.74 14.79 15.47 15.06L13.9 17.03C11.07 15.68 8.42 13.13 7.01 10.2L8.96 8.54C9.23 8.26 9.31 7.87 9.2 7.52C8.83 6.41 8.64 5.22 8.64 3.99C8.64 3.45 8.19 3 7.65 3H4.19C3.65 3 3 3.24 3 3.99C3 13.28 10.73 21 20.01 21C20.72 21 21 20.37 21 19.82V16.37C21 15.83 20.55 15.38 20.01 15.38Z",fill:"currentColor"})}),h.jsx("span",{children:"+375 29 897-52-19"})]})})]}):h.jsxs(h.Fragment,{children:[h.jsxs(It,{to:"/login",onClick:()=>s(!1),className:"mobile-menu-link",children:[h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mobile-menu-icon",children:[h.jsx("path",{d:"M15 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H15",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M10 17L15 12L10 7",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M15 12H3",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),h.jsx("span",{children:"Войти"})]}),h.jsxs(It,{to:"/register",onClick:()=>s(!1),className:"mobile-menu-link",children:[h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mobile-menu-icon",children:[h.jsx("path",{d:"M16 21V19C16 17.9391 15.5786 16.9217 14.8284 16.1716C14.0783 15.4214 13.0609 15 12 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M8.5 11C10.7091 11 12.5 9.20914 12.5 7C12.5 4.79086 10.7091 3 8.5 3C6.29086 3 4.5 4.79086 4.5 7C4.5 9.20914 6.29086 11 8.5 11Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M20 8V14",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M23 11H17",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),h.jsx("span",{children:"Регистрация"})]})]})]})]})]})}function wL({children:t}){const e=localStorage.getItem("fitgenius_user"),n=xi();return e?t:h.jsx(Vb,{to:"/login",state:{from:n},replace:!0})}function SL({children:t}){const e=localStorage.getItem("fitgenius_user"),n=xi();let s="";if(e)try{if(e.startsWith("{")){const l=JSON.parse(e);l.email&&(s=l.email)}else e.includes("@")&&(s=e)}catch(l){console.error("Ошибка при парсинге данных пользователя:",l),s=e}const a=s&&ka.some(l=>l.toLowerCase()===s.toLowerCase());return console.log("AdminRoute проверка:",s,ka,a),a?t:h.jsx(Vb,{to:"/",state:{from:n},replace:!0})}function AL(){const t=Un();return h.jsxs("div",{style:{minHeight:"80vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",padding:"20px"},children:[h.jsx("h1",{style:{fontSize:"2rem",marginBottom:"1rem",color:"#1a3a2b"},children:"404"}),h.jsx("p",{style:{fontSize:"1.2rem",marginBottom:"2rem",color:"#666"},children:"Страница не найдена"}),h.jsx("button",{onClick:()=>t("/"),style:{padding:"12px 24px",borderRadius:"8px",border:"none",background:"#4fd165",color:"#fff",fontSize:"1rem",fontWeight:"600",cursor:"pointer"},children:"Вернуться на главную"})]})}function CL({open:t,onClose:e}){const n=I.useRef();return t?h.jsx("div",{className:"offer-modal-overlay",onClick:e,children:h.jsxs("div",{className:"offer-modal",onClick:s=>s.stopPropagation(),ref:n,children:[h.jsx("button",{className:"offer-modal-close",onClick:e,"aria-label":"Закрыть",children:"✕"}),h.jsx("h2",{children:"Договор оферты"}),h.jsxs("div",{className:"offer-modal-content",children:[h.jsxs("p",{children:[h.jsx("b",{children:"1. Общие положения"}),h.jsx("br",{}),"Настоящий документ является официальным предложением (офертой) ИП Лаптинский Александр Владимирович, УНП 391986581, далее — «Исполнитель», заключить договор на оказание информационных услуг дистанционным способом с любым физическим лицом, далее — «Пользователь», на условиях, изложенных ниже.",h.jsx("br",{}),"Акцепт (принятие) условий настоящей оферты осуществляется путем оплаты услуг на сайте."]}),h.jsxs("p",{children:[h.jsx("b",{children:"2. Предмет договора"}),h.jsx("br",{}),"Исполнитель предоставляет Пользователю доступ к персональным программам питания и/или тренировок, а также сопутствующим информационным материалам, размещённым на сайте. Услуги оказываются дистанционно, посредством сети Интернет."]}),h.jsxs("p",{children:[h.jsx("b",{children:"3. Права и обязанности сторон"}),h.jsx("br",{}),"Исполнитель обязуется: предоставить доступ к выбранным и оплаченным программам; обеспечивать конфиденциальность персональных данных Пользователя.",h.jsx("br",{}),"Пользователь обязуется: предоставить достоверные данные при регистрации; не передавать доступ третьим лицам; оплатить услуги в полном объёме."]}),h.jsxs("p",{children:[h.jsx("b",{children:"4. Стоимость и порядок оплаты"}),h.jsx("br",{}),"Стоимость услуг указывается на сайте. Оплата производится через платёжные системы, указанные на сайте."]}),h.jsxs("p",{children:[h.jsx("b",{children:"5. Ответственность сторон"}),h.jsx("br",{}),"Исполнитель не несёт ответственности за невозможность оказания услуг по причинам, не зависящим от него (технические сбои, действия третьих лиц и пр.). Пользователь несёт ответственность за достоверность предоставленных данных."]}),h.jsxs("p",{children:[h.jsx("b",{children:"6. Возврат средств"}),h.jsx("br",{}),"Возврат денежных средств возможен в случаях, предусмотренных законодательством Республики Беларусь."]}),h.jsxs("p",{children:[h.jsx("b",{children:"7. Персональные данные"}),h.jsx("br",{}),"Пользователь даёт согласие на обработку своих персональных данных в соответствии с Политикой конфиденциальности."]}),h.jsxs("p",{children:[h.jsx("b",{children:"8. Прочие условия"}),h.jsx("br",{}),"Исполнитель вправе вносить изменения в условия оферты без предварительного согласия Пользователя, с обязательной публикацией новой редакции на сайте. Оферта считается заключённой с момента оплаты услуг Пользователем."]}),h.jsxs("p",{children:[h.jsx("b",{children:"9. Реквизиты Исполнителя"}),h.jsx("br",{}),"ИП Лаптинский Александр Владимирович",h.jsx("br",{}),"УНП 391986581",h.jsx("br",{}),"211389, Республика Беларусь, г. Орша, ул. Могилёвская, 99-19",h.jsx("br",{}),"E-mail: support@fitgenius.ru",h.jsx("br",{}),"Тел.: +375 29 897-52-19"]})]})]})}):null}function RL({open:t,onClose:e}){const n=I.useRef();return t?h.jsx("div",{className:"offer-modal-overlay",onClick:e,children:h.jsxs("div",{className:"offer-modal",onClick:s=>s.stopPropagation(),ref:n,children:[h.jsx("button",{className:"offer-modal-close",onClick:e,"aria-label":"Закрыть",children:"✕"}),h.jsx("h2",{children:"Политика конфиденциальности"}),h.jsxs("div",{className:"offer-modal-content",children:[h.jsxs("p",{children:[h.jsx("b",{children:"1. Общие положения"}),h.jsx("br",{}),"Настоящая Политика конфиденциальности определяет порядок обработки и защиты персональных данных пользователей, которые предоставляет ИП Лаптинский Александр Владимирович (далее — «Оператор») при использовании сайта и сервисов FitGenius.",h.jsx("br",{}),"Использование сайта означает согласие пользователя с данной Политикой."]}),h.jsxs("p",{children:[h.jsx("b",{children:"2. Персональные данные, которые обрабатываются"}),h.jsx("br",{}),"Оператор может обрабатывать следующие данные:",h.jsx("br",{}),"— ФИО, e-mail, номер телефона;",h.jsx("br",{}),"— данные, предоставленные при регистрации и заполнении анкет;",h.jsx("br",{}),"— сведения о платежах (без хранения платёжных реквизитов);",h.jsx("br",{}),"— IP-адрес, данные о браузере, cookies и др."]}),h.jsxs("p",{children:[h.jsx("b",{children:"3. Цели обработки персональных данных"}),h.jsx("br",{}),"Оператор обрабатывает персональные данные для:",h.jsx("br",{}),"— предоставления доступа к сервису и персональным программам;",h.jsx("br",{}),"— обратной связи и поддержки;",h.jsx("br",{}),"— выполнения требований законодательства;",h.jsx("br",{}),"— улучшения качества сервиса."]}),h.jsxs("p",{children:[h.jsx("b",{children:"4. Передача данных третьим лицам"}),h.jsx("br",{}),"Оператор не передает персональные данные третьим лицам, за исключением случаев, предусмотренных законодательством или необходимых для выполнения обязательств (например, платёжные системы)."]}),h.jsxs("p",{children:[h.jsx("b",{children:"5. Хранение и защита данных"}),h.jsx("br",{}),"Оператор принимает все необходимые меры для защиты персональных данных от несанкционированного доступа, изменения, раскрытия или уничтожения.",h.jsx("br",{}),"Данные хранятся столько, сколько это необходимо для целей обработки."]}),h.jsxs("p",{children:[h.jsx("b",{children:"6. Права пользователя"}),h.jsx("br",{}),"Пользователь вправе запросить информацию о своих данных, требовать их исправления или удаления, а также отозвать согласие на обработку."]}),h.jsxs("p",{children:[h.jsx("b",{children:"7. Использование файлов cookie"}),h.jsx("br",{}),"Сайт может использовать cookie для улучшения пользовательского опыта. Пользователь может отключить cookie в настройках браузера."]}),h.jsxs("p",{children:[h.jsx("b",{children:"8. Изменения политики"}),h.jsx("br",{}),"Оператор вправе вносить изменения в настоящую Политику. Новая редакция вступает в силу с момента публикации на сайте."]}),h.jsxs("p",{children:[h.jsx("b",{children:"9. Контакты"}),h.jsx("br",{}),"Оператор: ИП Лаптинский Александр Владимирович",h.jsx("br",{}),"E-mail: support@fitgenius.ru",h.jsx("br",{}),"Тел.: +375 29 897-52-19"]})]})]})}):null}function NL(){const[t,e]=I.useState(!1),[n,s]=I.useState(!1);return h.jsxs("footer",{className:"main-footer",children:[h.jsx(CL,{open:t,onClose:()=>e(!1)}),h.jsx(RL,{open:n,onClose:()=>s(!1)}),h.jsxs("div",{className:"footer-top",children:[h.jsxs("div",{className:"footer-block",children:[h.jsx("b",{children:"ИП Лаптинский Александр Владимирович"}),h.jsx("br",{}),"Свидетельство о гос регистрации №391986581, выдано 19.09.2023 Оршанским районным исполнительным комитетом.",h.jsx("br",{}),"211389, Республика Беларусь, г. Орша, ул. Могилёвская, 99-19."]}),h.jsxs("div",{className:"footer-block",children:[h.jsx("button",{className:"footer-link",style:{background:"none",border:"none",padding:0,cursor:"pointer"},onClick:()=>e(!0),children:"Договор Оферты"}),h.jsx("br",{}),h.jsx("button",{className:"footer-link",style:{background:"none",border:"none",padding:0,cursor:"pointer"},onClick:()=>s(!0),children:"Политика Конфиденциальности"})]}),h.jsxs("div",{className:"footer-block",children:[h.jsx("span",{style:{fontWeight:600},children:"+375 29 897-52-19"}),h.jsx("br",{}),h.jsx("a",{href:"mailto:support@fitgenius.ru",className:"footer-link",children:"support@fitgenius.ru"}),h.jsx("br",{})]})]}),h.jsx("div",{className:"footer-pay-logos",children:h.jsx("img",{src:"/fitness-planner/footer-pay-logos.png",alt:"Платёжные системы",className:"footer-pay-logos-img"})})]})}function IL(){return I.useEffect(()=>{async function t(){let e="";try{e=(await(await fetch("https://api.ipify.org?format=json")).json()).ip}catch{}const n=localStorage.getItem("fitgenius_user")||null,s=navigator.userAgent,a=window.location.pathname;G3({email:n,ip:e,userAgent:s,page:a})}t()},[]),h.jsxs(YN,{children:[h.jsx(bL,{}),h.jsxs(wN,{children:[h.jsx(Qt,{path:"/",element:h.jsx(sI,{})}),h.jsx(Qt,{path:"/choose",element:h.jsx(rI,{})}),h.jsx(Qt,{path:"/questionnaire",element:h.jsx(Q3,{})}),h.jsx(Qt,{path:"/pay",element:h.jsx(yL,{})}),h.jsx(Qt,{path:"/payment",element:h.jsx(V6,{})}),h.jsx(Qt,{path:"/dashboard",element:h.jsx(wL,{children:h.jsx(H6,{})})}),h.jsx(Qt,{path:"/about",element:h.jsx(q6,{})}),h.jsx(Qt,{path:"/reviews",element:h.jsx(K6,{})}),h.jsx(Qt,{path:"/blog",element:h.jsx(Y6,{})}),h.jsx(Qt,{path:"/faq",element:h.jsx(W6,{})}),h.jsx(Qt,{path:"/contacts",element:h.jsx(Z6,{})}),h.jsx(Qt,{path:"/login",element:h.jsx(J6,{})}),h.jsx(Qt,{path:"/register",element:h.jsx(eL,{})}),h.jsx(Qt,{path:"/admin",element:h.jsx(SL,{children:h.jsx(fL,{})})}),h.jsx(Qt,{path:"/prices",element:h.jsx(TL,{})}),h.jsx(Qt,{path:"*",element:h.jsx(AL,{})})]}),h.jsx(NL,{})]})}const jL=()=>{if(!window.location.search.includes("_t=")){const e=Date.now(),n=window.location.search?"&":"?",s=`${window.location.href}${n}_t=${e}`;window.location.replace(s)}},DL=()=>{"caches"in window&&caches.keys().then(t=>{t.forEach(e=>{caches.delete(e),console.log(`Cache ${e} deleted`)})})},ML=()=>{Array.from(document.styleSheets).forEach(e=>{if(e.href){const n=document.createElement("link");n.rel="stylesheet",n.href=`${e.href.split("?")[0]}?_t=${Date.now()}`,document.head.appendChild(n),n.onload=()=>{const s=document.querySelector(`link[href="${e.href}"]`);s&&s.remove()}}})},JA=()=>{DL(),ML(),jL(),localStorage.setItem("cache_version",Date.now().toString()),console.log("Cache cleared and resources refreshed at:",new Date().toISOString())};window.addEventListener("load",JA);document.addEventListener("visibilitychange",()=>{if(document.visibilityState==="visible"){const t=localStorage.getItem("cache_version"),e=Date.now();(!t||e-parseInt(t)>5*60*1e3)&&JA()}});MR.createRoot(document.getElementById("root")).render(h.jsx(I.StrictMode,{children:h.jsx(IL,{})}));
